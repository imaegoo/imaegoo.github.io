function escape(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function source(e){return e?"string"==typeof e?e:e.source:null}function lookahead(e){return concat("(?=",e,")")}function concat(...e){return e.map(e=>source(e)).join("")}function stripOptionsFromArgs(e){var n=e[e.length-1];return"object"==typeof n&&n.constructor===Object?(e.splice(e.length-1,1),n):{}}function either(...e){return"("+(stripOptionsFromArgs(e).capture?"":"?:")+e.map(e=>source(e)).join("|")+")"}function fsharp(t){var e={scope:"keyword",match:/\b(yield|return|let|do|match|use)!/};const i=["bool","byte","sbyte","int8","int16","int32","uint8","uint16","uint32","int","uint","int64","uint64","nativeint","unativeint","decimal","float","double","float32","single","char","string","unit","bigint","option","voption","list","array","seq","byref","exn","inref","nativeptr","obj","outref","voidptr","Result"];const o={keyword:["abstract","and","as","assert","base","begin","class","default","delegate","do","done","downcast","downto","elif","else","end","exception","extern","finally","fixed","for","fun","function","global","if","in","inherit","inline","interface","internal","lazy","let","match","member","module","mutable","namespace","new","of","open","or","override","private","public","rec","return","static","struct","then","to","try","type","upcast","use","val","void","when","while","with","yield"],literal:["true","false","null","Some","None","Ok","Error","infinity","infinityf","nan","nanf"],built_in:["not","ref","raise","reraise","dict","readOnlyDict","set","get","enum","sizeof","typeof","typedefof","nameof","nullArg","invalidArg","invalidOp","id","fst","snd","ignore","lock","using","box","unbox","tryUnbox","printf","printfn","sprintf","eprintf","eprintfn","fprintf","fprintfn","failwith","failwithf"],"variable.constant":["__LINE__","__SOURCE_DIRECTORY__","__SOURCE_FILE__"]},a={variants:[t.COMMENT(/\(\*(?!\))/,/\*\)/,{contains:["self"]}),t.C_LINE_COMMENT_MODE]};const r={scope:"variable",begin:/``/,end:/``/};var n=/\B('|\^)/;const c={scope:"symbol",variants:[{match:concat(n,/``.*?``/)},{match:concat(n,t.UNDERSCORE_IDENT_RE)}],relevance:0};function s({includeEqual:e}){let n;n=e?"!%&*+-/<=>@^|~?":"!%&*+-/<>@^|~?";var t=either(e=concat("[",...Array.from(n).map(escape),"]"),/\./),i=concat(t,lookahead(t)),i=either(concat(i,t,"*"),concat(e,"+"));return{scope:"operator",match:either(i,/:\?>/,/:\?/,/:>/,/:=/,/::?/,/\$/),relevance:0}}n=s({includeEqual:!0});const l=s({includeEqual:!1});function p(e,n){return{begin:concat(e,lookahead(concat(/\s*/,either(/\w/,/'/,/\^/,/#/,/``/,/\(/,/{\|/)))),beginScope:n,end:lookahead(either(/\n/,/=/)),relevance:0,keywords:t.inherit(o,{type:i}),contains:[a,c,t.inherit(r,{scope:null}),l]}}var u=p(/:/,"operator"),d=p(/\bof\b/,"keyword"),f={begin:[/(^|\s+)/,/type/,/\s+/,/[a-zA-Z_](\w|')*/],beginScope:{2:"keyword",4:"title.class"},end:lookahead(/\(|=|$/),keywords:o,contains:[a,t.inherit(r,{scope:null}),c,{scope:"operator",match:/<|>/},u]},h={scope:"computation-expression",match:/\b[_a-z]\w*(?=\s*\{)/},b={begin:[/^\s*/,concat(/#/,either("if","else","endif","line","nowarn","light","r","i","I","load","time","help","quit")),/\b/],beginScope:{2:"meta"},end:lookahead(/\s|$/)},g={variants:[t.BINARY_NUMBER_MODE,t.C_NUMBER_MODE]},m={scope:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]},y={scope:"string",begin:/@"/,end:/"/,contains:[{match:/""/},t.BACKSLASH_ESCAPE]},E={scope:"string",begin:/"""/,end:/"""/,relevance:2},_={scope:"subst",begin:/\{/,end:/\}/,keywords:o},v={scope:"string",begin:/\$"/,end:/"/,contains:[{match:/\{\{/},{match:/\}\}/},t.BACKSLASH_ESCAPE,_]},A={scope:"string",begin:/(\$@|@\$)"/,end:/"/,contains:[{match:/\{\{/},{match:/\}\}/},{match:/""/},t.BACKSLASH_ESCAPE,_]},w={scope:"string",begin:/\$"""/,end:/"""/,contains:[{match:/\{\{/},{match:/\}\}/},_],relevance:2},S={scope:"string",match:concat(/'/,either(/[^\\']/,/\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8})/),/'/)},_=(_.contains=[A,v,y,m,S,e,a,r,u,h,b,g,c,n],{variants:[w,A,v,E,y,m,S]});return{name:"F#",aliases:["fs","f#"],keywords:o,illegal:/\/\*/,classNameAliases:{"computation-expression":"keyword"},contains:[e,_,a,r,f,{scope:"meta",begin:/\[</,end:/>\]/,relevance:2,contains:[r,E,y,m,S,g]},d,u,h,b,g,c,n]}}module.exports=fsharp;