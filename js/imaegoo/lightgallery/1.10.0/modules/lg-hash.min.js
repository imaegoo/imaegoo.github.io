!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(t){!function(){"use strict";function e(e){return this.core=t(e).data("lightGallery"),this.core.s=t.extend({},o,this.core.s),this.core.s.hash&&(this.oldHash=window.location.hash,this.init()),this}var o={hash:!0};e.prototype.init=function(){var o,i=this;i.core.$el.on("onAfterSlide.lg.tm",function(e,o,t){history.replaceState?history.replaceState(null,null,window.location.pathname+window.location.search+"#lg="+i.core.s.galleryId+"&slide="+t):window.location.hash="lg="+i.core.s.galleryId+"&slide="+t}),t(window).on("hashchange.lg.hash",function(){o=window.location.hash;var e=parseInt(o.split("&slide=")[1],10);-1<o.indexOf("lg="+i.core.s.galleryId)?i.core.slide(e,!1,!1):i.core.lGalleryOn&&i.core.destroy()})},e.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?history.replaceState?history.replaceState(null,null,this.oldHash):window.location.hash=this.oldHash:history.replaceState?history.replaceState(null,document.title,window.location.pathname+window.location.search):window.location.hash="",this.core.$el.off(".lg.hash"))},t.fn.lightGallery.modules.hash=e}()});