<!doctype html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="robots" content="noindex"><meta><title>分类: Tech - 虹墨空间站</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="虹墨空间站"><meta name="msapplication-TileImage" content="/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="虹墨空间站"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="iMaeGoo&amp;#39;s Blog"><meta property="og:type" content="website"><meta property="og:title" content="虹墨空间站"><meta property="og:url" content="https://www.imaegoo.com/"><meta property="og:site_name" content="虹墨空间站"><meta property="og:description" content="iMaeGoo&amp;#39;s Blog"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.imaegoo.com/images/og_image.png"><meta property="article:author" content="iMaeGoo"><meta property="article:tag" content="iMaeGoo,虹墨,博客,blog,hexo,icarus,前端,vue,twikoo"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://www.imaegoo.com/images/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.imaegoo.com"},"headline":"虹墨空间站","image":["https://www.imaegoo.com/images/og_image.png"],"author":{"@type":"Person","name":"iMaeGoo"},"publisher":{"@type":"Organization","name":"虹墨空间站","logo":{"@type":"ImageObject","url":{"light":"/images/logo.png","dark":"/images/logo-dark.png"}}},"description":"iMaeGoo&#39;s Blog"}</script><link rel="alternate" href="/atom.xml" title="虹墨空间站" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/font/fontawesome/css/all.min.css"><link data-pjax rel="stylesheet" href="/js/imaegoo/highlight.js/11.7.0/styles/vs.css"><link data-pjax rel="stylesheet" href="/css/default.css"><script src="https://vercount.one/js" defer="defer"></script><link rel="stylesheet" href="/js/imaegoo/lightgallery/1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="/js/imaegoo/justifiedGallery/3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-RCCCLYKRH5" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RCCCLYKRH5")</script><link rel="stylesheet" href="/js/imaegoo/cookieconsent/3.1.1/build/cookieconsent.min.css"><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><meta name="generator" content="Hexo 7.1.1"></head><body class="is-3-column"><script type="text/javascript" src="/js/imaegoo/night.js"></script><canvas id="universe"></canvas><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img class="logo-img" src="/images/logo.png" alt="虹墨空间站" height="28"><img class="logo-img-dark" src="/images/logo-dark.png" alt="虹墨空间站" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives/">时间轴</a><a class="navbar-item" href="/categories/">分类</a><a class="navbar-item" href="/tags/">标签</a><a class="navbar-item" href="/messages/">留言板</a><a class="navbar-item" href="/friends/">友情链接</a><a class="navbar-item" href="/moments/">友链朋友圈</a><a class="navbar-item" href="/about/">关于</a></div><div class="navbar-end"><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories/">分类</a></li><li class="is-active"><a href="#" aria-current="page">Tech</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-05-07T04:55:00.000Z" title="2021/5/7 12:55:00">2021-05-07</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">2 分钟读完 (大约368个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/git-tracking-image/">Cloudflare Worker 无服务器追查 Git 仓库代码泄露</a></p><div class="content"><p>大部分 Git 平台，如 Github、Gitlab 等，会在打开仓库时自动渲染 README.md，而我们利用这一特性，通过对 README.md 中的图片访问日志加以记录，可以实现追查代码泄露的目的。</p><p>如果你还没有 Cloudflare 账号，可以<a target="_blank" rel="noopener" href="https://dash.cloudflare.com/sign-up">申请一个</a>。</p><p>登录 Cloudflare 后，进入 Workers 页面，点击 KV。</p></div><a class="article-more button is-small is-size-7" href="/2021/git-tracking-image/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-02-26T04:55:00.000Z" title="2021/2/26 12:55:00">2021-02-26</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">5 分钟读完 (大约762个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/js-promise-exam/">Javascript Promise 20 题，加深理解 Promise</a></p><div class="content"><h3 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">1</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2021/js-promise-exam/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-02-07T04:55:00.000Z" title="2021/2/7 12:55:00">2021-02-07</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">5 分钟读完 (大约770个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/hello-vitepress/">体验 VitePress：文档编译还能这么快！</a></p><div class="content"><p>基于 VuePress 的项目文档的编译速度一直让我很苦恼，启动一次 dev server 要大约半分钟的时间，而且哪怕只有一个 Hello World，速度也是这么慢。相比之下，Hexo 都比它快。这当然不只是 VuePress 本身的问题，要说还得归咎于 Webpack。</p><p>于是 Vite 诞生了，一起诞生的还有 VitePress。好耶！虽然 VitePress 仍处于 WIP 阶段，告诉我们不要在任何地方使用，但我们可以提前对比一下，它究竟能比 VuePress 快多少？我们使用基于 VuePress 的 Twikoo 文档测试一下。</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add -D vitepress</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2021/hello-vitepress/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-12-24T04:30:00.000Z" title="2020/12/24 12:30:00">2020-12-24</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/serverless/">Serverless</a></span><span class="level-item">5 分钟读完 (大约734个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/tcb-functions-async/">腾讯云云开发云函数 之 异步执行，提前返回</a></p><div class="content"><p>云函数的特性是，当 <code>main</code> 函数 return 时，执行进程会被立即冻结。这一点在官方文档<a target="_blank" rel="noopener" href="https://docs.cloudbase.net/cloud-function/deep-principle.html#node-js-8-de-yi-bu-xing-wei">Node.js 8 的异步行为</a>中有提到。</p><blockquote><p>对于异步函数，主流程执行完成后，函数实例进程会<strong>被冻结</strong>，进程中的所有异步任务会暂停执行，直到这个进程被再次唤起。<br>另一方面，如果函数实例进程由于某些原因<strong>没被复用</strong>（例如更新了函数代码），这个异步流程中的代码就<strong>永远不会被执行</strong>。</p></blockquote><p>但是有些场景下，云函数需要很长的执行时间，例如，Twikoo 通过 Akismet 检测垃圾评论的过程。按照特性，在检测过程结束前，就不能异步检测，提前返回结果给前端，否则检测进程就会被冻结，导致检测失败。我们只能 await 同步检测，造成请求响应慢，用户体验差。</p><p>按照 Java 的习惯，我们会启动新的线程执行长时间的任务，在云函数中怎样实现？</p></div><a class="article-more button is-small is-size-7" href="/2020/tcb-functions-async/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-12-10T09:00:00.000Z" title="2020/12/10 17:00:00">2020-12-10</time>发表</span><span class="level-item"><time datetime="2020-12-10T09:30:00.000Z" title="2020/12/10 17:30:00">2020-12-10</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/serverless/">Serverless</a></span><span class="level-item">4 分钟读完 (大约659个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/tcb-functions-upload/">腾讯云云开发云函数 之 文件导入功能</a></p><div class="content"><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>Twikoo 评论系统要实现导入功能，导入，就需要上传文件。</p><p>通过调用云函数，我们能够传递 string、number 等简单的参数，想要上传文件？不太行。</p><p>想到云开发环境有一块默认开通的 COS 空间，这块空间允许登录用户上传文件，只要利用这片空间，就可以实现将文件上传给云函数的功能了。</p><h3 id="主要思路"><a href="#主要思路" class="headerlink" title="主要思路"></a>主要思路</h3><ol><li>前端调用 js-sdk 上传文件，获取到 fileID</li><li>前端将 fileID 作为参数，调用云函数</li><li>云函数通过 fileID 获取到文件，并解析</li></ol></div><a class="article-more button is-small is-size-7" href="/2020/tcb-functions-upload/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-12-01T09:30:00.000Z" title="2020/12/1 17:30:00">2020-12-01</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">3 分钟读完 (大约502个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/weixin-miniprogram-ios-text-width-bug/">解决微信小程序在 iPhone iOS 上 text 宽度只有一半导致的不居中等种种问题</a></p><div class="content"><h3 id="现象"><a href="#现象" class="headerlink" title="现象"></a>现象</h3><p>当小程序中使用第三方字体时，在 iPhone 11 和 iPhone 12 机型下</p><ul><li>中文字正常</li><li>英文字和数字，居中和右对齐异常</li></ul><p><img src="/gallery/2020/weixin-miniprogram-ios-text-width-bug.jpg"></p><p>这个问题只能在几个特定的机型下出现，不用第三方字体也没有这个问题，安卓机型和开发者工具也重现不了，甚至 iPhone 12 mini 用同一版本也不能重现。</p><p>微信版本：7.0.18<br>小程序基础库：2.14.0<br>iOS：14.2</p><p>这未免也太奇怪了。</p></div><a class="article-more button is-small is-size-7" href="/2020/weixin-miniprogram-ios-text-width-bug/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-10-30T05:00:00.000Z" title="2020/10/30 13:00:00">2020-10-30</time>发表</span><span class="level-item"><time datetime="2020-12-10T09:30:00.000Z" title="2020/12/10 17:30:00">2020-12-10</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/serverless/">Serverless</a></span><span class="level-item">3 分钟读完 (大约476个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/tcb-functions-dry/">腾讯云云开发云函数 之 代码共用</a></p><div class="content"><p>腾讯云云开发云函数的<a target="_blank" rel="noopener" href="https://docs.cloudbase.net/faq/functions.html">文档</a>中写道——</p><blockquote><p>不同的云函数可以共用代码文件（目录）吗<br>未上线</p></blockquote><p>如果是简单的云函数，这一点还能接受，在开发 Twikoo 评论系统的过程中，云函数要实现的 API 越来越多，逐渐让我发现了它的弊端：</p><ol><li>大量的代码复制！</li><li>版本管理非常不便！</li><li>依赖管理非常不便！</li><li>一次要部署十来个云函数，很麻烦！</li><li>每个云函数都有独立的冷启动时间，很慢！</li></ol><p>显然违反了开发的 DRY 原则，这迫使我开始思考解决方案。</p><p>正常的思维是，一个 API 写一个云函数，如果将云函数合并，用一个云函数实现不同的功能，能否解决这样的问题呢？</p></div><a class="article-more button is-small is-size-7" href="/2020/tcb-functions-dry/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-09-24T01:43:00.000Z" title="2020/9/24 09:43:00">2020-09-24</time>发表</span><span class="level-item"><time datetime="2020-09-24T05:40:00.000Z" title="2020/9/24 13:40:00">2020-09-24</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">4 分钟读完 (大约582个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/weixin-miniprogram-get-path/">无需开发/体验权限，获取任意微信小程序卡片页面路径</a></p><div class="content"><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>工作上正在开发的一款小程序，需要链接到京东购物的一个活动页面。经过搜索发现，除了在小程序内嵌 Webview，小程序内不能直接跳转一个网页，但是京东也是有自己的小程序的，我们可以跳转到京东的小程序吗？查找文档发现可以用 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/miniprogram-navigate/wx.navigateToMiniProgram.html">wx.navigateToMiniProgram</a> 打开另一个小程序。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wx.<span class="title function_">navigateToMiniProgram</span>(&#123;</span><br><span class="line">  <span class="attr">appId</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 要打开的小程序 appId</span></span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span> <span class="comment">// 打开的页面路径，如果为空则打开首页</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>现在需要的就是京东小程序的 appId 和活动页面的 path 了！</p><p>一番操作后，我发现微信 APP 上既不能获取到小程序的 appId 也不能获取到活动页面的 path，若要获得这两样东西，得开启调试才行，想开启调试，至少要成为小程序开发者……</p><p>京东小程序的开发者，我怎么可能拿得到嘛，我连他们的开发者都接触不到！</p></div><a class="article-more button is-small is-size-7" href="/2020/weixin-miniprogram-get-path/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-09-15T02:55:00.000Z" title="2020/9/15 10:55:00">2020-09-15</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">几秒读完 (大约80个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/vuepress-default-theme-slot/">VuePress 自定义默认主题页眉页脚</a></p><div class="content"><h3 id="方式"><a href="#方式" class="headerlink" title="方式"></a>方式</h3><p>添加 2 个文件</p><figure class="highlight js"><figcaption><span>.vuepress/theme/index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">extend</span>: <span class="string">&#x27;@vuepress/theme-default&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><figcaption><span>.vuepress/theme/layouts/Layout.vue</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ParentLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">sidebar-top</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>My custom sidebar-top<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">sidebar-bottom</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>My custom sidebar-bottom<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">page-top</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>My custom page-top<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">page-bottom</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>My custom page-bottom<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ParentLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">ParentLayout</span> <span class="keyword">from</span> <span class="string">&#x27;@parent-theme/layouts/Layout.vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;Layout&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ParentLayout</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2020/vuepress-default-theme-slot/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-09-05T07:35:00.000Z" title="2020/9/5 15:35:00">2020-09-05</time>发表</span><span class="level-item"><time datetime="2020-09-15T02:41:00.000Z" title="2020/9/15 10:41:00">2020-09-15</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">1 分钟读完 (大约220个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/hello-twikoo/">博客已启用 Twikoo 评论系统</a></p><div class="content"><p>评论系统一直是静态网站的痛点。</p><ul><li>Valine：安全性不高</li><li>Gitalk：需要评论者注册Github</li><li>Disqus：需要注册，国内访问不畅</li><li>畅言：广告多，需要验证手机号</li></ul><p>难道就没有一个完美的方案？</p><p>在<del>咕咕咕了</del>近三个月后，我自己搞出了一套评论系统，并命名为 Twikoo。</p><ul><li>成本上，腾讯云云开发环境可以<strong>免费搭建</strong></li><li>安全性上，使用腾讯云云函数开发接口，不开放一丁点数据库权限，未来更新将接入 Akismet 反垃圾检查</li><li>易用性上，支持点赞、邮件通知、微信通知（限博主），未来会增加更多玩法</li></ul><p>欢迎访问 <a target="_blank" rel="noopener" href="https://twikoo.js.org/">twikoo.js.org</a> 了解更多。</p></div><a class="article-more button is-small is-size-7" href="/2020/hello-twikoo/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-08-08T03:05:00.000Z" title="2020/8/8 11:05:00">2020-08-08</time>发表</span><span class="level-item"><time datetime="2020-09-03T05:27:00.000Z" title="2020/9/3 13:27:00">2020-09-03</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">4 分钟读完 (大约609个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/valine-private/">Valine 1.4 如何保护评论者的邮箱和 IP</a></p><div class="content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>AyagawaSeirin 提出了一个 Valine 隐私安全漏洞，<a target="_blank" rel="noopener" href="https://github.com/xCss/Valine/issues/336">发送请求中响应内容明文暴露评论者IP、邮箱等隐私内容</a>，所以我就去查了一下 LeanCloud 文档，发现可以<a target="_blank" rel="noopener" href="https://leancloud.cn/docs/data_security.html#hash723958571">手动更改字段权限</a>，但是，如果设置 <code>mail</code> 客户端不可见，将不会显示评论者的 Gravatar，转为显示默认头像，因为原版是取到明文邮箱后再转 MD5 取头像的。想到的解决办法是新增一个可见字段存储 mail 的 MD5，需要改 Valine 源码，还需要处理现有数据。</p><p>以下是我实现的魔改版本，基于 Valine.min.js 版本 1.4.14 修改。该魔改版新增一个可见字段（<code>mailMd5</code>）存储 mail 的 MD5，并提供了脚本处理现有评论数据。</p></div><a class="article-more button is-small is-size-7" href="/2020/valine-private/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-08-03T07:55:00.000Z" title="2020/8/3 15:55:00">2020-08-03</time>发表</span><span class="level-item"><time datetime="2020-08-06T09:55:00.000Z" title="2020/8/6 17:55:00">2020-08-06</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">2 分钟读完 (大约234个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/css-prefers-color-scheme/">神奇的 @media (prefers-color-scheme: dark)</a></p><div class="content"><p>夜间模式已经实现很久了，当初有人跟我讲，可以增加一个按时间切换的功能。</p><p>直到我在无意间查看 <a target="_blank" rel="noopener" href="https://reabble.cn/">Reabble</a> 阅读器的 CSS 样式时，发现了 <code>@media (prefers-color-scheme: dark)</code> 选择器。</p><blockquote><p><strong>来自</strong>：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/prefers-color-scheme">prefers-color-scheme - CSS（层叠样式表） | MDN</a><br>prefers-color-scheme CSS 媒体特性用于检测用户是否有将系统的主题色设置为亮色或者暗色。</p></blockquote><p>简而言之，就是可以实现随系统（或浏览器）的深、浅色模式设置，改变网页配色。</p><p>我觉得这是比按时间切换更好的一个实现，跟随系统设置比跟随时间更加人性化一些，毕竟还有我这种，白天开深色，晚上开浅色的异类（逃）</p></div><a class="article-more button is-small is-size-7" href="/2020/css-prefers-color-scheme/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-08-01T13:55:00.000Z" title="2020/8/1 21:55:00">2020-08-01</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">6 分钟读完 (大约831个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/vuepress-encrypt/">VuePress 密码加密文章</a></p><div class="content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>事情的起因是，我需要一个存放未分类整理知识点，以及收藏转载文章的私人知识库，和 iMaeGoo’s Blog 区别开来。</p><p>我尝试过简书、语雀、Evernote、OneNote、有道云笔记，对它们的 markdown 支持、导出能力、搜索能力、容量、安全性都有体会。</p><p><img src="/gallery/2020/vuepress-encrypt-5.png" alt="频繁的整顿让我对其安全性产生担忧"></p><p>最后我决定建一个私人 Git 仓库，用 markdown 来记笔记。然后通过 CI&#x2F;CD 自动构建到一个叫 iMaeGoo’s Diary 的 VuePress 网站。写笔记 Notepad + Git 就能搞定，还能自由选择多种多样的 markdown 编辑器，手机端也可以通过在线 IDE 更新内容，VuePress 的搜索非常好用，安全性也完全在自己的掌控范围之内。</p><p>反正是知识库嘛，我配置了完全公开，方便自己随时随地查看，但由于是未经整理的知识库，也不建议访客去看啦。</p><p>问题就来了，有些笔记包含了敏感信息，怎么在公开的知识库中保护这类信息？</p><p>在寻找 VuePress 加密时，我发现了 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/@oak-tree-house/vuepress-plugin-encrypt">vuepress-plugin-encrypt</a> 这个好用的插件，使用了 <code>aes-128-ctr</code> 来加密内容，你可以直接查看它的<a target="_blank" rel="noopener" href="https://szp15.com/2020/02/04/plugin-encrypt-doc/">英文官方文档</a>。</p></div><a class="article-more button is-small is-size-7" href="/2020/vuepress-encrypt/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-08-01T03:34:00.000Z" title="2020/8/1 11:34:00">2020-08-01</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">3 分钟读完 (大约458个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/h5-smooth-scroll/">PC 浏览器平滑惯性滚动（smooth scroll）一套简单实现</a></p><div class="content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>主要是 Bing 找了许多 libraries。效果在 Chrome for Windows 上都不理想，要么滚动很生硬，要么就是太复杂，就自己实现了。</p><p>本来是 PC only 的，写好后测试了一下移动端，是兼容的，效果也还不错……</p><p><em>不过反正移动端都自带惯性滑动了</em></p><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="columns" style="width:100%"><div class="column"><h3 id="无惯性滚动">无惯性滚动</h3><div class="ss-container"><div class="ss-box" style="background-color:#0067a6"></div><div class="ss-box" style="background-color:#00abd8"></div><div class="ss-box" style="background-color:#008972"></div><div class="ss-box" style="background-color:#efc028"></div><div class="ss-box" style="background-color:#f2572d"></div></div></div><div class="column"><h3 id="有惯性滚动">有惯性滚动</h3><div class="ss-container" id="smooth-scrollable"><div class="smooth-scroll"><div class="ss-container-body" id="smooth-target"><div class="ss-box" style="background-color:#0067a6"></div><div class="ss-box" style="background-color:#00abd8"></div><div class="ss-box" style="background-color:#008972"></div><div class="ss-box" style="background-color:#efc028"></div><div class="ss-box" style="background-color:#f2572d"></div></div></div><div class="ss-container-hitbox"></div></div></div></div><style>.ss-container{width:100%;height:500px;position:relative;overflow-y:auto}.ss-container.smooth{overflow-y:hidden}.ss-container-body{width:100%;position:absolute;transition:transform 1s cubic-bezier(.23,1,.32,1)}.ss-container-hitbox{width:100%;height:1500px}.ss-box{width:100%;height:300px}.smooth-scroll{position:-webkit-sticky;position:sticky;top:0;width:100%}</style><script>
document.getElementById('smooth-scrollable').onscroll = (e) => {
  const target = e.currentTarget
  document.getElementById('smooth-target').style.transform = `translateY(-${target.scrollTop}px)`
}
</script></div><a class="article-more button is-small is-size-7" href="/2020/h5-smooth-scroll/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-07-22T01:55:00.000Z" title="2020/7/22 09:55:00">2020-07-22</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">2 分钟读完 (大约290个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/edge-error/">解决 Edge 浏览器 SCRIPT5022: Exception thrown and not caught</a></p><div class="content"><p>JS 代码在 Safari, Chrome, Firefox 都是好的，就只有 Edge 莫名其妙地报错。</p><p><img src="/gallery/2020/edge-error-1.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SCRIPT5022: Exception thrown and not caught</span><br></pre></td></tr></table></figure><p>未捕获的异常？EXM？你倒是说是什么异常啊？行号还是错的？点过去无法定位错误位置？<code>hash-navigation.js</code>？我的项目里根本都没有这个 js 啊喂！</p></div><a class="article-more button is-small is-size-7" href="/2020/edge-error/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-07-04T04:11:37.000Z" title="2020/7/4 12:11:37">2020-07-04</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">3 分钟读完 (大约401个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/css-rotating-ball/">纯 CSS 实现椭圆轨迹旋转小球</a></p><div class="content"><h3 id="话不多说看效果"><a href="#话不多说看效果" class="headerlink" title="话不多说看效果"></a>话不多说看效果</h3><div class="frame"><div class="ball one"></div><div class="ball two"></div><div class="ball three"></div></div><style>.frame{background-color:#eee;position:relative;width:300px;height:200px}.ball{width:100px;height:100px;border-radius:100%;position:absolute;animation:animX 3s cubic-bezier(.36,0,.64,1) infinite alternate,animY 3s cubic-bezier(.36,0,.64,1) infinite alternate,scale 3s cubic-bezier(.36,0,.64,1) infinite alternate}.ball.one{background-color:#ffc;animation-delay:-6s,-4.5s,-4.5s}.ball.two{background-color:#cff;animation-delay:-4s,-2.5s,-2.5s}.ball.three{background-color:#fcc;animation-delay:-2s,-.5s,-.5s}@keyframes animX{0%{left:0}100%{left:200px}}@keyframes animY{0%{top:0}100%{top:100px}}@keyframes scale{0%{transform:scale(.7)}100%{transform:scale(1)}}</style></div><a class="article-more button is-small is-size-7" href="/2020/css-rotating-ball/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-06-04T08:59:17.000Z" title="2020/6/4 16:59:17">2020-06-04</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">7 分钟读完 (大约1065个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/azure-mysql-jdbc-ssl-issue/">JDBC 连接 Azure Database for MySQL 报错 SSL peer shut down incorrectly 的解决</a></p><div class="content"><p>这个问题找了一天的原因，如果你也遇到了这个问题，希望能帮到你。</p><p><img src="/gallery/2020/azure-mysql-jdbc-ssl-issue.png"></p><p>完整错误信息：</p><figure class="highlight plaintext"><figcaption><span>点击展开 >folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">03-Jun-2020 07:52:22.772 SEVERE [main] org.apache.tomcat.jdbc.pool.ConnectionPool.init Unable to create initial connections of pool.</span><br><span class="line">	com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</span><br><span class="line"></span><br><span class="line">The last packet successfully received from the server was 384 milliseconds ago.  The last packet sent successfully to the server was 376 milliseconds ago.</span><br><span class="line">		at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</span><br><span class="line">		at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)</span><br><span class="line">		at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)</span><br><span class="line">		at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)</span><br><span class="line">		at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)</span><br><span class="line">		at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1117)</span><br><span class="line">		at com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:105)</span><br><span class="line">		at com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:5126)</span><br><span class="line">		at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1666)</span><br><span class="line">		at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)</span><br><span class="line">		at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)</span><br><span class="line">		at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)</span><br><span class="line">		at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)</span><br><span class="line">		at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)</span><br><span class="line">		at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)</span><br><span class="line">		at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</span><br><span class="line">		at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)</span><br><span class="line">		at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)</span><br><span class="line">		at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)</span><br><span class="line">		at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)</span><br><span class="line">		at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)</span><br><span class="line">		at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:744)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:676)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:483)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:154)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.DataSourceFactory.createDataSource(DataSourceFactory.java:560)</span><br><span class="line">		at org.apache.tomcat.jdbc.pool.DataSourceFactory.getObjectInstance(DataSourceFactory.java:244)</span><br><span class="line">		at org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)</span><br><span class="line">		at java.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:325)</span><br><span class="line">		at org.apache.naming.NamingContext.lookup(NamingContext.java:857)</span><br><span class="line">		at org.apache.naming.NamingContext.lookup(NamingContext.java:160)</span><br><span class="line">		at org.apache.naming.NamingContext.lookup(NamingContext.java:843)</span><br><span class="line">		at org.apache.naming.NamingContext.lookup(NamingContext.java:174)</span><br><span class="line">		at org.apache.catalina.core.NamingContextListener.addResource(NamingContextListener.java:1017)</span><br><span class="line">		at org.apache.catalina.core.NamingContextListener.createNamingContext(NamingContextListener.java:557)</span><br><span class="line">		at org.apache.catalina.core.NamingContextListener.lifecycleEvent(NamingContextListener.java:253)</span><br><span class="line">		at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)</span><br><span class="line">		at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:924)</span><br><span class="line">		at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)</span><br><span class="line">		at org.apache.catalina.startup.Catalina.start(Catalina.java:633)</span><br><span class="line">		at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">		at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span><br><span class="line">		at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">		at java.base/java.lang.reflect.Method.invoke(Method.java:566)</span><br><span class="line">		at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:344)</span><br><span class="line">		at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)</span><br><span class="line">	Caused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake</span><br><span class="line">		at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1322)</span><br><span class="line">		at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1160)</span><br><span class="line">		at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)</span><br><span class="line">		at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)</span><br><span class="line">		at com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:90)</span><br><span class="line">		... 44 more</span><br><span class="line">		Suppressed: java.net.SocketException: Broken pipe (Write failed)</span><br><span class="line">			at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)</span><br><span class="line">			at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)</span><br><span class="line">			at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)</span><br><span class="line">			at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)</span><br><span class="line">			at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:351)</span><br><span class="line">			at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263)</span><br><span class="line">			at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:405)</span><br><span class="line">			... 45 more</span><br><span class="line">	Caused by: java.io.EOFException: SSL peer shut down incorrectly</span><br><span class="line">		at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:167)</span><br><span class="line">		at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:108)</span><br><span class="line">		at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)</span><br><span class="line">		... 47 more</span><br></pre></td></tr></table></figure><p>提取关键信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Caused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake</span><br><span class="line">Caused by: java.io.EOFException: SSL peer shut down incorrectly</span><br></pre></td></tr></table></figure><p>得知 SSL 握手失败，于是我找了 Azure 的示例代码（<a target="_blank" rel="noopener" href="https://docs.azure.cn/zh-cn/mysql/connect-java">https://docs.azure.cn/zh-cn/mysql/connect-java</a>）来测，也是同样的问题。</p></div><a class="article-more button is-small is-size-7" href="/2020/azure-mysql-jdbc-ssl-issue/#more">阅读更多</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/chinese-font-compress/"><img class="fill" src="/gallery/vector/T_18.svg" alt="网页中文字体压缩（woff2）、拆分、去繁体字库，提高加载速度" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-05-13T02:33:17.000Z" title="2020/5/13 10:33:17">2020-05-13</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">6 分钟读完 (大约907个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/chinese-font-compress/">网页中文字体压缩（woff2）、拆分、去繁体字库，提高加载速度</a></p><div class="content"><p>从客户得到的网页字体足足有 10MB 大小，会严重拖慢网页加载，如何处理？</p><p>阅读下面的解决方法前，建议先阅读<a target="_blank" rel="noopener" href="https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/webfont-optimization?hl=zh-cn">网页字体优化</a>，了解一些基本知识以及这么做的原因。</p><h3 id="字体去繁体"><a href="#字体去繁体" class="headerlink" title="字体去繁体"></a>字体去繁体</h3><p>GBK 结尾的字体偏大的原因是包含庞大的繁体字库，大多数网页并不需要，可以使用 <a target="_blank" rel="noopener" href="https://github.com/fonttools/fonttools">fontTools</a> 得到字体的简体中文子集。</p></div><a class="article-more button is-small is-size-7" href="/2020/chinese-font-compress/#more">阅读更多</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/icarus-insight-pinyin/"><img class="fill" src="/gallery/vector/eezy_64.svg" alt="让 Icarus Insight 搜索插件支持拼音检索文章" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-05-09T07:06:38.000Z" title="2020/5/9 15:06:38">2020-05-09</time>发表</span><span class="level-item"><time datetime="2020-07-25T15:41:38.000Z" title="2020/7/25 23:41:38">2020-07-25</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">17 分钟读完 (大约2559个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/icarus-insight-pinyin/">让 Icarus Insight 搜索插件支持拼音检索文章</a></p><div class="content"><p>要是 Icarus 能用拼音搜文章就好了，如果你也有这样的想法，那这篇文章也许会对你有帮助。</p><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><img src="/gallery/2020/icarus-insight-pinyin.png" style="border:1px solid #dbdbdb"><h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><ol><li>Icarus 版本 3.0 以上</li><li>搜索插件使用的是 Insight</li></ol></div><a class="article-more button is-small is-size-7" href="/2020/icarus-insight-pinyin/#more">阅读更多</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/android-qq-block-font/"><img class="fill" src="/gallery/vector/D_01.svg" alt="屏蔽安卓 QQ 8.2 聊天个性字体" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-04-27T08:45:34.000Z" title="2020/4/27 16:45:34">2020-04-27</time>发表</span><span class="level-item"><time datetime="2020-04-28T07:26:34.000Z" title="2020/4/28 15:26:34">2020-04-28</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/android/">Android</a></span><span class="level-item">4 分钟读完 (大约617个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/android-qq-block-font/">屏蔽安卓 QQ 8.2 聊天个性字体</a></p><div class="content"><h3 id="摸索过程"><a href="#摸索过程" class="headerlink" title="摸索过程"></a>摸索过程</h3><p>我一直在用 Google Play 版本的 QQ，简洁没有花里胡哨的功能，要问我为什么不用 TIM？因为 TIM 实在太简洁了，连表情都不能下载。</p><p>今天突然发现 Play 里的 QQ 更新了！终于不是那个远古版本的 7.7.6 了。</p><p>我比较喜欢消息气泡，有时候我甚至可以看气泡认人，但我非常讨厌个性字体，一些字体的辨识度实在低，虽然可以双击查看消息，但能够屏蔽就舒服了。在 7.7.6 中我通过删除 <code>Tencent/MobileQQ/.font_info</code> 目录并创建同名文件来屏蔽字体，新版不起作用了。</p><p>找了一圈，发现是这个目录位置变了，现在是 <code>Android/data/com.tencent.mobileqq/Tencent/MobileQQ/.font_info/</code>。</p><p>马上删掉，创建同名文件！</p><p>然后就遇到问题，QQ 学聪明了，删除了我创建的文件，然后重新加载了字体。</p><p>我又想到了给 000 权限，但是 Android 内部存储中的文件是不能设权限的，此路不通。</p><p>经过一番尝试，我找到了新的办法屏蔽字体，简而言之，就是用空文件替换所有的 ttf。</p></div><a class="article-more button is-small is-size-7" href="/2020/android-qq-block-font/#more">阅读更多</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/icarus-with-bulma/"><img class="fill" src="/gallery/vector/vector_landscape_1.svg" alt="活用 Bulma 美化 Icarus 文章" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-04-21T10:55:49.000Z" title="2020/4/21 18:55:49">2020-04-21</time>发表</span><span class="level-item"><time datetime="2020-05-07T08:53:49.000Z" title="2020/5/7 16:53:49">2020-05-07</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">19 分钟读完 (大约2875个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/icarus-with-bulma/">活用 Bulma 美化 Icarus 文章</a></p><div class="content"><p>Icarus 相信大家都很熟悉，但是有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以 Icarus 有哪些高级玩法呢？下面就让 iMaeGoo 带大家一起了解吧。（误</p><h3 id="TOC"><a href="#TOC" class="headerlink" title="TOC"></a>TOC</h3><div class="post-summary"><ol><li>按钮</li><li>进度条</li><li>标签页</li><li>彩色突出</li><li>点击展开代码</li><li>你知道的太多了</li><li>让简介不出现在正文</li><li>封面图来源声明</li></ol></div></div><a class="article-more button is-small is-size-7" href="/2020/icarus-with-bulma/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-04-18T11:46:47.000Z" title="2020/4/18 19:46:47">2020-04-18</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">8 分钟读完 (大约1272个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/drupal-monolog/">记录 Drupal 配置 monolog 遇到的坑</a></p><div class="content"><p>在开发 Drupal CMS 网站时，我们发现 Drupal 默认的日志记录在 watchdog 数据表中，为了把日志记录在文件、控制台输出，可以使用 <a target="_blank" rel="noopener" href="https://www.drupal.org/project/monolog">monolog</a> 模块。这个模块提供的文档较少，在此记录一下遇到的问题。</p><h3 id="TOC"><a href="#TOC" class="headerlink" title="TOC"></a>TOC</h3><ol><li>启用模块报错 The service “monolog.handler.rotating_file” has a dependency on a non-existent parameter “monolog.level.debug”.</li><li>修改日志格式为 JSON</li><li>输出到控制台（在 Drupal 运行在 Docker 容器中时非常有用）</li><li>arguments 的配置</li><li>processors 的配置</li><li>分离 INFO 和 ERROR</li></ol></div><a class="article-more button is-small is-size-7" href="/2020/drupal-monolog/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-04-11T18:24:05.000Z" title="2020/4/12 02:24:05">2020-04-12</time>发表</span><span class="level-item"><time datetime="2020-05-23T02:47:05.000Z" title="2020/5/23 10:47:05">2020-05-23</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">8 分钟读完 (大约1162个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/valine-nick-mail-required/">Valine 升级 1.4 以及增加判断 “昵称和邮箱不能为空”</a></p><div class="content"><blockquote><p>如果你和我一样只是想在 1.3.10 原版的基础上增加昵称和邮箱的防空验证，可以直接下划到结尾部分，跳过前半部分的过程记录。</p></blockquote><p>最近经受匿名评论的困扰，计划禁止匿名评论。还有一个原因是《<a target="_blank" rel="noopener" href="http://politics.people.com.cn/n1/2017/0825/c1001-29494919.html">网信办：网站不得向未实名认证的用户提供跟帖评论服务</a>》，咱小小博客也是备过案的（能用国内 CDN 加速太香了），应该注意一下是不是？</p><p>很遗憾，<a target="_blank" rel="noopener" href="https://github.com/xCss/Valine/issues/143#issuecomment-449671533">Valine 作者不计划添加这一功能</a>！这让我一度想要换评论系统了……先不谈数据转移，我对比了一下其他评论系统——</p><ul><li>Discuz 系，国内连通率堪忧，不行；</li><li>基于 GitHub Issue 的，需要 GitHub 授权，对访客不是很友好，国内速度也不快，不行；</li><li>还有国内的畅言，要备案好说，但是 UI 不好看，还要验证访客手机号、绑定微信一大堆，麻烦不说，重要的是泄露访客隐私，不行……</li></ul><p>昨天发现 Valine 1.4 发布，有几个新特性挺喜欢，打算升级，想起这茬，干脆一起把防空校验加上吧！</p></div><a class="article-more button is-small is-size-7" href="/2020/valine-nick-mail-required/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-04-08T15:09:05.000Z" title="2020/4/8 23:09:05">2020-04-08</time>发表</span><span class="level-item"><time datetime="2022-08-04T15:09:05.000Z" title="2022/8/4 23:09:05">2022-08-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">5 分钟读完 (大约677个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/svg-vs-icon-font/">比较 SVG 与字体图标 - 缺点与解决方案</a></p><div class="content"><p>如果要为网站增加矢量图标，其中两个选项是使用 SVG 和使用字体图标，两种方式各有千秋，以下是我个人做的比较。</p><h3 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h3><p>在阅读这一部分前，可以先参考文章 <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000010942431">HTML中嵌入SVG图片的N种方式</a>，了解一下不同的 SVG 嵌入页面的方式。</p><table><thead><tr><th>缺点</th><th>解决方案</th></tr></thead><tbody><tr><td>如果将 SVG 放在静态资源目录，通过路径引用至页面，SVG 将造成额外的 HTTP 请求</td><td>在 HTML 中内嵌 <code>&lt;svg&gt;</code> 标签</td></tr><tr><td>如果在 HTML 中内嵌 <code>&lt;svg&gt;</code> 标签，HTML 会显得杂乱且无法复用</td><td>使用 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/svg-inline-loader">SVG Inline Loader for Webpack</a> 可以用 require 的方式向 HTML 插入 SVG</td></tr><tr><td>图标本身带的颜色（类似 <code>fill=&quot;#ccc&quot;</code>）无法覆盖</td><td>移除 SVG 本身的颜色。使用 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/svg-inline-loader">SVG Inline Loader for Webpack</a> 的 <code>removingTagAttrs</code> 选项，可以在打包时批量去除图标本身的颜色，再通过 CSS fill 覆盖颜色</td></tr></tbody></table></div><a class="article-more button is-small is-size-7" href="/2020/svg-vs-icon-font/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-04-08T03:46:09.000Z" title="2020/4/8 11:46:09">2020-04-08</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">1 分钟读完 (大约117个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/icarus-night-mode-3/">Icarus 夜间模式支持 3.0 了</a></p><div class="content"><blockquote><p><strong>原主题</strong><br><a href="/2019/icarus-night-mode/">Icarus 夜间模式（实验中）</a><br><a href="/2019/icarus-night-mode-2/">如何给 Icarus 增加夜间模式</a></p></blockquote><p>夜间模式单独提取的代码目前已经更新，支持 Icarus 3.0.0，有需要的朋友欢迎 checkout。</p><p>分支：<a target="_blank" rel="noopener" href="https://github.com/imaegoo/hexo-theme-icarus/tree/night3">https://github.com/imaegoo/hexo-theme-icarus/tree/night3</a><br>提交：<a target="_blank" rel="noopener" href="https://github.com/imaegoo/hexo-theme-icarus/commit/fc3d016ae1c999347bd9ecbf3cc656e1382db06d">https://github.com/imaegoo/hexo-theme-icarus/commit/fc3d016ae1c999347bd9ecbf3cc656e1382db06d</a></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> theme/icarus</span><br><span class="line">git remote add imaegoo https://github.com/imaegoo/hexo-theme-icarus.git</span><br><span class="line">git fetch imaegoo</span><br><span class="line">git merge imaegoo/night3</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-03-26T14:33:17.000Z" title="2020/3/26 22:33:17">2020-03-26</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">4 分钟读完 (大约644个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/chinese-name-regexp/">理解 Javascript，PHP，SQL 匹配中文姓名正则表达式的区别</a></p><div class="content"><h3 id="如何定义合法姓名"><a href="#如何定义合法姓名" class="headerlink" title="如何定义合法姓名"></a>如何定义合法姓名</h3><p>中文姓名非常多样化，想要真正区别出姓名和非姓名非常困难，但在这篇文章中，作为前提，我们认为合法的中文姓名由 1~10 个中文字符组成。</p><h3 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h3><p>知道了这个前提，容易得出 JS 的正则表达式——</p><figure class="highlight js"><figcaption><span>姓名正则</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^([\u4e00-\u9fa5]&#123;<span class="number">1</span>,<span class="number">10</span>&#125;)$/</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2020/chinese-name-regexp/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-03-24T05:21:11.000Z" title="2020/3/24 13:21:11">2020-03-24</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">6 分钟读完 (大约964个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/php-gd-image-broken/">PHP imagepng 输出损坏的图片问题解决</a></p><div class="content"><h3 id="问题发现"><a href="#问题发现" class="headerlink" title="问题发现"></a>问题发现</h3><p>我和同事的两套本地开发环境，相同的一段返回随机验证码图片的代码，验证码代码参考的是 <a target="_blank" rel="noopener" href="https://www.jb51.net/article/55483.htm">php实现的Captcha验证码类实例</a> 里的代码。在同事的电脑上调用，出来的是裂开的图片，在我的电脑上调用，出来的就是正常的图片，这是为什么呢？解决这个问题花费了三四个小时，记录一下过程。</p><h3 id="解决过程"><a href="#解决过程" class="headerlink" title="解决过程"></a>解决过程</h3><p>因为代码上没有区别，所以开始怀疑环境问题，两台开发机都是相同型号，配置也相同，PHP 运行在 docker 容器下，检查 PHP 版本相同。</p><p>查了一下 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.imagepng">PHP 文档</a>，怀疑可能是因为什么特性没有启用，测试以下代码：</p><figure class="highlight php"><figcaption><span>test.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">imagetypes</span>() &amp; IMG_PNG) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;PNG Support is enabled&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>测试结果 <code>imagetypes() &amp; IMG_PNG</code> 的值大于零，看起来两个环境都是支持 PNG 图的。</p></div><a class="article-more button is-small is-size-7" href="/2020/php-gd-image-broken/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-03-13T02:35:29.000Z" title="2020/3/13 10:35:29">2020-03-13</time>发表</span><span class="level-item"><time datetime="2020-03-13T08:40:00.000Z" title="2020/3/13 16:40:00">2020-03-13</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">6 分钟读完 (大约865个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/icarus-3-guide/">hexo-theme-icarus 3 食用经验分享</a></p><div class="content"><p>昨天晚上 Icarus 主题的 RC 版本发布，离正式版不远了，我自 <code>3.0.0-beta.1</code> 一路使用到现在，把自己的使用经验分享一下。</p><h3 id="魔改迁移"><a href="#魔改迁移" class="headerlink" title="魔改迁移"></a>魔改迁移</h3><p>由于主题作者换掉了 ejs 语言，全部重写了一遍，迁移这块的难度是最大的。</p><p>拉 dev 分支，冲突实在是太多了，我的办法是，把在旧版上的魔改的整个 diff 导出，然后直接从 dev 签出一个新的分支，参考 diff 对每个文件都重新修改，花了不到2个小时搞定。</p><h3 id="魔改-hexo-component-inferno-组件"><a href="#魔改-hexo-component-inferno-组件" class="headerlink" title="魔改 hexo-component-inferno 组件"></a>魔改 hexo-component-inferno 组件</h3><p>主题中部分可重用的 JS 和 JSX 代码已经被移到另一个项目 <code>hexo-component-inferno</code> 中，我们如何对这些组件魔改？此时要分2种情况——</p><ol><li>widgets 的魔改</li><li>其它 JS 和 JSX 的魔改</li></ol></div><a class="article-more button is-small is-size-7" href="/2020/icarus-3-guide/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-02-18T02:00:00.000Z" title="2020/2/18 10:00:00">2020-02-18</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">6 分钟读完 (大约901个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/azure-app-service/">体验 Azure 应用服务：可以白嫖的 OneIndex 空间</a></p><div class="content"><p>之前已经写过一篇<a href="/2019/hexo-ci/">如何使用 Azure DevOps 实现自动部署 Hexo</a> 的文章，这个月，受疫情影响在家，就把自己的 Azure 新用户体验账号开了，获得了限时 1 个月 200 刀的体验额度。</p><p>之后研究中发现了 Azure 提供的应用服务还挺好用的，当然重点是——<strong>可以白嫖！</strong></p><p>免费套餐当然是有限制的——</p><ol><li>配置上，1G内存，每天最多1小时CPU时间（计算量不大24小时开着没问题）</li><li>330M 左右的出站流量</li><li>无法绑定自定义域名，只能使用 *.azurewebsites.net</li><li>没有数据库，可以另建 MySQL，但不是免费的，想搭建 Typecho 和 Wordpress 的还是别想了</li><li>无国内节点，可选日本节点</li><li>需要 Azure 账号，也就是需要 VISA 或者 Master 卡</li></ol><p>我们可以在上面部署 .Net Core, ASP.NET, Java, Node.js, PHP, Python, Ruby 语言的项目。</p><p>之前有访问过别人的 PyOne，发现下载速度还挺快，就一直想用 OneDrive 搭建一个自己的网盘，机会来了。</p><p>主流的 OneDrive 第三方 Directory Index，有老牌的 <a target="_blank" rel="noopener" href="https://github.com/donwa/oneindex">oneindex</a>，还有后起之秀 <a target="_blank" rel="noopener" href="https://github.com/abbeyokgo/PyOne">PyOne</a> 和 <a target="_blank" rel="noopener" href="https://github.com/WangNingkai/OLAINDEX">OLAINDEX</a>，虽然 Azure 的 PHP 环境可以自动识别 composer 安装依赖，也支持执行部署脚本、执行 php 命令，但是由于 PyOne 还要依赖 Python 环境，OLAINDEX 还要依赖 Nginx，别想了，搭建不了。</p><blockquote><p>当我尝试在 Azure 应用服务上面部署 OLAINDEX 时，在执行安装脚本 <code>php artisan od:install</code> 时出错，遇到的错误是 SQLite <code>General error: 5 database is locked</code>，由于完全不会 PHP，就放弃了。</p></blockquote><p>好了，就决定是 OneIndex 了！高手看到这里基本就可以自己去尝试了，下面是我的步骤。</p></div><a class="article-more button is-small is-size-7" href="/2020/azure-app-service/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-02-11T05:36:42.000Z" title="2020/2/11 13:36:42">2020-02-11</time>发表</span><span class="level-item"><time datetime="2020-03-24T08:24:42.000Z" title="2020/3/24 16:24:42">2020-03-24</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/windows/">Windows</a></span><span class="level-item">3 分钟读完 (大约400个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/chrome-disable-development-warning/">屏蔽 Chrome for Windows “请停用以开发者模式运行的扩展程序” 提示</a></p><div class="content"><p>开发过 Chrome 扩展的人都知道，加载已解压的扩展之后，Chrome 每次启动会弹窗警告，这个警告在新 Edge 中叫 “禁用开发人员模式扩展” 。</p><p><img src="/gallery/2020/chrome-disable-development-warning-1.png"></p><p>这个提示在打开浏览器几秒之后出现，并夺走窗口焦点，很是烦人，如何屏蔽呢？</p></div><a class="article-more button is-small is-size-7" href="/2020/chrome-disable-development-warning/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-01-19T05:36:42.000Z" title="2020/1/19 13:36:42">2020-01-19</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">2 分钟读完 (大约293个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/vue-cli-service-is-not-recognized/">多种方式解决 Windows CMD 中 vue-cli-service 不是内部或外部命令</a></p><div class="content"><h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><p>已安装 Vue 脚手架</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure><h3 id="现象"><a href="#现象" class="headerlink" title="现象"></a>现象</h3><p>找不到 <code>vue-cli-service</code> 命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;vue-cli-service&#x27; is not recognized as an internal or external command, operable program or batch file.</span><br></pre></td></tr></table></figure><p>经过搜索，发现这个问题只在 Windows 下存在。</p><p>装了脚手架应该会在 node 目录产生 <code>vue-cli-service.cmd</code> 的文件，实际没有产生，不过在全局 <code>node_modules</code> 下是有的。</p><p><img src="/gallery/2020/vue-cli-service-is-not-recognized-1.png"></p><p><img src="/gallery/2020/vue-cli-service-is-not-recognized-2.png"></p><p>有说清理 <code>node_modules</code> 重新安装可以解决的，试了不管用，全局卸载脚手架重新安装也不管用，就算管用也比较麻烦，于是我找到了几个间接使用方法——</p></div><a class="article-more button is-small is-size-7" href="/2020/vue-cli-service-is-not-recognized/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-01-17T09:36:42.000Z" title="2020/1/17 17:36:42">2020-01-17</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">1 分钟读完 (大约161个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/vue-i18n-unit-test/">Vue 给 i18n 国际化组件写单元测试报 $t is not a function</a></p><div class="content"><p>对一个有国际化的 Vue 组件写单元测试，mount这个组件时，会遇到找不到 <code>$t</code> 的报错。</p><figure class="highlight html"><figcaption><span>Component template</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; $t(&#x27;message.hello&#x27; &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: _vm.$t is not a function</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2020/vue-i18n-unit-test/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-01-07T08:22:50.000Z" title="2020/1/7 16:22:50">2020-01-07</time>发表</span><span class="level-item"><time datetime="2020-01-08T07:22:50.000Z" title="2020/1/8 15:22:50">2020-01-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">2 分钟读完 (大约346个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/vue-remove-query-from-router/">Vue Router 向 URL query 添加、删除参数</a></p><div class="content"><h3 id="添加一个参数"><a href="#添加一个参数" class="headerlink" title="添加一个参数"></a>添加一个参数</h3><p>当前 URL：<code>http://localhost/home?keyword=example</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123; <span class="attr">query</span>: &#123; ...<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>, <span class="attr">code</span>: <span class="string">&#x27;1&#x27;</span> &#125; &#125;)</span><br></pre></td></tr></table></figure><p>最终 URL：<code>http://localhost/home?keyword=example&amp;code=1</code></p><h3 id="删除一个参数"><a href="#删除一个参数" class="headerlink" title="删除一个参数"></a>删除一个参数</h3><p>我所使用的 Vue Router 版本为 3.0.3，删除参数比较麻烦。</p><p>当前 URL：<code>http://localhost/home?keyword=example&amp;code=1</code></p><figure class="highlight js"><figcaption><span>无效方法</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">code</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123; <span class="attr">query</span>: <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span> &#125;) <span class="comment">// 地址栏无反应</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>有效方法</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newQuery = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>)) <span class="comment">// 深拷贝</span></span><br><span class="line"><span class="keyword">delete</span> newQuery.<span class="property">code</span></span><br><span class="line"><span class="comment">// 如果有引入 lodash, 可以写成: let newQuery = _.omit(this.$route.query, &#x27;code&#x27;)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123; <span class="attr">query</span>: newQuery &#125;)</span><br></pre></td></tr></table></figure><p>最终 URL：<code>http://localhost/home?keyword=example</code></p></div><a class="article-more button is-small is-size-7" href="/2020/vue-remove-query-from-router/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-01-02T10:06:32.000Z" title="2020/1/2 18:06:32">2020-01-02</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">5 分钟读完 (大约781个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/vue-lottery/">Vue.js 做一个大屏幕抽奖</a></p><div class="content"><p>在 Github 上面搜索 “lottery”，发现类似的项目挺多的，有 Electron 实现的，可以打包成 exe，也有原生 js 实现的，浏览器打开。</p><p>这次是用 Vue 做了一个编号抽奖，一个转盘抽奖，放在一起，练手。</p><p><img src="/gallery/2020/vue-lottery-3.png"></p><p><img src="/gallery/2020/vue-lottery-1.png"></p><p><img src="/gallery/2020/vue-lottery-2.png"></p><p>预览：<a target="_blank" rel="noopener" href="http://lottery.imaegoo.com/">http://lottery.imaegoo.com/</a></p></div><a class="article-more button is-small is-size-7" href="/2020/vue-lottery/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-12-20T02:43:13.000Z" title="2019/12/20 10:43:13">2019-12-20</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">1 分钟读完 (大约165个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/vscode-csharp-auto-using/">VS Code 写 C# 怎样自动导包（Auto-using）</a></p><div class="content"><p>在 Visual Studio 中可以使用 <code>Alt</code> + <code>Shift</code> + <code>F10</code> 来自动导包，在 VS Code 中怎么操作呢？</p><p>快捷键是 <code>Ctrl</code> + <code>.</code>（句点）。</p><p><img src="/gallery/2019/csharp-auto-using.png"></p><p>坑：必须在英文状态下按快捷键才能起作用。</p></div><a class="article-more button is-small is-size-7" href="/2019/vscode-csharp-auto-using/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-12-01T09:25:36.000Z" title="2019/12/1 17:25:36">2019-12-01</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">3 分钟读完 (大约442个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/hello-netlify/">Netlify 初体验——真就是几秒部署呗</a></p><div class="content"><p>Hexo 部署依赖 node 环境就让很多专注写作的人放弃这个框架，劝退萌新，并且难以随时随地写作。好在其 CLI 比较简单，前面我也介绍过如何<a href="/2019/hexo-ci/">利用免费的微软 Azure 持续部署博客</a>。</p><p>不过今天看 Ant Design Pro 官网的 footer 的时候发现了 Netlify 这个东西，试了以后，<strong>强烈安利！！！</strong></p><p>来到它的首页，里面有这么几段话——</p><p><img src="/gallery/2019/netlify.png"></p><p>大字：</p><blockquote><p>在几秒钟内部署您的网站*</p></blockquote><p>小字：</p><blockquote><p>*不，这里没有陷阱。<br>真的只需点击几下。</p></blockquote><p>嗯……嗯？哼哼……有免费套餐，试试吧！</p><ol><li>首先用 GitHub 授权登录</li><li>选择 New site from Git</li><li>选择项目托管的位置：GitHub</li><li>授权 GitHub 访问私有项目</li><li>输入构建命令……等等，你怎么给我自动输入了啊喂？<br><img src="/gallery/2019/netlify2.png"></li><li>点 Deploy site</li></ol><p>然后构建就启动了，1分钟后我的站点就到了 Netlify 上。</p><p><img src="/gallery/2019/netlify3.png"></p><p>当时我的表情是 (⊙o⊙)？</p><p>我连部署命令都没打；<br>我连环境都没提供；<br>我甚至全程<code>没有摸一下键盘</code>……（你要问我注册登录不摸键盘？真就没摸，GitHub 是已登录的状态，点一下授权按钮就登录了。）<br>敢情 hexo 的部署配置，Azure 的 CICD 都白写了呗？</p><p>……</p><p>😓，流批……</p><p>这个网站还支持绑定域名，自动申请 HTTPS，配 Web Hook（就不用手动点部署了），还有很多很多真 · 自动化的功能，大家一起发掘吧！</p></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-11-30T02:17:09.000Z" title="2019/11/30 10:17:09">2019-11-30</time>发表</span><span class="level-item"><time datetime="2020-04-18T12:25:09.000Z" title="2020/4/18 20:25:09">2020-04-18</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">2 分钟读完 (大约303个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/icarus-night-mode-2/">如何给 Icarus 增加夜间模式</a></p><div class="content"><blockquote><p>此篇针对 Icarus 2 版本，Icarus 3 请参考：<a href="/2020/icarus-night-mode-3/">Icarus 夜间模式支持 3.0 了</a></p></blockquote><h2 id="Preview"><a href="#Preview" class="headerlink" title="Preview"></a>Preview</h2><p><img src="https://user-images.githubusercontent.com/20182252/69895113-ba364e80-1364-11ea-854a-0fb23f968b87.jpg"></p><h2 id="Live-Preview"><a href="#Live-Preview" class="headerlink" title="Live Preview"></a>Live Preview</h2><p><a href="https://www.imaegoo.com/">https://www.imaegoo.com/</a></p><h2 id="Attention"><a href="#Attention" class="headerlink" title="Attention"></a>Attention</h2><p>This extension is <strong>NOT FULLY TESTED</strong>, so it may not fully cover the theme styles, if you find something wrong (such as bright things in night mode), please report it in this issue, do not open new issue.</p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><ol><li>Merge <code>night</code> branch from <a target="_blank" rel="noopener" href="https://github.com/imaegoo/hexo-theme-icarus/tree/night">imaegoo&#x2F;hexo-theme-icarus</a> into your icarus theme folder, or <a target="_blank" rel="noopener" href="https://github.com/imaegoo/hexo-theme-icarus/archive/night.zip">dowmload zip</a>.</li><li>If you configured an image logo, you should prepare a logo for night mode, then apply them in <code>themes/icarus/_config.yml</code>.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">logo:</span><br><span class="line">    light: /images/logo.png</span><br><span class="line">    dark: /images/logo-dark.png</span><br></pre></td></tr></table></figure></li></ol><hr><ol><li>把 <code>night</code> 分支（<a target="_blank" rel="noopener" href="https://github.com/imaegoo/hexo-theme-icarus/tree/night">imaegoo&#x2F;hexo-theme-icarus</a>）合并到你的主题分支中。如果你不懂，并且你对主题没有自己修改，直接<a target="_blank" rel="noopener" href="https://github.com/imaegoo/hexo-theme-icarus/archive/night.zip">下载修改好压缩包</a>。</li><li>如果你的网站 LOGO 是图片，你可能需要准备一黑一白两个版本的 LOGO，并在主题 <code>themes/icarus/_config.yml</code> 中配置。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">logo:</span><br><span class="line">    light: /images/logo.png</span><br><span class="line">    dark: /images/logo-dark.png</span><br></pre></td></tr></table></figure></li></ol><h2 id="Modify"><a href="#Modify" class="headerlink" title="Modify"></a>Modify</h2><p>If you want to customize your theme, you can modify <code>night mode</code> part in <code>themes/icarus/source/css/style.styl</code>.</p><h2 id="Thanks"><a href="#Thanks" class="headerlink" title="Thanks"></a>Thanks</h2><p>Universe background from <a target="_blank" rel="noopener" href="https://github.com/fan-lv/Fan">https://github.com/fan-lv/Fan</a></p></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-11-26T02:24:14.000Z" title="2019/11/26 10:24:14">2019-11-26</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">4 分钟读完 (大约666个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/van-list-always-load/">van-list 一直触发加载问题的排查</a></p><div class="content"><p>移动端分页一般都是向下滑动加载更多，Vant 组件库提供了 van-list 来实现这一功能。</p><blockquote><p>List 组件通过<code>loading</code>和<code>finished</code>两个变量控制加载状态，当组件滚动到底部时，会触发<code>load</code>事件并将<code>loading</code>设置成<code>true</code>。此时可以发起异步操作并更新数据，数据更新完毕后，将<code>loading</code>设置成<code>false</code>即可。若数据已全部加载完毕，则直接将<code>finished</code>设置成<code>true</code>即可。</p></blockquote><p>实际应用中发现，即使内部元素已经填满一整屏，仍然会触发加载，直到我模拟的20多页全部加载完才停下来。</p><p>我没有给这个问题写专门的 CodePen demo，比较麻烦，碰到的人也不一定多。</p><h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>van-list 会在内容之后增加一个 placeholder，通过 placeholder 的位置判断内容是否已填充满屏。<br>van-list 本身为 flex 布局时，flex-direction 必须是 column（或 column-reverse）。</p><h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><p>首先我的用法是这样的：</p><figure class="highlight html"><figcaption><span>template</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">van-list</span>&gt;</span> <span class="comment">&lt;!-- flex --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">van-grid</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">van-grid</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">van-list</span>&gt;</span></span><br></pre></td></tr></table></figure><p>首先看文档，英文文档没有提到，但<a target="_blank" rel="noopener" href="https://youzan.github.io/vant/#/zh-CN/list">中文文档</a>有以下一段话：</p><blockquote><p><strong>使用 float 布局后一直触发加载？</strong><br>若 List 的内容使用了 float 布局，可以在容器上添加van-clearfix类名来清除浮动，使得 List 能正确判断元素位置</p></blockquote><p>检查了一下，我没有在使用 float 布局呀。</p></div><a class="article-more button is-small is-size-7" href="/2019/van-list-always-load/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-11-18T03:18:30.000Z" title="2019/11/18 11:18:30">2019-11-18</time>发表</span><span class="level-item"><time datetime="2020-04-18T12:25:09.000Z" title="2020/4/18 20:25:09">2020-04-18</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">1 分钟读完 (大约186个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/icarus-night-mode/">Icarus 夜间模式（实验中）</a></p><div class="content"><p>更新了 Icarus 主题代码，右上角增加了夜间模式切换按钮，是实验中的功能，欢迎体验。</p><p>通过向 body 添加名为 <code>night</code> 的 class 实现，状态记在浏览器 localstorage 中。</p><p>已知问题：</p><ol><li>样式可能没有全面覆盖。</li><li>夜间模式在低性能浏览器上导致页面响应缓慢，需要优化性能。</li></ol><p>目前还没有做成插件，仅在自己的博客使用，后期如果有时间的话，会考虑做成 extension。</p><hr><p>更新：已经发布了——</p><p>Icarus 2 请参考：<a href="/2019/icarus-night-mode-2/">如何给 Icarus 增加夜间模式</a><br>Icarus 3 请参考：<a href="/2020/icarus-night-mode-3/">Icarus 夜间模式支持 3.0 了</a></p></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2019/position-sticky-bottom/"><img class="fill" src="/gallery/2019/css3.png" alt="粘性布局之粘底效果（position sticky, bottom 0）" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-11-16T16:01:05.000Z" title="2019/11/17 00:01:05">2019-11-17</time>发表</span><span class="level-item"><time datetime="2019-11-17T02:56:25.000Z" title="2019/11/17 10:56:25">2019-11-17</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">6 分钟读完 (大约867个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/position-sticky-bottom/">粘性布局之粘底效果（position sticky, bottom 0）</a></p><div class="content"><p>经常在查资料时访问各种 CSDN 博客会发现，当 <code>屏幕高度 &lt; 左边栏的高度 &lt; 内容的高度</code> 时，滚动屏幕，左边栏会随着内容一同滚动，当滚动到左边栏底部时，左边栏会停止滚动，而内容会继续滚动。</p><p>这种设计的优势在于，用户既能够滚动左边栏，又不会在左边栏不够长时，造成页面左侧大片空白的尴尬，这种布局模式，叫做 <code>粘性布局（sticky）</code>。</p><p>粘性布局在元素满足显示条件时，表现与普通布局没什么不同，但当元素随着页面滚动而无法显示时，会转为 <code>fixed</code> 布局效果，主流浏览器已经全部支持粘性布局（IE不支持）。</p><p><strong>通俗一点讲，类似于 Excel 中的“冻结窗格”。</strong></p><p>绝大多数网上的教程材料都用 <code>position: sticky; top: 0;</code> 这样的组合来举例，但为了实现 CSDN 左边栏效果，<code>position: sticky; bottom: 0;</code> 似乎不能和想象一样的起作用。</p><h3 id="先说结论吧"><a href="#先说结论吧" class="headerlink" title="先说结论吧"></a>先说结论吧</h3><ol><li>sticky 的确是无法直接粘底的……</li><li>CSDN 使用 JS 动态计算实现，当计算到左边栏底部即将滚上屏幕时，立即对左边栏添加 <code>position: fixed; bottom: 0;</code> 样式，把左边栏定死，延时较为明显，<strong>快速上下滚动时能看到闪烁</strong>。</li><li>我使用 <code>position: sticky;</code> 实现，通过 JS 计算 <code>屏幕高度 - 左边栏高度</code> 得到 <code>top</code> 的值，<strong>快速滚动时没有闪烁</strong>。</li></ol></div><a class="article-more button is-small is-size-7" href="/2019/position-sticky-bottom/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-11-16T02:55:56.000Z" title="2019/11/16 10:55:56">2019-11-16</time>发表</span><span class="level-item"><time datetime="2020-03-24T09:00:00.000Z" title="2020/3/24 17:00:00">2020-03-24</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">3 分钟读完 (大约511个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/chrome-78-show-steady-state-url/">Chrome 各版本地址栏显示完整地址（https 和 www）</a></p><div class="content"><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><img src="/gallery/2019/show-steady-state-url.png"></p><p>由于谷歌最近对 Chrome 地址栏改来改去，不同的版本需要对应不同的方法。</p><h3 id="Chrome-版本＜78"><a href="#Chrome-版本＜78" class="headerlink" title="Chrome 版本＜78"></a>Chrome 版本＜78</h3><p>在浏览器输入 <code>chrome://flags/</code> 回车，找到 <code>Omnibox UI Hide Steady-State URL Scheme and Trivial Subdomains</code>，设置为 Disabled，然后重启浏览器。</p><h3 id="Chrome-版本＝78"><a href="#Chrome-版本＝78" class="headerlink" title="Chrome 版本＝78"></a>Chrome 版本＝78</h3><p>谷歌从 flag 页面砍掉了这个设置，但 flag 还是存在的。</p><p>打开 chrome:&#x2F;&#x2F;flags&#x2F;，78版本已经找不到 <code>omnibox-ui-hide-steady-state-url-scheme</code> 和 <code>omnibox-ui-hide-steady-state-url-trivial-subdomains</code> 了。<br>按 F12 打开 Console，执行以下命令，然后重启 Chrome。</p><figure class="highlight js"><figcaption><span>Console</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  <span class="string">&#x27;omnibox-ui-hide-steady-state-url-path-query-and-ref&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;omnibox-ui-hide-steady-state-url-scheme&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;omnibox-ui-hide-steady-state-url-trivial-subdomains&#x27;</span></span><br><span class="line">].<span class="title function_">forEach</span>(<span class="function">(<span class="params">f</span>) =&gt;</span> &#123;</span><br><span class="line">  chrome.<span class="title function_">send</span>(<span class="string">&#x27;enableExperimentalFeature&#x27;</span>, [<span class="string">`<span class="subst">$&#123;f&#125;</span>@2`</span>, <span class="string">&#x27;true&#x27;</span>]);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>代码中 <code>@2</code> 对应的是 Disabled。<code>@0</code> 和 <code>@1</code> 分别对应 Default 和 Enabled。</p><p>测试有效的版本：78.0.3904.97<br>方法来源：ysc3839（<a target="_blank" rel="noopener" href="https://www.v2ex.com/t/613776">https://www.v2ex.com/t/613776</a>）</p><h3 id="Chrome-版本＞78"><a href="#Chrome-版本＞78" class="headerlink" title="Chrome 版本＞78"></a>Chrome 版本＞78</h3><p>谷歌彻底砍掉了这两个 flag……</p><p>现在安装插件是唯一方法，如果你能够访问 Chrome 网上应用店的话，安装这个插件，无需配置即可显示完整地址：<br><a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/suspicious-site-reporter/jknemblkbdhdcpllfgbfekkdciegfboi">https://chrome.google.com/webstore/detail/suspicious-site-reporter/jknemblkbdhdcpllfgbfekkdciegfboi</a><br>方法来源：MaiKuraki（<a target="_blank" rel="noopener" href="https://www.v2ex.com/t/588136">https://www.v2ex.com/t/588136</a>）</p><p>如果是 Windows 系统，也可以换用 <a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-cn/edge">Chromium 内核的 Edge 浏览器</a>，我已经完全爱上 Edge 啦！</p><h3 id="Chromium"><a href="#Chromium" class="headerlink" title="Chromium"></a>Chromium</h3><p>据<a target="_blank" rel="noopener" href="https://www.ithome.com/0/478/129.htm">IT之家报导</a>，谷歌决定“使URL更易于阅读和理解，并消除对可注册域的干扰”，在Chromium Gerrit中新提交了一个flag标志，未来可在 <code>chrome://flags#context-menu-show-full-urls</code> 中设置开启，届时Chrome浏览器地址栏便可显示完整URL。</p><p>嗯，砍了再加回来，绝世好活！</p><p>我并没有下载 Chromium 测试这个 flag，未来推出有这个 flag 的正式版后，我可能会会更新这篇博文。</p></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-11-15T16:23:01.000Z" title="2019/11/16 00:23:01">2019-11-16</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">9 分钟读完 (大约1380个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/bitnami-mariadb-container-failure/">Bitnami MariaDB 重启失败记录</a></p><div class="content"><p>自动部署的 Magento 附带的 MariaDB 镜像第一次启动能够成功，但 stop 之后就无法再次启动。启动命令 <code>docker-compose up -d</code>，重启命令 <code>docker-compose restart</code>，</p><p>关键 log：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">InnoDB: Assertion failure in file /bitnami/blacksmith-sandox/mariadb-10.2.28/storage/innobase/dict/dict0dict.cc line 1467</span><br><span class="line">InnoDB: Failing assertion: table-&gt;can_be_evicted</span><br><span class="line">[ERROR] mysqld got signal 6 ;</span><br></pre></td></tr></table></figure><p>详细的 stdout 如下——</p></div><a class="article-more button is-small is-size-7" href="/2019/bitnami-mariadb-container-failure/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-11-08T01:21:09.000Z" title="2019/11/8 09:21:09">2019-11-08</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">3 分钟读完 (大约452个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/install-magento-on-windows/">Windows 下通过 Vagrant 简单搭建 Magento</a></p><div class="content"><h3 id="准备软件"><a href="#准备软件" class="headerlink" title="准备软件"></a>准备软件</h3><ol><li>VirtualBox 5.2.8</li><li>Vagrant 2.0.1</li></ol><p>官网下载安装，比我的新即可，安装路径自选。</p><h3 id="创建-Vagrantfile"><a href="#创建-Vagrantfile" class="headerlink" title="创建 Vagrantfile"></a>创建 Vagrantfile</h3><p>新建文件夹并创建 Vagrantfile 放在里面，我配置的环境是 Ubuntu 16.04，内存8G，可以换成自己熟悉的环境。<br>映射端口80，443（Web），3306（数据库），9200，9300（搜索引擎）。</p><figure class="highlight plaintext"><figcaption><span>Vagrantfile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vagrant.configure(&quot;2&quot;) do |config|</span><br><span class="line">  config.vm.box = &quot;ubuntu/xenial64&quot;</span><br><span class="line">  config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 80</span><br><span class="line">  config.vm.network &quot;forwarded_port&quot;, guest: 443, host: 443</span><br><span class="line">  config.vm.network &quot;forwarded_port&quot;, guest: 3306, host: 3306</span><br><span class="line">  config.vm.network &quot;forwarded_port&quot;, guest: 9200, host: 9200</span><br><span class="line">  config.vm.network &quot;forwarded_port&quot;, guest: 9300, host: 9300</span><br><span class="line">  config.vm.provider &quot;virtualbox&quot; do |vb|</span><br><span class="line">    vb.memory = &quot;8192&quot;</span><br><span class="line">  end</span><br><span class="line">end</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2019/install-magento-on-windows/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-10-25T05:44:14.000Z" title="2019/10/25 13:44:14">2019-10-25</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">1 分钟读完 (大约168个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/js-deep-copy/">JS 原生对象与数组拷贝</a></p><div class="content"><h3 id="浅拷贝单层对象"><a href="#浅拷贝单层对象" class="headerlink" title="浅拷贝单层对象"></a>浅拷贝单层对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">&quot;1&quot;</span> &#125;</span><br><span class="line"><span class="keyword">let</span> copyOfObj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj)</span><br></pre></td></tr></table></figure><h3 id="深拷贝多层对象"><a href="#深拷贝多层对象" class="headerlink" title="深拷贝多层对象"></a>深拷贝多层对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">  <span class="attr">tag</span>: [<span class="string">&#x27;js&#x27;</span>, <span class="string">&#x27;javascript&#x27;</span>],</span><br><span class="line">  <span class="attr">category</span>: &#123; <span class="attr">id</span>: <span class="number">1001</span>, <span class="attr">title</span>: <span class="string">&#x27;frontend&#x27;</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> copyOfObj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj))</span><br></pre></td></tr></table></figure><h3 id="浅拷贝简单类型数组"><a href="#浅拷贝简单类型数组" class="headerlink" title="浅拷贝简单类型数组"></a>浅拷贝简单类型数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> copyOfArr = [...arr]</span><br></pre></td></tr></table></figure><h3 id="深拷贝单层对象组成的数组"><a href="#深拷贝单层对象组成的数组" class="headerlink" title="深拷贝单层对象组成的数组"></a>深拷贝单层对象组成的数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">&quot;1&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">title</span>: <span class="string">&quot;2&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">title</span>: <span class="string">&quot;3&quot;</span> &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">let</span> copyOfArr1 = arr.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, item))</span><br><span class="line"><span class="keyword">let</span> copyOfArr2 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr))</span><br></pre></td></tr></table></figure><h3 id="深拷贝多层对象组成的数组"><a href="#深拷贝多层对象组成的数组" class="headerlink" title="深拷贝多层对象组成的数组"></a>深拷贝多层对象组成的数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">&quot;1&quot;</span>, <span class="attr">subObj</span>: &#123; <span class="attr">name</span>: <span class="string">&#x27;subObj1&#x27;</span> &#125; &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">title</span>: <span class="string">&quot;2&quot;</span>, <span class="attr">subObj</span>: &#123; <span class="attr">name</span>: <span class="string">&#x27;subObj2&#x27;</span> &#125; &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">title</span>: <span class="string">&quot;3&quot;</span>, <span class="attr">subObj</span>: &#123; <span class="attr">name</span>: <span class="string">&#x27;subObj3&#x27;</span> &#125; &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">let</span> copyOfArr1 = arr.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(item)))</span><br><span class="line"><span class="keyword">let</span> copyOfArr2 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr))</span><br></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>不考虑性能的情况下，<code>JSON.parse(JSON.stringify(value))</code>是最简最万能的拷贝。</p></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2019/vue-model-not-work/"><img class="fill" src="/gallery/2019/vue.jpg" alt="直接操作 Vue data 中不存在的属性导致的 v-model 绑定异常问题" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-10-24T12:10:50.000Z" title="2019/10/24 20:10:50">2019-10-24</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">4 分钟读完 (大约589个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/vue-model-not-work/">直接操作 Vue data 中不存在的属性导致的 v-model 绑定异常问题</a></p><div class="content"><p>初学Vue遇到的问题，尝试了几个小时才搞明白，大佬应该一眼就能看出什么问题吧……</p><p>需要注意，不要直接在JS中操作一个Vue data对象中不存在的属性，如果同时有通过<code>v-model</code>绑定到该对象的不存在的属性时，会出现诡异的行为表现，<code>console</code>中不会报出任何 <code>warn</code> 或 <code>error</code>。</p><p>需求是，实现三个复选框，第一个复选框初始为选中状态，一开始写出来是这样的——</p><figure class="highlight html"><figcaption><span>HTML</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin: 10px;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">van-checkbox</span> <span class="attr">v-for</span>=<span class="string">&quot;box in checkboxes&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;box.id&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;box.selected&quot;</span>&gt;</span></span><br><span class="line">    复选框 &#123;&#123; box.title &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">van-checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>JS</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">checkboxes</span>: [</span><br><span class="line">        &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">&#x27;a&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">title</span>: <span class="string">&#x27;b&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">title</span>: <span class="string">&#x27;c&#x27;</span> &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">checkboxes</span>[<span class="number">0</span>].<span class="property">selected</span> = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>试下效果：</p><p class="codepen" data-height="265" data-theme-id="light" data-default-tab="result" data-user="iMaeGoo" data-slug-hash="yLLMazY" data-pen-title="vue-v-model-not-work"> <span>See the Pen <a target="_blank" rel="noopener" href="https://codepen.io/iMaeGoo/pen/yLLMazY">vue-v-model-not-work</a> by iMaeGoo (<a target="_blank" rel="noopener" href="https://codepen.io/iMaeGoo">@iMaeGoo</a>) on <a target="_blank" rel="noopener" href="https://codepen.io">CodePen</a>.</span></p><script async src="https://static.codepen.io/assets/embed/ei.js"></script><p>复选框a的表现显然是异常的，点击不能成功地切换选中状态，而在点击之后再点击其他复选框，才会“有延迟地”切换状态。</p></div><a class="article-more button is-small is-size-7" href="/2019/vue-model-not-work/#more">阅读更多</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2019/css-backdrop-blur/"><img class="fill" src="/gallery/2019/backdrop-blur.jpg" alt="CSS 类似 iOS 的毛玻璃动态模糊效果" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-10-14T12:18:09.000Z" title="2019/10/14 20:18:09">2019-10-14</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/frontend/">FrontEnd</a></span><span class="level-item">6 分钟读完 (大约899个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/css-backdrop-blur/">CSS 类似 iOS 的毛玻璃动态模糊效果</a></p><div class="content"><p>提到网页毛玻璃效果，总结下来有以下2种：</p><ol><li>模糊元素本身</li><li>模糊元素后面的内容</li></ol><p>早在之前，1就已经可以通过 CSS3 <code>filter</code> 属性实现，而2一直没有一个好的解决方案。对1的运用，也可以达到2的效果，通过模糊图片的一部分，就可以实现类似 bilibili 导航栏的模糊背景效果 ↓</p><p><img src="/gallery/2019/bilibili-blur-bar.png"></p><p>这样实现的前提是，我们的背景是一个静态的，单一的图片，那么如果我们需要模糊的背景比较复杂呢？仔细观察QQ右栏的标题栏，和下方的应用 Dock，都是 iOS 常见的毛玻璃叠加层效果 ↓</p><p><img src="/gallery/2019/ios-blur.jpg"></p><p>显然模糊元素本身并不能解决所有场景的问题。</p></div><a class="article-more button is-small is-size-7" href="/2019/css-backdrop-blur/#more">阅读更多</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2019/miui-fashion-gallery/"><img class="fill" src="/gallery/2019/miui-fashion-gallery-0.jpg" alt="小米 MIUI 10 锁屏画报原图批量提取" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-09-12T00:36:58.000Z" title="2019/9/12 08:36:58">2019-09-12</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/android/">Android</a></span><span class="level-item">几秒读完 (大约74个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/miui-fashion-gallery/">小米 MIUI 10 锁屏画报原图批量提取</a></p><div class="content"><ol><li>需要 ROOT 权限</li><li>用 ES、MT、RE 等类型的文件管理器复制以下目录到内部存储<br>&#x2F;data&#x2F;data&#x2F;com.mfashiongallery.emag&#x2F;files&#x2F;img_cache&#x2F;</li><li>将复制出来的文件批量重命名，添加 jpg 后缀</li></ol></div><a class="article-more button is-small is-size-7" href="/2019/miui-fashion-gallery/#more">阅读更多</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2019/local-efk-analyze-remote-log/"><img class="fill" src="/gallery/2019/elastic.jpg" alt="纯本地搭建 EFK 管理远程服务器日志" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-07-29T14:55:27.000Z" title="2019/7/29 22:55:27">2019-07-29</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">9 分钟读完 (大约1403个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/local-efk-analyze-remote-log/">纯本地搭建 EFK 管理远程服务器日志</a></p><div class="content"><p>项目staging环境日志难以搜索，计划搭建EFK管理日志，但是EFK内存消耗太大，再新增云服务器不划算，打算搭建在本地（16G内存）。</p><h2 id="什么是-EFK"><a href="#什么是-EFK" class="headerlink" title="什么是 EFK"></a>什么是 EFK</h2><p>EFK不是一个软件，而是一套解决方案，并且都是开源软件，其中 <code>ELasticsearch</code> 负责日志保存和搜索，<code>FileBeat</code> 负责收集日志，<code>Kibana</code> 负责界面。</p><ol><li>Elasticsearch<br>Elasticsearch是个开源分布式搜索引擎，提供搜集、分析、存储数据三大功能。它的特点有：分布式，零配置，自动发现，索引自动分片，索引副本机制，restful风格接口，多数据源，自动搜索负载等。</li><li>FileBeat<br>Filebeat 隶属于 Beats，搜集日志数据并上载到 <code>Elasticsearch</code>、<code>Logstash</code>、<code>Redis</code> 等平台。</li><li>Kibana<br>Kibana 提供日志分析的友好 Web 界面，可以帮助汇总、分析和搜索重要数据日志。</li></ol><h2 id="环境现状"><a href="#环境现状" class="headerlink" title="环境现状"></a>环境现状</h2><ol><li>本地环境：Windows 10，Intel(R) Core(TM) i5-7500 CPU，内存 16G</li><li>远程环境：SUSE Linux Enterprise Server 11，可用内存不足 1G</li><li>本地可以启虚拟机，但没钱买额外的云服务器。</li></ol><h2 id="最初想法"><a href="#最初想法" class="headerlink" title="最初想法"></a>最初想法</h2><p>目前有3种思路：</p><ol><li>本地启动Elasticsearch、Kibana、Filebeat，服务器启动FTP，并映射到本地网络驱动器，Filebeat配置从网络驱动器读取log。</li><li>本地启动Elasticsearch、Kibana，用反向代理工具FRP暴露Elasticsearch的9200端口到公网（注意配置鉴权），远程启动Filebeat，输出到本地的Elasticsearch。</li><li>本地启动Elasticsearch、Kibana，Logstash，远程启动Filebeat、Redis，远程的Filebeat输出到Redis，本地的Logstash从Redis上读取，转发给Elasticsearch。</li></ol></div><a class="article-more button is-small is-size-7" href="/2019/local-efk-analyze-remote-log/#more">阅读更多</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2019/vagrant-path/"><img class="fill" src="/gallery/2019/vagrant.png" alt="Vagrant 修改 box 保存位置 &amp; 虚拟机位置到非系统盘" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-07-28T14:44:06.000Z" title="2019/7/28 22:44:06">2019-07-28</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">几秒读完 (大约50个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/vagrant-path/">Vagrant 修改 box 保存位置 &amp; 虚拟机位置到非系统盘</a></p><div class="content"><h3 id="修改-box-保存位置"><a href="#修改-box-保存位置" class="headerlink" title="修改 box 保存位置"></a>修改 box 保存位置</h3><p>在环境变量中添加：</p><p><img src="/gallery/2019/vagrant-home.png"></p><h3 id="修改虚拟机保存位置"><a href="#修改虚拟机保存位置" class="headerlink" title="修改虚拟机保存位置"></a>修改虚拟机保存位置</h3><p>打开VirtualBox，选择File-&gt;Preferences，修改Default Machine Folder：</p><p><img src="/gallery/2019/vagrant-default-machine-folder.png"></p></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-07-25T13:26:55.000Z" title="2019/7/25 21:26:55">2019-07-25</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/tech/">Tech</a><span> / </span><a class="link-muted" href="/categories/tech/backend/">BackEnd</a></span><span class="level-item">3 分钟读完 (大约523个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/http-log/">Node.js 实现 HTTP 访问日志</a></p><div class="content"><p>越来越咸，两个月没发文章了，刚刚换项目了，开始学一些新的知识。<br>近来调试 webhook 和 http callback 比较多，想要使用 Node.js 写一个接收所有 HTTP 请求，并把请求头和请求体写进log，返回 200 OK 的 service。</p><p>其实就是简单的 access.log 啦。<br>其实就是刚学习 Node.js 写的 demo 啦。<br>啊这是很简单你不要拆穿啦。</p><p>这是输出的 log 的样子，优化了可读性，时间、method、path、URL参数（Query）、请求头（Header）、请求体（Body）都详细记录了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">info: 2019-07-25 18:04:36</span><br><span class="line">    POST /v1.0/standard</span><br><span class="line">    Query:</span><br><span class="line">        search: keyword</span><br><span class="line">    Header:</span><br><span class="line">        cache-control: no-cache</span><br><span class="line">        postman-token: f4103067-4b07-447d-9fab-f09a75b6ddda</span><br><span class="line">        content-type: application/json</span><br><span class="line">        user-agent: PostmanRuntime/3.0.11-hotfix.2</span><br><span class="line">        accept: */*</span><br><span class="line">        host: localhost:4000</span><br><span class="line">        accept-encoding: gzip, deflate</span><br><span class="line">        content-length: 209</span><br><span class="line">        connection: keep-alive</span><br><span class="line">    Body:</span><br><span class="line">        appId: XXX</span><br><span class="line">        data:</span><br><span class="line">            userId: 123</span><br><span class="line">            requestId: 456</span><br><span class="line">        timestamp: 0</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2019/http-log/#more">阅读更多</a></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/tech/">上一页</a></div><div class="pagination-next"><a href="/categories/tech/page/3/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/tech/">1</a></li><li><a class="pagination-link is-current" href="/categories/tech/page/2/">2</a></li><li><a class="pagination-link" href="/categories/tech/page/3/">3</a></li></ul></nav></div><style>.column.column-left,.column.column-right{display:none}</style><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/images/avatar.jpg" alt="iMaeGoo"></figure><p class="title is-size-4 is-block" style="line-height:inherit">iMaeGoo</p><p class="is-size-6 is-block">虹墨空间站</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Zhengzhou, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives/"><p class="title">245</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories/"><p class="title">12</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags/"><p class="title">45</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/imaegoo" target="_blank" rel="me noopener" id="widget-follow">GitHub</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="哔哩哔哩" href="https://space.bilibili.com/4750943"><i class="fas fa-video"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="QQ" href="https://jq.qq.com/?_wv=1027&amp;k=2l9ZGIoL"><i class="fab fa-qq"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Mail" href="mailto:hello@imaegoo.com"><i class="fas fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget"><div class="card-content"><div class="media" style="overflow:hidden;align-items:center"><div class="media-left"><figure class="image is-96x96"><img src="/images/weixin/qrcode.jpg" alt="微信二维码"></figure></div><div class="media-content"><div id="weixin-search-logo"></div><div class="control has-icons-left" id="weixin-search-text"><input class="input" readonly="readonly" value="虹墨iMaeGoo" onfocus="this.select()"><span class="icon is-small is-left"><i class="fas fa-search"></i></span></div></div></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2025/"><span class="level-start"><span class="level-item">2025</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/"><span class="level-start"><span class="level-item">2024</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/"><span class="level-start"><span class="level-item">2020</span></span><span class="level-end"><span class="level-item tag">33</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/"><span class="level-start"><span class="level-item">2019</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/"><span class="level-start"><span class="level-item">2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/"><span class="level-start"><span class="level-item">2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/"><span class="level-start"><span class="level-item">2013</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/"><span class="level-start"><span class="level-item">2012</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2011/"><span class="level-start"><span class="level-item">2011</span></span><span class="level-end"><span class="level-item tag">29</span></span></a></li><li><a class="level is-mobile" href="/archives/2010/"><span class="level-start"><span class="level-item">2010</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile" href="/archives/2009/"><span class="level-start"><span class="level-item">2009</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2008/"><span class="level-start"><span class="level-item">2008</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time datetime="2025-09-02T00:00:00.000Z">2025-09-02</time></p><p class="title"><a href="/2025/uninstall-netdisk-image-viewer/">卸载百度网盘智能看图</a></p><p class="categories"><a href="/categories/tech/">Tech</a> / <a href="/categories/tech/windows/">Windows</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2025-09-01T09:30:00.000Z">2025-09-01</time></p><p class="title"><a href="/2025/monaco-editor-cdn/">CDN 方式引入 Monaco Editor</a></p><p class="categories"><a href="/categories/tech/">Tech</a> / <a href="/categories/tech/frontend/">FrontEnd</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2025-09-01T04:30:00.000Z">2025-09-01</time></p><p class="title"><a href="/2025/html-to-md/">在线工具 - 富文本转 Markdown</a></p><p class="categories"><a href="/categories/tool/">Tool</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2025-08-25T04:00:00.000Z">2025-08-25</time></p><p class="title"><a href="/2025/android-pad-input-method/">2025 年了，安卓平板上什么第三方九键输入法最好用？</a></p><p class="categories"><a href="/categories/tech/">Tech</a> / <a href="/categories/tech/android/">Android</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2025-08-25T00:00:00.000Z">2025-08-25</time></p><p class="title"><a href="/2025/harmony-pc-electron/">鸿蒙 PC 编译运行 Electron 应用</a></p><p class="categories"><a href="/categories/tech/">Tech</a> / <a href="/categories/tech/harmony/">Harmony</a></p></div></article></div></div><div class="card widget" id="twikoo-new"><div class="card-content"><div class="menu"><h3 class="menu-label">最新评论</h3><script>window.twikooEnvId="https://twikoo.imaegoo.com"</script><div class="twikoo-new-container"></div></div></div></div></div><style>.column.column-left,.column.column-right{display:block}</style></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img class="logo-img" src="/images/logo.png" alt="虹墨空间站" height="28"><img class="logo-img-dark" src="/images/logo-dark.png" alt="虹墨空间站" height="28"></a><p class="is-size-7"><span>&copy; 2025 iMaeGoo</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/imaegoo/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">总访问量&nbsp;<span id="busuanzi_value_site_pv">-</span>&nbsp;次&nbsp;&nbsp;总访客数&nbsp;<span id="busuanzi_value_site_uv">-</span>&nbsp;人</span></p><p class="is-size-7"><a href="https://beian.mps.gov.cn/#/query/webSearch?code=41010502005985" rel="noreferrer" target="_blank">豫公网安备41010502005985</a>&nbsp;&nbsp;<a href="https://beian.miit.gov.cn" target="_blank" rel="noreferrer noopener">豫ICP备18017229号</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/deed.zh"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="/js/imaegoo/jquery/3.3.1/dist/jquery.min.js"></script><script src="/js/imaegoo/moment/2.22.2/min/moment-with-locales.min.js"></script><script src="https://registry.npmmirror.com/twikoo/1.6.44/files/dist/twikoo.min.js"></script><script src="/js/imaegoo/clipboard/2.0.4/dist/clipboard.min.js" defer="defer"></script><script>moment.locale("zh-cn")</script><script>var IcarusThemeSettings={article:{highlight:{clipboard:!0,fold:"unfolded"}}}</script><script data-pjax src="/js/column.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer="defer"></script><script src="/js/imaegoo/lightgallery/1.10.0/dist/js/lightgallery.min.js" defer="defer"></script><script src="/js/imaegoo/justifiedGallery/3.8.1/dist/js/jquery.justifiedGallery.min.js" defer="defer"></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><script src="/js/imaegoo/cookieconsent/3.1.1/build/cookieconsent.min.js" defer="defer"></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-right",
        content: {
          message: "此网站使用 Cookie，以启用评论系统和分析功能。",
          dismiss: "知道了",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "/cookies/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script data-pjax src="/js/main.js" defer="defer"></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><div class="searchbox-pinyin"><label class="checkbox"><input id="search-by-pinyin" type="checkbox" checked="checked"><span> 拼音检索</span></label></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/imaegoo/pinyin.js" defer="defer"></script><script src="/js/insight.js" defer="defer"></script><script>document.addEventListener("DOMContentLoaded",function(){loadInsight({contentUrl:"/content.json"},{hint:"想要查找什么...",untitled:"(无标题)",posts:"文章",pages:"页面",categories:"分类",tags:"标签"})})</script><script type="text/javascript" src="/js/imaegoo/imaegoo.js"></script><script type="text/javascript" src="/js/imaegoo/universe.js"></script></body></html>